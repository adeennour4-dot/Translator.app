var Iw=i=>{throw TypeError(i)};var Vv=(i,t,e)=>t.has(i)||Iw("Cannot "+e);var pn=(i,t,e)=>(Vv(i,t,"read from private field"),e?e.call(i):t.get(i)),ji=(i,t,e)=>t.has(i)?Iw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),Fr=(i,t,e,n)=>(Vv(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),zi=(i,t,e)=>(Vv(i,t,"access private method"),e);var Gv=(i,t,e,n)=>({set _(r){Fr(i,t,r,e)},get _(){return pn(i,t,n)}});function pP(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var U8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xv={exports:{}},Vf={},Kv={exports:{}},Dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function gP(){if(Dw)return Dn;Dw=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function A(q,I,W){this.props=q,this.context=I,this.refs=y,this.updater=W||p}A.prototype.isReactComponent={},A.prototype.setState=function(q,I){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,I,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function w(){}w.prototype=A.prototype;function C(q,I,W){this.props=q,this.context=I,this.refs=y,this.updater=W||p}var E=C.prototype=new w;E.constructor=C,v(E,A.prototype),E.isPureReactComponent=!0;var k=Array.isArray,L=Object.prototype.hasOwnProperty,R={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function j(q,I,W){var nt,lt={},dt=null,mt=null;if(I!=null)for(nt in I.ref!==void 0&&(mt=I.ref),I.key!==void 0&&(dt=""+I.key),I)L.call(I,nt)&&!M.hasOwnProperty(nt)&&(lt[nt]=I[nt]);var yt=arguments.length-2;if(yt===1)lt.children=W;else if(1<yt){for(var _t=Array(yt),Ot=0;Ot<yt;Ot++)_t[Ot]=arguments[Ot+2];lt.children=_t}if(q&&q.defaultProps)for(nt in yt=q.defaultProps,yt)lt[nt]===void 0&&(lt[nt]=yt[nt]);return{$$typeof:i,type:q,key:dt,ref:mt,props:lt,_owner:R.current}}function B(q,I){return{$$typeof:i,type:q.type,key:I,ref:q.ref,props:q.props,_owner:q._owner}}function X(q){return typeof q=="object"&&q!==null&&q.$$typeof===i}function D(q){var I={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(W){return I[W]})}var z=/\/+/g;function U(q,I){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):I.toString(36)}function Q(q,I,W,nt,lt){var dt=typeof q;(dt==="undefined"||dt==="boolean")&&(q=null);var mt=!1;if(q===null)mt=!0;else switch(dt){case"string":case"number":mt=!0;break;case"object":switch(q.$$typeof){case i:case t:mt=!0}}if(mt)return mt=q,lt=lt(mt),q=nt===""?"."+U(mt,0):nt,k(lt)?(W="",q!=null&&(W=q.replace(z,"$&/")+"/"),Q(lt,I,W,"",function(Ot){return Ot})):lt!=null&&(X(lt)&&(lt=B(lt,W+(!lt.key||mt&&mt.key===lt.key?"":(""+lt.key).replace(z,"$&/")+"/")+q)),I.push(lt)),1;if(mt=0,nt=nt===""?".":nt+":",k(q))for(var yt=0;yt<q.length;yt++){dt=q[yt];var _t=nt+U(dt,yt);mt+=Q(dt,I,W,_t,lt)}else if(_t=g(q),typeof _t=="function")for(q=_t.call(q),yt=0;!(dt=q.next()).done;)dt=dt.value,_t=nt+U(dt,yt++),mt+=Q(dt,I,W,_t,lt);else if(dt==="object")throw I=String(q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return mt}function pt(q,I,W){if(q==null)return q;var nt=[],lt=0;return Q(q,nt,"","",function(dt){return I.call(W,dt,lt++)}),nt}function Z(q){if(q._status===-1){var I=q._result;I=I(),I.then(function(W){(q._status===0||q._status===-1)&&(q._status=1,q._result=W)},function(W){(q._status===0||q._status===-1)&&(q._status=2,q._result=W)}),q._status===-1&&(q._status=0,q._result=I)}if(q._status===1)return q._result.default;throw q._result}var $={current:null},st={transition:null},rt={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:st,ReactCurrentOwner:R};function ot(){throw Error("act(...) is not supported in production builds of React.")}return Dn.Children={map:pt,forEach:function(q,I,W){pt(q,function(){I.apply(this,arguments)},W)},count:function(q){var I=0;return pt(q,function(){I++}),I},toArray:function(q){return pt(q,function(I){return I})||[]},only:function(q){if(!X(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Dn.Component=A,Dn.Fragment=e,Dn.Profiler=r,Dn.PureComponent=C,Dn.StrictMode=n,Dn.Suspense=l,Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rt,Dn.act=ot,Dn.cloneElement=function(q,I,W){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var nt=v({},q.props),lt=q.key,dt=q.ref,mt=q._owner;if(I!=null){if(I.ref!==void 0&&(dt=I.ref,mt=R.current),I.key!==void 0&&(lt=""+I.key),q.type&&q.type.defaultProps)var yt=q.type.defaultProps;for(_t in I)L.call(I,_t)&&!M.hasOwnProperty(_t)&&(nt[_t]=I[_t]===void 0&&yt!==void 0?yt[_t]:I[_t])}var _t=arguments.length-2;if(_t===1)nt.children=W;else if(1<_t){yt=Array(_t);for(var Ot=0;Ot<_t;Ot++)yt[Ot]=arguments[Ot+2];nt.children=yt}return{$$typeof:i,type:q.type,key:lt,ref:dt,props:nt,_owner:mt}},Dn.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Dn.createElement=j,Dn.createFactory=function(q){var I=j.bind(null,q);return I.type=q,I},Dn.createRef=function(){return{current:null}},Dn.forwardRef=function(q){return{$$typeof:o,render:q}},Dn.isValidElement=X,Dn.lazy=function(q){return{$$typeof:u,_payload:{_status:-1,_result:q},_init:Z}},Dn.memo=function(q,I){return{$$typeof:c,type:q,compare:I===void 0?null:I}},Dn.startTransition=function(q){var I=st.transition;st.transition={};try{q()}finally{st.transition=I}},Dn.unstable_act=ot,Dn.useCallback=function(q,I){return $.current.useCallback(q,I)},Dn.useContext=function(q){return $.current.useContext(q)},Dn.useDebugValue=function(){},Dn.useDeferredValue=function(q){return $.current.useDeferredValue(q)},Dn.useEffect=function(q,I){return $.current.useEffect(q,I)},Dn.useId=function(){return $.current.useId()},Dn.useImperativeHandle=function(q,I,W){return $.current.useImperativeHandle(q,I,W)},Dn.useInsertionEffect=function(q,I){return $.current.useInsertionEffect(q,I)},Dn.useLayoutEffect=function(q,I){return $.current.useLayoutEffect(q,I)},Dn.useMemo=function(q,I){return $.current.useMemo(q,I)},Dn.useReducer=function(q,I,W){return $.current.useReducer(q,I,W)},Dn.useRef=function(q){return $.current.useRef(q)},Dn.useState=function(q){return $.current.useState(q)},Dn.useSyncExternalStore=function(q,I,W){return $.current.useSyncExternalStore(q,I,W)},Dn.useTransition=function(){return $.current.useTransition()},Dn.version="18.3.1",Dn}var Mw;function Cb(){return Mw||(Mw=1,Kv.exports=gP()),Kv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function mP(){if(Ow)return Vf;Ow=1;var i=Cb(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},g=null,p=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)n.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:t,type:o,key:g,ref:p,props:f,_owner:r.current}}return Vf.Fragment=e,Vf.jsx=a,Vf.jsxs=a,Vf}var Bw;function vP(){return Bw||(Bw=1,Xv.exports=mP()),Xv.exports}var Ht=vP(),fe=Cb();const Ec=Eb(fe),bS=pP({__proto__:null,default:Ec},[fe]);var Kg={},Yv={exports:{}},va={},Zv={exports:{}},Jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function yP(){return jw||(jw=1,(function(i){function t(st,rt){var ot=st.length;st.push(rt);t:for(;0<ot;){var q=ot-1>>>1,I=st[q];if(0<r(I,rt))st[q]=rt,st[ot]=I,ot=q;else break t}}function e(st){return st.length===0?null:st[0]}function n(st){if(st.length===0)return null;var rt=st[0],ot=st.pop();if(ot!==rt){st[0]=ot;t:for(var q=0,I=st.length,W=I>>>1;q<W;){var nt=2*(q+1)-1,lt=st[nt],dt=nt+1,mt=st[dt];if(0>r(lt,ot))dt<I&&0>r(mt,lt)?(st[q]=mt,st[dt]=ot,q=dt):(st[q]=lt,st[nt]=ot,q=nt);else if(dt<I&&0>r(mt,ot))st[q]=mt,st[dt]=ot,q=dt;else break t}}return rt}function r(st,rt){var ot=st.sortIndex-rt.sortIndex;return ot!==0?ot:st.id-rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();i.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,g=3,p=!1,v=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(st){for(var rt=e(c);rt!==null;){if(rt.callback===null)n(c);else if(rt.startTime<=st)n(c),rt.sortIndex=rt.expirationTime,t(l,rt);else break;rt=e(c)}}function k(st){if(y=!1,E(st),!v)if(e(l)!==null)v=!0,Z(L);else{var rt=e(c);rt!==null&&$(k,rt.startTime-st)}}function L(st,rt){v=!1,y&&(y=!1,w(j),j=-1),p=!0;var ot=g;try{for(E(rt),f=e(l);f!==null&&(!(f.expirationTime>rt)||st&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var I=q(f.expirationTime<=rt);rt=i.unstable_now(),typeof I=="function"?f.callback=I:f===e(l)&&n(l),E(rt)}else n(l);f=e(l)}if(f!==null)var W=!0;else{var nt=e(c);nt!==null&&$(k,nt.startTime-rt),W=!1}return W}finally{f=null,g=ot,p=!1}}var R=!1,M=null,j=-1,B=5,X=-1;function D(){return!(i.unstable_now()-X<B)}function z(){if(M!==null){var st=i.unstable_now();X=st;var rt=!0;try{rt=M(!0,st)}finally{rt?U():(R=!1,M=null)}}else R=!1}var U;if(typeof C=="function")U=function(){C(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,pt=Q.port2;Q.port1.onmessage=z,U=function(){pt.postMessage(null)}}else U=function(){A(z,0)};function Z(st){M=st,R||(R=!0,U())}function $(st,rt){j=A(function(){st(i.unstable_now())},rt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(st){st.callback=null},i.unstable_continueExecution=function(){v||p||(v=!0,Z(L))},i.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<st?Math.floor(1e3/st):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_getFirstCallbackNode=function(){return e(l)},i.unstable_next=function(st){switch(g){case 1:case 2:case 3:var rt=3;break;default:rt=g}var ot=g;g=rt;try{return st()}finally{g=ot}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(st,rt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var ot=g;g=st;try{return rt()}finally{g=ot}},i.unstable_scheduleCallback=function(st,rt,ot){var q=i.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?q+ot:q):ot=q,st){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ot+I,st={id:u++,callback:rt,priorityLevel:st,startTime:ot,expirationTime:I,sortIndex:-1},ot>q?(st.sortIndex=ot,t(c,st),e(l)===null&&st===e(c)&&(y?(w(j),j=-1):y=!0,$(k,ot-q))):(st.sortIndex=I,t(l,st),v||p||(v=!0,Z(L))),st},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(st){var rt=g;return function(){var ot=g;g=rt;try{return st.apply(this,arguments)}finally{g=ot}}}})(Jv)),Jv}var zw;function bP(){return zw||(zw=1,Zv.exports=yP()),Zv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function wP(){if(Uw)return va;Uw=1;var i=Cb(),t=bP();function e(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function s(h,d){a(h,d),a(h+"Capture",d)}function a(h,d){for(r[h]=d,h=0;h<d.length;h++)n.add(d[h])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function g(h){return l.call(f,h)?!0:l.call(u,h)?!1:c.test(h)?f[h]=!0:(u[h]=!0,!1)}function p(h,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function v(h,d,m,x){if(d===null||typeof d>"u"||p(h,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(h,d,m,x,P,F,Y){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=P,this.mustUseProperty=m,this.propertyName=h,this.type=d,this.sanitizeURL=F,this.removeEmptyString=Y}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){A[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var d=h[0];A[d]=new y(d,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){A[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){A[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){A[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){A[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){A[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){A[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){A[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function C(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var d=h.replace(w,C);A[d]=new y(d,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var d=h.replace(w,C);A[d]=new y(d,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var d=h.replace(w,C);A[d]=new y(d,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){A[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),A.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){A[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,d,m,x){var P=A.hasOwnProperty(d)?A[d]:null;(P!==null?P.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,m,P,x)&&(m=null),x||P===null?g(d)&&(m===null?h.removeAttribute(d):h.setAttribute(d,""+m)):P.mustUseProperty?h[P.propertyName]=m===null?P.type===3?!1:"":m:(d=P.attributeName,x=P.attributeNamespace,m===null?h.removeAttribute(d):(P=P.type,m=P===3||P===4&&m===!0?"":""+m,x?h.setAttributeNS(x,d,m):h.setAttribute(d,m))))}var k=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),D=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),st=Symbol.iterator;function rt(h){return h===null||typeof h!="object"?null:(h=st&&h[st]||h["@@iterator"],typeof h=="function"?h:null)}var ot=Object.assign,q;function I(h){if(q===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+h}var W=!1;function nt(h,d){if(!h||W)return"";W=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ut){var x=Ut}Reflect.construct(h,[],d)}else{try{d.call()}catch(Ut){x=Ut}h.call(d.prototype)}else{try{throw Error()}catch(Ut){x=Ut}h()}}catch(Ut){if(Ut&&x&&typeof Ut.stack=="string"){for(var P=Ut.stack.split(`
`),F=x.stack.split(`
`),Y=P.length-1,bt=F.length-1;1<=Y&&0<=bt&&P[Y]!==F[bt];)bt--;for(;1<=Y&&0<=bt;Y--,bt--)if(P[Y]!==F[bt]){if(Y!==1||bt!==1)do if(Y--,bt--,0>bt||P[Y]!==F[bt]){var Et=`
`+P[Y].replace(" at new "," at ");return h.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",h.displayName)),Et}while(1<=Y&&0<=bt);break}}}finally{W=!1,Error.prepareStackTrace=m}return(h=h?h.displayName||h.name:"")?I(h):""}function lt(h){switch(h.tag){case 5:return I(h.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return h=nt(h.type,!1),h;case 11:return h=nt(h.type.render,!1),h;case 1:return h=nt(h.type,!0),h;default:return""}}function dt(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case M:return"Fragment";case R:return"Portal";case B:return"Profiler";case j:return"StrictMode";case U:return"Suspense";case Q:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case D:return(h.displayName||"Context")+".Consumer";case X:return(h._context.displayName||"Context")+".Provider";case z:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case pt:return d=h.displayName||null,d!==null?d:dt(h.type)||"Memo";case Z:d=h._payload,h=h._init;try{return dt(h(d))}catch{}}return null}function mt(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=d.render,h=h.displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dt(d);case 8:return d===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function yt(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function _t(h){var d=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ot(h){var d=_t(h)?"checked":"value",m=Object.getOwnPropertyDescriptor(h.constructor.prototype,d),x=""+h[d];if(!h.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var P=m.get,F=m.set;return Object.defineProperty(h,d,{configurable:!0,get:function(){return P.call(this)},set:function(Y){x=""+Y,F.call(this,Y)}}),Object.defineProperty(h,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(Y){x=""+Y},stopTracking:function(){h._valueTracker=null,delete h[d]}}}}function Xt(h){h._valueTracker||(h._valueTracker=Ot(h))}function ee(h){if(!h)return!1;var d=h._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return h&&(x=_t(h)?h.checked?"true":"false":h.value),h=x,h!==m?(d.setValue(h),!0):!1}function le(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function zt(h,d){var m=d.checked;return ot({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??h._wrapperState.initialChecked})}function vt(h,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=yt(d.value!=null?d.value:m),h._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function de(h,d){d=d.checked,d!=null&&E(h,"checked",d,!1)}function re(h,d){de(h,d);var m=yt(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+m):h.value!==""+m&&(h.value=""+m);else if(x==="submit"||x==="reset"){h.removeAttribute("value");return}d.hasOwnProperty("value")?Jt(h,d.type,m):d.hasOwnProperty("defaultValue")&&Jt(h,d.type,yt(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(h.defaultChecked=!!d.defaultChecked)}function ne(h,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+h._wrapperState.initialValue,m||d===h.value||(h.value=d),h.defaultValue=d}m=h.name,m!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,m!==""&&(h.name=m)}function Jt(h,d,m){(d!=="number"||le(h.ownerDocument)!==h)&&(m==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+m&&(h.defaultValue=""+m))}var ye=Array.isArray;function ce(h,d,m,x){if(h=h.options,d){d={};for(var P=0;P<m.length;P++)d["$"+m[P]]=!0;for(m=0;m<h.length;m++)P=d.hasOwnProperty("$"+h[m].value),h[m].selected!==P&&(h[m].selected=P),P&&x&&(h[m].defaultSelected=!0)}else{for(m=""+yt(m),d=null,P=0;P<h.length;P++){if(h[P].value===m){h[P].selected=!0,x&&(h[P].defaultSelected=!0);return}d!==null||h[P].disabled||(d=h[P])}d!==null&&(d.selected=!0)}}function Re(h,d){if(d.dangerouslySetInnerHTML!=null)throw Error(e(91));return ot({},d,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ce(h,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(e(92));if(ye(m)){if(1<m.length)throw Error(e(93));m=m[0]}d=m}d==null&&(d=""),m=d}h._wrapperState={initialValue:yt(m)}}function yn(h,d){var m=yt(d.value),x=yt(d.defaultValue);m!=null&&(m=""+m,m!==h.value&&(h.value=m),d.defaultValue==null&&h.defaultValue!==m&&(h.defaultValue=m)),x!=null&&(h.defaultValue=""+x)}function qe(h){var d=h.textContent;d===h._wrapperState.initialValue&&d!==""&&d!==null&&(h.value=d)}function Ke(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ln(h,d){return h==null||h==="http://www.w3.org/1999/xhtml"?Ke(d):h==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Ie,Ee=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,P){MSApp.execUnsafeLocalFunction(function(){return h(d,m,x,P)})}:h})(function(h,d){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=d;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ie.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;d.firstChild;)h.appendChild(d.firstChild)}});function Ue(h,d){if(d){var m=h.firstChild;if(m&&m===h.lastChild&&m.nodeType===3){m.nodeValue=d;return}}h.textContent=d}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(h){Kt.forEach(function(d){d=d+h.charAt(0).toUpperCase()+h.substring(1),tt[d]=tt[h]})});function Qt(h,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||tt.hasOwnProperty(h)&&tt[h]?(""+d).trim():d+"px"}function Yt(h,d){h=h.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,P=Qt(m,d[m],x);m==="float"&&(m="cssFloat"),x?h.setProperty(m,P):h[m]=P}}var At=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(h,d){if(d){if(At[h]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(e(137,h));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(e(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(e(61))}if(d.style!=null&&typeof d.style!="object")throw Error(e(62))}}function H(h,d){if(h.indexOf("-")===-1)return typeof d.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qt=null;function he(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var N=null,Nt=null,Lt=null;function K(h){if(h=eh(h)){if(typeof N!="function")throw Error(e(280));var d=h.stateNode;d&&(d=iu(d),N(h.stateNode,h.type,d))}}function wt(h){Nt?Lt?Lt.push(h):Lt=[h]:Nt=h}function Mt(){if(Nt){var h=Nt,d=Lt;if(Lt=Nt=null,K(h),d)for(h=0;h<d.length;h++)K(d[h])}}function xe(h,d){return h(d)}function be(){}var Ae=!1;function ve(h,d,m){if(Ae)return h(d,m);Ae=!0;try{return xe(h,d,m)}finally{Ae=!1,(Nt!==null||Lt!==null)&&(be(),Mt())}}function Rr(h,d){var m=h.stateNode;if(m===null)return null;var x=iu(m);if(x===null)return null;m=x[d];t:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(h=h.type,x=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!x;break t;default:h=!1}if(h)return null;if(m&&typeof m!="function")throw Error(e(231,d,typeof m));return m}var Bn=!1;if(o)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Bn=!1}function Xn(h,d,m,x,P,F,Y,bt,Et){var Ut=Array.prototype.slice.call(arguments,3);try{d.apply(m,Ut)}catch(oe){this.onError(oe)}}var bn=!1,Rn=null,Sr=!1,bs=null,nr={onError:function(h){bn=!0,Rn=h}};function Pr(h,d,m,x,P,F,Y,bt,Et){bn=!1,Rn=null,Xn.apply(nr,arguments)}function or(h,d,m,x,P,F,Y,bt,Et){if(Pr.apply(this,arguments),bn){if(bn){var Ut=Rn;bn=!1,Rn=null}else throw Error(e(198));Sr||(Sr=!0,bs=Ut)}}function ur(h){var d=h,m=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(m=d.return),h=d.return;while(h)}return d.tag===3?m:null}function Ir(h){if(h.tag===13){var d=h.memoizedState;if(d===null&&(h=h.alternate,h!==null&&(d=h.memoizedState)),d!==null)return d.dehydrated}return null}function Xi(h){if(ur(h)!==h)throw Error(e(188))}function Bl(h){var d=h.alternate;if(!d){if(d=ur(h),d===null)throw Error(e(188));return d!==h?null:h}for(var m=h,x=d;;){var P=m.return;if(P===null)break;var F=P.alternate;if(F===null){if(x=P.return,x!==null){m=x;continue}break}if(P.child===F.child){for(F=P.child;F;){if(F===m)return Xi(P),h;if(F===x)return Xi(P),d;F=F.sibling}throw Error(e(188))}if(m.return!==x.return)m=P,x=F;else{for(var Y=!1,bt=P.child;bt;){if(bt===m){Y=!0,m=P,x=F;break}if(bt===x){Y=!0,x=P,m=F;break}bt=bt.sibling}if(!Y){for(bt=F.child;bt;){if(bt===m){Y=!0,m=F,x=P;break}if(bt===x){Y=!0,x=F,m=P;break}bt=bt.sibling}if(!Y)throw Error(e(189))}}if(m.alternate!==x)throw Error(e(190))}if(m.tag!==3)throw Error(e(188));return m.stateNode.current===m?h:d}function Ca(h){return h=Bl(h),h!==null?il(h):null}function il(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=il(h);if(d!==null)return d;h=h.sibling}return null}var jl=t.unstable_scheduleCallback,zl=t.unstable_cancelCallback,Mc=t.unstable_shouldYield,yf=t.unstable_requestPaint,Er=t.unstable_now,Gu=t.unstable_getCurrentPriorityLevel,Oc=t.unstable_ImmediatePriority,Bs=t.unstable_UserBlockingPriority,sl=t.unstable_NormalPriority,Xu=t.unstable_LowPriority,Bc=t.unstable_IdlePriority,Ul=null,js=null;function Ku(h){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(Ul,h,void 0,(h.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:Yu,bf=Math.log,si=Math.LN2;function Yu(h){return h>>>=0,h===0?32:31-(bf(h)/si|0)|0}var Hl=64,ra=4194304;function ka(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ws(h,d){var m=h.pendingLanes;if(m===0)return 0;var x=0,P=h.suspendedLanes,F=h.pingedLanes,Y=m&268435455;if(Y!==0){var bt=Y&~P;bt!==0?x=ka(bt):(F&=Y,F!==0&&(x=ka(F)))}else Y=m&~P,Y!==0?x=ka(Y):F!==0&&(x=ka(F));if(x===0)return 0;if(d!==0&&d!==x&&(d&P)===0&&(P=x&-x,F=d&-d,P>=F||P===16&&(F&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=h.entangledLanes,d!==0)for(h=h.entanglements,d&=x;0<d;)m=31-Ki(d),P=1<<m,x|=h[m],d&=~P;return x}function ql(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(h,d){for(var m=h.suspendedLanes,x=h.pingedLanes,P=h.expirationTimes,F=h.pendingLanes;0<F;){var Y=31-Ki(F),bt=1<<Y,Et=P[Y];Et===-1?((bt&m)===0||(bt&x)!==0)&&(P[Y]=ql(bt,d)):Et<=d&&(h.expiredLanes|=bt),F&=~bt}}function Wl(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Zu(){var h=Hl;return Hl<<=1,(Hl&4194240)===0&&(Hl=64),h}function zh(h){for(var d=[],m=0;31>m;m++)d.push(h);return d}function Vl(h,d,m){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,d=31-Ki(d),h[d]=m}function Ya(h,d){var m=h.pendingLanes&~d;h.pendingLanes=d,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=d,h.mutableReadLanes&=d,h.entangledLanes&=d,d=h.entanglements;var x=h.eventTimes;for(h=h.expirationTimes;0<m;){var P=31-Ki(m),F=1<<P;d[P]=0,x[P]=-1,h[P]=-1,m&=~F}}function jc(h,d){var m=h.entangledLanes|=d;for(h=h.entanglements;m;){var x=31-Ki(m),P=1<<x;P&d|h[x]&d&&(h[x]|=d),m&=~P}}var Kn=0;function Po(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var zc,Uh,Ju,Qu,Uc,To=!1,_a=[],Za=null,As=null,ia=null,$e=new Map,Gl=new Map,Ja=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(h,d){switch(h){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":$e.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(d.pointerId)}}function zs(h,d,m,x,P,F){return h===null||h.nativeEvent!==F?(h={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:F,targetContainers:[P]},d!==null&&(d=eh(d),d!==null&&Uh(d)),h):(h.eventSystemFlags|=x,d=h.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),h)}function Lo(h,d,m,x,P){switch(d){case"focusin":return Za=zs(Za,h,d,m,x,P),!0;case"dragenter":return As=zs(As,h,d,m,x,P),!0;case"mouseover":return ia=zs(ia,h,d,m,x,P),!0;case"pointerover":var F=P.pointerId;return $e.set(F,zs($e.get(F)||null,h,d,m,x,P)),!0;case"gotpointercapture":return F=P.pointerId,Gl.set(F,zs(Gl.get(F)||null,h,d,m,x,P)),!0}return!1}function td(h){var d=gl(h.target);if(d!==null){var m=ur(d);if(m!==null){if(d=m.tag,d===13){if(d=Ir(m),d!==null){h.blockedOn=d,Uc(h.priority,function(){Ju(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){h.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Hc(h){if(h.blockedOn!==null)return!1;for(var d=h.targetContainers;0<d.length;){var m=Kl(h.domEventName,h.eventSystemFlags,d[0],h.nativeEvent);if(m===null){m=h.nativeEvent;var x=new m.constructor(m.type,m);qt=x,m.target.dispatchEvent(x),qt=null}else return d=eh(m),d!==null&&Uh(d),h.blockedOn=m,!1;d.shift()}return!0}function Xl(h,d,m){Hc(h)&&m.delete(d)}function Hh(){To=!1,Za!==null&&Hc(Za)&&(Za=null),As!==null&&Hc(As)&&(As=null),ia!==null&&Hc(ia)&&(ia=null),$e.forEach(Xl),Gl.forEach(Xl)}function Pa(h,d){h.blockedOn===d&&(h.blockedOn=null,To||(To=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hh)))}function Qa(h){function d(P){return Pa(P,h)}if(0<_a.length){Pa(_a[0],h);for(var m=1;m<_a.length;m++){var x=_a[m];x.blockedOn===h&&(x.blockedOn=null)}}for(Za!==null&&Pa(Za,h),As!==null&&Pa(As,h),ia!==null&&Pa(ia,h),$e.forEach(d),Gl.forEach(d),m=0;m<Ja.length;m++)x=Ja[m],x.blockedOn===h&&(x.blockedOn=null);for(;0<Ja.length&&(m=Ja[0],m.blockedOn===null);)td(m),m.blockedOn===null&&Ja.shift()}var Ta=k.ReactCurrentBatchConfig,qc=!0;function qh(h,d,m,x){var P=Kn,F=Ta.transition;Ta.transition=null;try{Kn=1,No(h,d,m,x)}finally{Kn=P,Ta.transition=F}}function Wh(h,d,m,x){var P=Kn,F=Ta.transition;Ta.transition=null;try{Kn=4,No(h,d,m,x)}finally{Kn=P,Ta.transition=F}}function No(h,d,m,x){if(qc){var P=Kl(h,d,m,x);if(P===null)eu(h,d,x,$a,m),$u(h,x);else if(Lo(P,h,d,m,x))x.stopPropagation();else if($u(h,x),d&4&&-1<wf.indexOf(h)){for(;P!==null;){var F=eh(P);if(F!==null&&zc(F),F=Kl(h,d,m,x),F===null&&eu(h,d,x,$a,m),F===P)break;P=F}P!==null&&x.stopPropagation()}else eu(h,d,x,null,m)}}var $a=null;function Kl(h,d,m,x){if($a=null,h=he(x),h=gl(h),h!==null)if(d=ur(h),d===null)h=null;else if(m=d.tag,m===13){if(h=Ir(d),h!==null)return h;h=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;h=null}else d!==h&&(h=null);return $a=h,null}function Yl(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gu()){case Oc:return 1;case Bs:return 4;case sl:case Xu:return 16;case Bc:return 536870912;default:return 16}default:return 16}}var sa=null,Fo=null,Zl=null;function Vh(){if(Zl)return Zl;var h,d=Fo,m=d.length,x,P="value"in sa?sa.value:sa.textContent,F=P.length;for(h=0;h<m&&d[h]===P[h];h++);var Y=m-h;for(x=1;x<=Y&&d[m-x]===P[F-x];x++);return Zl=P.slice(h,1<x?1-x:void 0)}function aa(h){var d=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&d===13&&(h=13)):h=d,h===10&&(h=13),32<=h||h===13?h:0}function oa(){return!0}function Gh(){return!1}function Yi(h){function d(m,x,P,F,Y){this._reactName=m,this._targetInst=P,this.type=x,this.nativeEvent=F,this.target=Y,this.currentTarget=null;for(var bt in h)h.hasOwnProperty(bt)&&(m=h[bt],this[bt]=m?m(F):F[bt]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?oa:Gh,this.isPropagationStopped=Gh,this}return ot(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),d}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=Yi(la),_=ot({},la,{view:0,detail:0}),G=Yi(_),gt,xt,Pt,Zt=ot({},_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Pt&&(Pt&&h.type==="mousemove"?(gt=h.screenX-Pt.screenX,xt=h.screenY-Pt.screenY):xt=gt=0,Pt=h),gt)},movementY:function(h){return"movementY"in h?h.movementY:xt}}),ie=Yi(Zt),Ne=ot({},Zt,{dataTransfer:0}),je=Yi(Ne),an=ot({},_,{relatedTarget:0}),on=Yi(an),Yn=ot({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Yi(Yn),ai=ot({},la,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),vr=Yi(ai),fi=ot({},la,{data:0}),Yr=Yi(fi),Di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(h){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(h):(h=xs[h])?!!d[h]:!1}function al(){return ed}var Jl=ot({},_,{key:function(h){if(h.key){var d=Di[h.key]||h.key;if(d!=="Unidentified")return d}return h.type==="keypress"?(h=aa(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?ca[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(h){return h.type==="keypress"?aa(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?aa(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),ol=Yi(Jl),Ql=ot({},Zt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Yi(Ql),$l=ot({},_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),Zi=Yi($l),tc=ot({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Yi(tc),Xh=ot({},Zt,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Kh=Yi(Xh),jr=[9,13,27,32],La=o&&"CompositionEvent"in window,to=null;o&&"documentMode"in document&&(to=document.documentMode);var nd=o&&"TextEvent"in window&&!to,Us=o&&(!La||to&&8<to&&11>=to),cl=" ",Vc=!1;function Gc(h,d){switch(h){case"keyup":return jr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var ha=!1;function Hs(h,d){switch(h){case"compositionend":return Ro(d);case"keypress":return d.which!==32?null:(Vc=!0,cl);case"textInput":return h=d.data,h===cl&&Vc?null:h;default:return null}}function qs(h,d){if(ha)return h==="compositionend"||!La&&Gc(h,d)?(h=Vh(),Zl=Fo=sa=null,ha=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Us&&d.locale!=="ko"?null:d.data;default:return null}}var hl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eo(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d==="input"?!!hl[h.type]:d==="textarea"}function Io(h,d,m,x){wt(x),d=od(d,"onChange"),0<d.length&&(m=new Wc("onChange","change",null,m,x),h.push({event:m,listeners:d}))}var Do=null,no=null;function Zr(h){$h(h,0)}function nc(h){var d=dc(h);if(ee(d))return h}function ro(h,d){if(h==="change")return d}var Na=!1;if(o){var rc;if(o){var ic="oninput"in document;if(!ic){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),ic=typeof Xc.oninput=="function"}rc=ic}else rc=!1;Na=rc&&(!document.documentMode||9<document.documentMode)}function Kc(){Do&&(Do.detachEvent("onpropertychange",Mo),no=Do=null)}function Mo(h){if(h.propertyName==="value"&&nc(no)){var d=[];Io(d,no,h,he(h)),ve(Zr,d)}}function ul(h,d,m){h==="focusin"?(Kc(),Do=d,no=m,Do.attachEvent("onpropertychange",Mo)):h==="focusout"&&Kc()}function dl(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return nc(no)}function sc(h,d){if(h==="click")return nc(d)}function fl(h,d){if(h==="input"||h==="change")return nc(d)}function ac(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var zr=typeof Object.is=="function"?Object.is:ac;function Ss(h,d){if(zr(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var m=Object.keys(h),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var P=m[x];if(!l.call(d,P)||!zr(h[P],d[P]))return!1}return!0}function Zn(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function lr(h,d){var m=Zn(h);h=0;for(var x;m;){if(m.nodeType===3){if(x=h+m.textContent.length,h<=d&&x>=d)return{node:m,offset:d-h};h=x}t:{for(;m;){if(m.nextSibling){m=m.nextSibling;break t}m=m.parentNode}m=void 0}m=Zn(m)}}function Ur(h,d){return h&&d?h===d?!0:h&&h.nodeType===3?!1:d&&d.nodeType===3?Ur(h,d.parentNode):"contains"in h?h.contains(d):h.compareDocumentPosition?!!(h.compareDocumentPosition(d)&16):!1:!1}function oi(){for(var h=window,d=le();d instanceof h.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)h=d.contentWindow;else break;d=le(h.document)}return d}function Fa(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d&&(d==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||d==="textarea"||h.contentEditable==="true")}function Yh(h){var d=oi(),m=h.focusedElem,x=h.selectionRange;if(d!==m&&m&&m.ownerDocument&&Ur(m.ownerDocument.documentElement,m)){if(x!==null&&Fa(m)){if(d=x.start,h=x.end,h===void 0&&(h=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(h,m.value.length);else if(h=(d=m.ownerDocument||document)&&d.defaultView||window,h.getSelection){h=h.getSelection();var P=m.textContent.length,F=Math.min(x.start,P);x=x.end===void 0?F:Math.min(x.end,P),!h.extend&&F>x&&(P=x,x=F,F=P),P=lr(m,F);var Y=lr(m,x);P&&Y&&(h.rangeCount!==1||h.anchorNode!==P.node||h.anchorOffset!==P.offset||h.focusNode!==Y.node||h.focusOffset!==Y.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),h.removeAllRanges(),F>x?(h.addRange(d),h.extend(Y.node,Y.offset)):(d.setEnd(Y.node,Y.offset),h.addRange(d)))}}for(d=[],h=m;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)h=d[m],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Yc=o&&"documentMode"in document&&11>=document.documentMode,Oo=null,rd=null,Zc=null,id=!1;function Af(h,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;id||Oo==null||Oo!==le(x)||(x=Oo,"selectionStart"in x&&Fa(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Zc&&Ss(Zc,x)||(Zc=x,x=od(rd,"onSelect"),0<x.length&&(d=new Wc("onSelect","select",null,d,m),h.push({event:d,listeners:x}),d.target=Oo)))}function Zh(h,d){var m={};return m[h.toLowerCase()]=d.toLowerCase(),m["Webkit"+h]="webkit"+d,m["Moz"+h]="moz"+d,m}var oc={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},lc={},xf={};o&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function Jh(h){if(lc[h])return lc[h];if(!oc[h])return h;var d=oc[h],m;for(m in d)if(d.hasOwnProperty(m)&&m in xf)return lc[h]=d[m];return h}var Sf=Jh("animationend"),Ef=Jh("animationiteration"),Cf=Jh("animationstart"),kf=Jh("transitionend"),_f=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(h,d){_f.set(h,d),s(d,[h])}for(var Jc=0;Jc<Pf.length;Jc++){var os=Pf[Jc],ua=os.toLowerCase(),sd=os[0].toUpperCase()+os.slice(1);io(ua,"on"+sd)}io(Sf,"onAnimationEnd"),io(Ef,"onAnimationIteration"),io(Cf,"onAnimationStart"),io("dblclick","onDoubleClick"),io("focusin","onFocus"),io("focusout","onBlur"),io(kf,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Qh(h,d,m){var x=h.type||"unknown-event";h.currentTarget=m,or(x,d,void 0,h),h.currentTarget=null}function $h(h,d){d=(d&4)!==0;for(var m=0;m<h.length;m++){var x=h[m],P=x.event;x=x.listeners;t:{var F=void 0;if(d)for(var Y=x.length-1;0<=Y;Y--){var bt=x[Y],Et=bt.instance,Ut=bt.currentTarget;if(bt=bt.listener,Et!==F&&P.isPropagationStopped())break t;Qh(P,bt,Ut),F=Et}else for(Y=0;Y<x.length;Y++){if(bt=x[Y],Et=bt.instance,Ut=bt.currentTarget,bt=bt.listener,Et!==F&&P.isPropagationStopped())break t;Qh(P,bt,Ut),F=Et}}}if(Sr)throw h=bs,Sr=!1,bs=null,h}function dr(h,d){var m=d[Cs];m===void 0&&(m=d[Cs]=new Set);var x=h+"__bubble";m.has(x)||(tu(d,h,2,!1),m.add(x))}function ad(h,d,m){var x=0;d&&(x|=4),tu(m,h,x,d)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function cc(h){if(!h[Qc]){h[Qc]=!0,n.forEach(function(m){m!=="selectionchange"&&(pg.has(m)||ad(m,!1,h),ad(m,!0,h))});var d=h.nodeType===9?h:h.ownerDocument;d===null||d[Qc]||(d[Qc]=!0,ad("selectionchange",!1,d))}}function tu(h,d,m,x){switch(Yl(d)){case 1:var P=qh;break;case 4:P=Wh;break;default:P=No}m=P.bind(null,d,m,h),P=void 0,!Bn||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),x?P!==void 0?h.addEventListener(d,m,{capture:!0,passive:P}):h.addEventListener(d,m,!0):P!==void 0?h.addEventListener(d,m,{passive:P}):h.addEventListener(d,m,!1)}function eu(h,d,m,x,P){var F=x;if((d&1)===0&&(d&2)===0&&x!==null)t:for(;;){if(x===null)return;var Y=x.tag;if(Y===3||Y===4){var bt=x.stateNode.containerInfo;if(bt===P||bt.nodeType===8&&bt.parentNode===P)break;if(Y===4)for(Y=x.return;Y!==null;){var Et=Y.tag;if((Et===3||Et===4)&&(Et=Y.stateNode.containerInfo,Et===P||Et.nodeType===8&&Et.parentNode===P))return;Y=Y.return}for(;bt!==null;){if(Y=gl(bt),Y===null)return;if(Et=Y.tag,Et===5||Et===6){x=F=Y;continue t}bt=bt.parentNode}}x=x.return}ve(function(){var Ut=F,oe=he(m),ue=[];t:{var se=_f.get(h);if(se!==void 0){var Se=Wc,De=h;switch(h){case"keypress":if(aa(m)===0)break t;case"keydown":case"keyup":Se=ol;break;case"focusin":De="focus",Se=on;break;case"focusout":De="blur",Se=on;break;case"beforeblur":case"afterblur":Se=on;break;case"click":if(m.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Zi;break;case Sf:case Ef:case Cf:Se=Dr;break;case kf:Se=ec;break;case"scroll":Se=G;break;case"wheel":Se=Kh;break;case"copy":case"cut":case"paste":Se=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=ll}var Be=(d&4)!==0,mi=!Be&&h==="scroll",It=Be?se!==null?se+"Capture":null:se;Be=[];for(var kt=Ut,jt;kt!==null;){jt=kt;var me=jt.stateNode;if(jt.tag===5&&me!==null&&(jt=me,It!==null&&(me=Rr(kt,It),me!=null&&Be.push(nu(kt,me,jt)))),mi)break;kt=kt.return}0<Be.length&&(se=new Se(se,De,null,m,oe),ue.push({event:se,listeners:Be}))}}if((d&7)===0){t:{if(se=h==="mouseover"||h==="pointerover",Se=h==="mouseout"||h==="pointerout",se&&m!==qt&&(De=m.relatedTarget||m.fromElement)&&(gl(De)||De[Ji]))break t;if((Se||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,Se?(De=m.relatedTarget||m.toElement,Se=Ut,De=De?gl(De):null,De!==null&&(mi=ur(De),De!==mi||De.tag!==5&&De.tag!==6)&&(De=null)):(Se=null,De=Ut),Se!==De)){if(Be=ie,me="onMouseLeave",It="onMouseEnter",kt="mouse",(h==="pointerout"||h==="pointerover")&&(Be=ll,me="onPointerLeave",It="onPointerEnter",kt="pointer"),mi=Se==null?se:dc(Se),jt=De==null?se:dc(De),se=new Be(me,kt+"leave",Se,m,oe),se.target=mi,se.relatedTarget=jt,me=null,gl(oe)===Ut&&(Be=new Be(It,kt+"enter",De,m,oe),Be.target=jt,Be.relatedTarget=mi,me=Be),mi=me,Se&&De)e:{for(Be=Se,It=De,kt=0,jt=Be;jt;jt=hc(jt))kt++;for(jt=0,me=It;me;me=hc(me))jt++;for(;0<kt-jt;)Be=hc(Be),kt--;for(;0<jt-kt;)It=hc(It),jt--;for(;kt--;){if(Be===It||It!==null&&Be===It.alternate)break e;Be=hc(Be),It=hc(It)}Be=null}else Be=null;Se!==null&&gg(ue,se,Se,Be,!1),De!==null&&mi!==null&&gg(ue,mi,De,Be,!0)}}t:{if(se=Ut?dc(Ut):window,Se=se.nodeName&&se.nodeName.toLowerCase(),Se==="select"||Se==="input"&&se.type==="file")var He=ro;else if(eo(se))if(Na)He=fl;else{He=dl;var Ze=ul}else(Se=se.nodeName)&&Se.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(He=sc);if(He&&(He=He(h,Ut))){Io(ue,He,m,oe);break t}Ze&&Ze(h,se,Ut),h==="focusout"&&(Ze=se._wrapperState)&&Ze.controlled&&se.type==="number"&&Jt(se,"number",se.value)}switch(Ze=Ut?dc(Ut):window,h){case"focusin":(eo(Ze)||Ze.contentEditable==="true")&&(Oo=Ze,rd=Ut,Zc=null);break;case"focusout":Zc=rd=Oo=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Af(ue,m,oe);break;case"selectionchange":if(Yc)break;case"keydown":case"keyup":Af(ue,m,oe)}var Je;if(La)t:{switch(h){case"compositionstart":var un="onCompositionStart";break t;case"compositionend":un="onCompositionEnd";break t;case"compositionupdate":un="onCompositionUpdate";break t}un=void 0}else ha?Gc(h,m)&&(un="onCompositionEnd"):h==="keydown"&&m.keyCode===229&&(un="onCompositionStart");un&&(Us&&m.locale!=="ko"&&(ha||un!=="onCompositionStart"?un==="onCompositionEnd"&&ha&&(Je=Vh()):(sa=oe,Fo="value"in sa?sa.value:sa.textContent,ha=!0)),Ze=od(Ut,un),0<Ze.length&&(un=new Yr(un,h,null,m,oe),ue.push({event:un,listeners:Ze}),Je?un.data=Je:(Je=Ro(m),Je!==null&&(un.data=Je)))),(Je=nd?Hs(h,m):qs(h,m))&&(Ut=od(Ut,"onBeforeInput"),0<Ut.length&&(oe=new Yr("onBeforeInput","beforeinput",null,m,oe),ue.push({event:oe,listeners:Ut}),oe.data=Je))}$h(ue,d)})}function nu(h,d,m){return{instance:h,listener:d,currentTarget:m}}function od(h,d){for(var m=d+"Capture",x=[];h!==null;){var P=h,F=P.stateNode;P.tag===5&&F!==null&&(P=F,F=Rr(h,m),F!=null&&x.unshift(nu(h,F,P)),F=Rr(h,d),F!=null&&x.push(nu(h,F,P))),h=h.return}return x}function hc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function gg(h,d,m,x,P){for(var F=d._reactName,Y=[];m!==null&&m!==x;){var bt=m,Et=bt.alternate,Ut=bt.stateNode;if(Et!==null&&Et===x)break;bt.tag===5&&Ut!==null&&(bt=Ut,P?(Et=Rr(m,F),Et!=null&&Y.unshift(nu(m,Et,bt))):P||(Et=Rr(m,F),Et!=null&&Y.push(nu(m,Et,bt)))),m=m.return}Y.length!==0&&h.push({event:d,listeners:Y})}var sv=/\r\n?/g,av=/\u0000|\uFFFD/g;function mg(h){return(typeof h=="string"?h:""+h).replace(sv,`
`).replace(av,"")}function ld(h,d,m){if(d=mg(d),mg(h)!==d&&m)throw Error(e(425))}function $c(){}var ru=null,uc=null;function Tf(h,d){return h==="textarea"||h==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,vg=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,ov=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(h){return yg.resolve(null).then(h).catch(lv)}:Lf;function lv(h){setTimeout(function(){throw h})}function Nf(h,d){var m=d,x=0;do{var P=m.nextSibling;if(h.removeChild(m),P&&P.nodeType===8)if(m=P.data,m==="/$"){if(x===0){h.removeChild(P),Qa(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=P}while(m);Qa(d)}function ls(h){for(;h!=null;h=h.nextSibling){var d=h.nodeType;if(d===1||d===3)break;if(d===8){if(d=h.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return h}function da(h){h=h.previousSibling;for(var d=0;h;){if(h.nodeType===8){var m=h.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return h;d--}else m==="/$"&&d++}h=h.previousSibling}return null}var Es=Math.random().toString(36).slice(2),so="__reactFiber$"+Es,th="__reactProps$"+Es,Ji="__reactContainer$"+Es,Cs="__reactEvents$"+Es,cv="__reactListeners$"+Es,hv="__reactHandles$"+Es;function gl(h){var d=h[so];if(d)return d;for(var m=h.parentNode;m;){if(d=m[Ji]||m[so]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(h=da(h);h!==null;){if(m=h[so])return m;h=da(h)}return d}h=m,m=h.parentNode}return null}function eh(h){return h=h[so]||h[Ji],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function dc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(e(33))}function iu(h){return h[th]||null}var Ff=[],Bo=-1;function Ra(h){return{current:h}}function rr(h){0>Bo||(h.current=Ff[Bo],Ff[Bo]=null,Bo--)}function cr(h,d){Bo++,Ff[Bo]=h.current,h.current=d}var ml={},Mi=Ra(ml),ks=Ra(!1),fc=ml;function nh(h,d){var m=h.type.contextTypes;if(!m)return ml;var x=h.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var P={},F;for(F in m)P[F]=d[F];return x&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=P),P}function _s(h){return h=h.childContextTypes,h!=null}function cd(){rr(ks),rr(Mi)}function bg(h,d,m){if(Mi.current!==ml)throw Error(e(168));cr(Mi,d),cr(ks,m)}function Rf(h,d,m){var x=h.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var P in x)if(!(P in d))throw Error(e(108,mt(h)||"Unknown",P));return ot({},m,x)}function pc(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||ml,fc=Mi.current,cr(Mi,h),cr(ks,ks.current),!0}function wg(h,d,m){var x=h.stateNode;if(!x)throw Error(e(169));m?(h=Rf(h,d,fc),x.__reactInternalMemoizedMergedChildContext=h,rr(ks),rr(Mi),cr(Mi,h)):rr(ks),cr(ks,m)}var jo=null,su=!1,b=!1;function S(h){jo===null?jo=[h]:jo.push(h)}function T(h){su=!0,S(h)}function O(){if(!b&&jo!==null){b=!0;var h=0,d=Kn;try{var m=jo;for(Kn=1;h<m.length;h++){var x=m[h];do x=x(!0);while(x!==null)}jo=null,su=!1}catch(P){throw jo!==null&&(jo=jo.slice(h+1)),jl(Oc,O),P}finally{Kn=d,b=!1}}return null}var V=[],J=0,et=null,it=0,at=[],ht=0,St=null,Rt=1,ut="";function Ct(h,d){V[J++]=it,V[J++]=et,et=h,it=d}function Tt(h,d,m){at[ht++]=Rt,at[ht++]=ut,at[ht++]=St,St=h;var x=Rt;h=ut;var P=32-Ki(x)-1;x&=~(1<<P),m+=1;var F=32-Ki(d)+P;if(30<F){var Y=P-P%5;F=(x&(1<<Y)-1).toString(32),x>>=Y,P-=Y,Rt=1<<32-Ki(d)+P|m<<P|x,ut=F+h}else Rt=1<<F|m<<P|x,ut=h}function Gt(h){h.return!==null&&(Ct(h,1),Tt(h,1,0))}function Dt(h){for(;h===et;)et=V[--J],V[J]=null,it=V[--J],V[J]=null;for(;h===St;)St=at[--ht],at[ht]=null,ut=at[--ht],at[ht]=null,Rt=at[--ht],at[ht]=null}var Wt=null,Vt=null,$t=!1,te=null;function ze(h,d){var m=ho(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=h,d=h.deletions,d===null?(h.deletions=[m],h.flags|=16):d.push(m)}function ke(h,d){switch(h.tag){case 5:var m=h.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(h.stateNode=d,Wt=h,Vt=ls(d.firstChild),!0):!1;case 6:return d=h.pendingProps===""||d.nodeType!==3?null:d,d!==null?(h.stateNode=d,Wt=h,Vt=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=St!==null?{id:Rt,overflow:ut}:null,h.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=ho(18,null,null,0),m.stateNode=d,m.return=h,h.child=m,Wt=h,Vt=null,!0):!1;default:return!1}}function wn(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Fe(h){if($t){var d=Vt;if(d){var m=d;if(!ke(h,d)){if(wn(h))throw Error(e(418));d=ls(m.nextSibling);var x=Wt;d&&ke(h,d)?ze(x,m):(h.flags=h.flags&-4097|2,$t=!1,Wt=h)}}else{if(wn(h))throw Error(e(418));h.flags=h.flags&-4097|2,$t=!1,Wt=h}}}function In(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Wt=h}function Hr(h){if(h!==Wt)return!1;if(!$t)return In(h),$t=!0,!1;var d;if((d=h.tag!==3)&&!(d=h.tag!==5)&&(d=h.type,d=d!=="head"&&d!=="body"&&!Tf(h.type,h.memoizedProps)),d&&(d=Vt)){if(wn(h))throw An(),Error(e(418));for(;d;)ze(h,d),d=ls(d.nextSibling)}if(In(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(e(317));t:{for(h=h.nextSibling,d=0;h;){if(h.nodeType===8){var m=h.data;if(m==="/$"){if(d===0){Vt=ls(h.nextSibling);break t}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}h=h.nextSibling}Vt=null}}else Vt=Wt?ls(h.stateNode.nextSibling):null;return!0}function An(){for(var h=Vt;h;)h=ls(h.nextSibling)}function _e(){Vt=Wt=null,$t=!1}function we(h){te===null?te=[h]:te.push(h)}var Jr=k.ReactCurrentBatchConfig;function rn(h,d,m){if(h=m.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(e(309));var x=m.stateNode}if(!x)throw Error(e(147,h));var P=x,F=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===F?d.ref:(d=function(Y){var bt=P.refs;Y===null?delete bt[F]:bt[F]=Y},d._stringRef=F,d)}if(typeof h!="string")throw Error(e(284));if(!m._owner)throw Error(e(290,h))}return h}function Fn(h,d){throw h=Object.prototype.toString.call(d),Error(e(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function yr(h){var d=h._init;return d(h._payload)}function xi(h){function d(It,kt){if(h){var jt=It.deletions;jt===null?(It.deletions=[kt],It.flags|=16):jt.push(kt)}}function m(It,kt){if(!h)return null;for(;kt!==null;)d(It,kt),kt=kt.sibling;return null}function x(It,kt){for(It=new Map;kt!==null;)kt.key!==null?It.set(kt.key,kt):It.set(kt.index,kt),kt=kt.sibling;return It}function P(It,kt){return It=dh(It,kt),It.index=0,It.sibling=null,It}function F(It,kt,jt){return It.index=jt,h?(jt=It.alternate,jt!==null?(jt=jt.index,jt<kt?(It.flags|=2,kt):jt):(It.flags|=2,kt)):(It.flags|=1048576,kt)}function Y(It){return h&&It.alternate===null&&(It.flags|=2),It}function bt(It,kt,jt,me){return kt===null||kt.tag!==6?(kt=jv(jt,It.mode,me),kt.return=It,kt):(kt=P(kt,jt),kt.return=It,kt)}function Et(It,kt,jt,me){var He=jt.type;return He===M?oe(It,kt,jt.props.children,me,jt.key):kt!==null&&(kt.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===Z&&yr(He)===kt.type)?(me=P(kt,jt.props),me.ref=rn(It,kt,jt),me.return=It,me):(me=zg(jt.type,jt.key,jt.props,null,It.mode,me),me.ref=rn(It,kt,jt),me.return=It,me)}function Ut(It,kt,jt,me){return kt===null||kt.tag!==4||kt.stateNode.containerInfo!==jt.containerInfo||kt.stateNode.implementation!==jt.implementation?(kt=zv(jt,It.mode,me),kt.return=It,kt):(kt=P(kt,jt.children||[]),kt.return=It,kt)}function oe(It,kt,jt,me,He){return kt===null||kt.tag!==7?(kt=fu(jt,It.mode,me,He),kt.return=It,kt):(kt=P(kt,jt),kt.return=It,kt)}function ue(It,kt,jt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return kt=jv(""+kt,It.mode,jt),kt.return=It,kt;if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case L:return jt=zg(kt.type,kt.key,kt.props,null,It.mode,jt),jt.ref=rn(It,null,kt),jt.return=It,jt;case R:return kt=zv(kt,It.mode,jt),kt.return=It,kt;case Z:var me=kt._init;return ue(It,me(kt._payload),jt)}if(ye(kt)||rt(kt))return kt=fu(kt,It.mode,jt,null),kt.return=It,kt;Fn(It,kt)}return null}function se(It,kt,jt,me){var He=kt!==null?kt.key:null;if(typeof jt=="string"&&jt!==""||typeof jt=="number")return He!==null?null:bt(It,kt,""+jt,me);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case L:return jt.key===He?Et(It,kt,jt,me):null;case R:return jt.key===He?Ut(It,kt,jt,me):null;case Z:return He=jt._init,se(It,kt,He(jt._payload),me)}if(ye(jt)||rt(jt))return He!==null?null:oe(It,kt,jt,me,null);Fn(It,jt)}return null}function Se(It,kt,jt,me,He){if(typeof me=="string"&&me!==""||typeof me=="number")return It=It.get(jt)||null,bt(kt,It,""+me,He);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case L:return It=It.get(me.key===null?jt:me.key)||null,Et(kt,It,me,He);case R:return It=It.get(me.key===null?jt:me.key)||null,Ut(kt,It,me,He);case Z:var Ze=me._init;return Se(It,kt,jt,Ze(me._payload),He)}if(ye(me)||rt(me))return It=It.get(jt)||null,oe(kt,It,me,He,null);Fn(kt,me)}return null}function De(It,kt,jt,me){for(var He=null,Ze=null,Je=kt,un=kt=0,ns=null;Je!==null&&un<jt.length;un++){Je.index>un?(ns=Je,Je=null):ns=Je.sibling;var er=se(It,Je,jt[un],me);if(er===null){Je===null&&(Je=ns);break}h&&Je&&er.alternate===null&&d(It,Je),kt=F(er,kt,un),Ze===null?He=er:Ze.sibling=er,Ze=er,Je=ns}if(un===jt.length)return m(It,Je),$t&&Ct(It,un),He;if(Je===null){for(;un<jt.length;un++)Je=ue(It,jt[un],me),Je!==null&&(kt=F(Je,kt,un),Ze===null?He=Je:Ze.sibling=Je,Ze=Je);return $t&&Ct(It,un),He}for(Je=x(It,Je);un<jt.length;un++)ns=Se(Je,It,un,jt[un],me),ns!==null&&(h&&ns.alternate!==null&&Je.delete(ns.key===null?un:ns.key),kt=F(ns,kt,un),Ze===null?He=ns:Ze.sibling=ns,Ze=ns);return h&&Je.forEach(function(fh){return d(It,fh)}),$t&&Ct(It,un),He}function Be(It,kt,jt,me){var He=rt(jt);if(typeof He!="function")throw Error(e(150));if(jt=He.call(jt),jt==null)throw Error(e(151));for(var Ze=He=null,Je=kt,un=kt=0,ns=null,er=jt.next();Je!==null&&!er.done;un++,er=jt.next()){Je.index>un?(ns=Je,Je=null):ns=Je.sibling;var fh=se(It,Je,er.value,me);if(fh===null){Je===null&&(Je=ns);break}h&&Je&&fh.alternate===null&&d(It,Je),kt=F(fh,kt,un),Ze===null?He=fh:Ze.sibling=fh,Ze=fh,Je=ns}if(er.done)return m(It,Je),$t&&Ct(It,un),He;if(Je===null){for(;!er.done;un++,er=jt.next())er=ue(It,er.value,me),er!==null&&(kt=F(er,kt,un),Ze===null?He=er:Ze.sibling=er,Ze=er);return $t&&Ct(It,un),He}for(Je=x(It,Je);!er.done;un++,er=jt.next())er=Se(Je,It,un,er.value,me),er!==null&&(h&&er.alternate!==null&&Je.delete(er.key===null?un:er.key),kt=F(er,kt,un),Ze===null?He=er:Ze.sibling=er,Ze=er);return h&&Je.forEach(function(fP){return d(It,fP)}),$t&&Ct(It,un),He}function mi(It,kt,jt,me){if(typeof jt=="object"&&jt!==null&&jt.type===M&&jt.key===null&&(jt=jt.props.children),typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case L:t:{for(var He=jt.key,Ze=kt;Ze!==null;){if(Ze.key===He){if(He=jt.type,He===M){if(Ze.tag===7){m(It,Ze.sibling),kt=P(Ze,jt.props.children),kt.return=It,It=kt;break t}}else if(Ze.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===Z&&yr(He)===Ze.type){m(It,Ze.sibling),kt=P(Ze,jt.props),kt.ref=rn(It,Ze,jt),kt.return=It,It=kt;break t}m(It,Ze);break}else d(It,Ze);Ze=Ze.sibling}jt.type===M?(kt=fu(jt.props.children,It.mode,me,jt.key),kt.return=It,It=kt):(me=zg(jt.type,jt.key,jt.props,null,It.mode,me),me.ref=rn(It,kt,jt),me.return=It,It=me)}return Y(It);case R:t:{for(Ze=jt.key;kt!==null;){if(kt.key===Ze)if(kt.tag===4&&kt.stateNode.containerInfo===jt.containerInfo&&kt.stateNode.implementation===jt.implementation){m(It,kt.sibling),kt=P(kt,jt.children||[]),kt.return=It,It=kt;break t}else{m(It,kt);break}else d(It,kt);kt=kt.sibling}kt=zv(jt,It.mode,me),kt.return=It,It=kt}return Y(It);case Z:return Ze=jt._init,mi(It,kt,Ze(jt._payload),me)}if(ye(jt))return De(It,kt,jt,me);if(rt(jt))return Be(It,kt,jt,me);Fn(It,jt)}return typeof jt=="string"&&jt!==""||typeof jt=="number"?(jt=""+jt,kt!==null&&kt.tag===6?(m(It,kt.sibling),kt=P(kt,jt),kt.return=It,It=kt):(m(It,kt),kt=jv(jt,It.mode,me),kt.return=It,It=kt),Y(It)):m(It,kt)}return mi}var li=xi(!0),Mr=xi(!1),pi=Ra(null),Si=null,Tr=null,On=null;function Jn(){On=Tr=Si=null}function Lr(h){var d=pi.current;rr(pi),h._currentValue=d}function Qn(h,d,m){for(;h!==null;){var x=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),h===m)break;h=h.return}}function qr(h,d){Si=h,On=Tr=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&d)!==0&&(pa=!0),h.firstContext=null)}function Wr(h){var d=h._currentValue;if(On!==h)if(h={context:h,memoizedValue:d,next:null},Tr===null){if(Si===null)throw Error(e(308));Tr=h,Si.dependencies={lanes:0,firstContext:h}}else Tr=Tr.next=h;return d}var fr=null;function Qi(h){fr===null?fr=[h]:fr.push(h)}function hr(h,d,m,x){var P=d.interleaved;return P===null?(m.next=m,Qi(d)):(m.next=P.next,P.next=m),d.interleaved=m,pr(h,x)}function pr(h,d){h.lanes|=d;var m=h.alternate;for(m!==null&&(m.lanes|=d),m=h,h=h.return;h!==null;)h.childLanes|=d,m=h.alternate,m!==null&&(m.childLanes|=d),m=h,h=h.return;return m.tag===3?m.stateNode:null}var ci=!1;function Oi(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Qr(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function $r(h,d,m){var x=h.updateQueue;if(x===null)return null;if(x=x.shared,($n&2)!==0){var P=x.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),x.pending=d,pr(h,m)}return P=x.interleaved,P===null?(d.next=d,Qi(x)):(d.next=P.next,P.next=d),x.interleaved=d,pr(h,m)}function $i(h,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=h.pendingLanes,m|=x,d.lanes=m,jc(h,m)}}function gr(h,d){var m=h.updateQueue,x=h.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var P=null,F=null;if(m=m.firstBaseUpdate,m!==null){do{var Y={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};F===null?P=F=Y:F=F.next=Y,m=m.next}while(m!==null);F===null?P=F=d:F=F.next=d}else P=F=d;m={baseState:x.baseState,firstBaseUpdate:P,lastBaseUpdate:F,shared:x.shared,effects:x.effects},h.updateQueue=m;return}h=m.lastBaseUpdate,h===null?m.firstBaseUpdate=d:h.next=d,m.lastBaseUpdate=d}function ts(h,d,m,x){var P=h.updateQueue;ci=!1;var F=P.firstBaseUpdate,Y=P.lastBaseUpdate,bt=P.shared.pending;if(bt!==null){P.shared.pending=null;var Et=bt,Ut=Et.next;Et.next=null,Y===null?F=Ut:Y.next=Ut,Y=Et;var oe=h.alternate;oe!==null&&(oe=oe.updateQueue,bt=oe.lastBaseUpdate,bt!==Y&&(bt===null?oe.firstBaseUpdate=Ut:bt.next=Ut,oe.lastBaseUpdate=Et))}if(F!==null){var ue=P.baseState;Y=0,oe=Ut=Et=null,bt=F;do{var se=bt.lane,Se=bt.eventTime;if((x&se)===se){oe!==null&&(oe=oe.next={eventTime:Se,lane:0,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null});t:{var De=h,Be=bt;switch(se=d,Se=m,Be.tag){case 1:if(De=Be.payload,typeof De=="function"){ue=De.call(Se,ue,se);break t}ue=De;break t;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,se=typeof De=="function"?De.call(Se,ue,se):De,se==null)break t;ue=ot({},ue,se);break t;case 2:ci=!0}}bt.callback!==null&&bt.lane!==0&&(h.flags|=64,se=P.effects,se===null?P.effects=[bt]:se.push(bt))}else Se={eventTime:Se,lane:se,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null},oe===null?(Ut=oe=Se,Et=ue):oe=oe.next=Se,Y|=se;if(bt=bt.next,bt===null){if(bt=P.shared.pending,bt===null)break;se=bt,bt=se.next,se.next=null,P.lastBaseUpdate=se,P.shared.pending=null}}while(!0);if(oe===null&&(Et=ue),P.baseState=Et,P.firstBaseUpdate=Ut,P.lastBaseUpdate=oe,d=P.shared.interleaved,d!==null){P=d;do Y|=P.lane,P=P.next;while(P!==d)}else F===null&&(P.shared.lanes=0);cu|=Y,h.lanes=Y,h.memoizedState=ue}}function fa(h,d,m){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var x=h[d],P=x.callback;if(P!==null){if(x.callback=null,x=m,typeof P!="function")throw Error(e(191,P));P.call(x)}}}var Ia={},Ei=Ra(Ia),ti=Ra(Ia),vl=Ra(Ia);function zo(h){if(h===Ia)throw Error(e(174));return h}function rh(h,d){switch(cr(vl,d),cr(ti,h),cr(Ei,Ia),h=d.nodeType,h){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ln(null,"");break;default:h=h===8?d.parentNode:d,d=h.namespaceURI||null,h=h.tagName,d=Ln(d,h)}rr(Ei),cr(Ei,d)}function ao(){rr(Ei),rr(ti),rr(vl)}function Ag(h){zo(vl.current);var d=zo(Ei.current),m=Ln(d,h.type);d!==m&&(cr(ti,h),cr(Ei,m))}function If(h){ti.current===h&&(rr(Ei),rr(ti))}var Cr=Ra(0);function Da(h){for(var d=h;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Df=[];function Mf(){for(var h=0;h<Df.length;h++)Df[h]._workInProgressVersionPrimary=null;Df.length=0}var hd=k.ReactCurrentDispatcher,ud=k.ReactCurrentBatchConfig,oo=0,Nr=null,hi=null,ei=null,ih=!1,Uo=!1,sh=0,uv=0;function gi(){throw Error(e(321))}function dd(h,d){if(d===null)return!1;for(var m=0;m<d.length&&m<h.length;m++)if(!zr(h[m],d[m]))return!1;return!0}function au(h,d,m,x,P,F){if(oo=F,Nr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,hd.current=h===null||h.memoizedState===null?j_:z_,h=m(x,P),Uo){F=0;do{if(Uo=!1,sh=0,25<=F)throw Error(e(301));F+=1,ei=hi=null,d.updateQueue=null,hd.current=U_,h=m(x,P)}while(Uo)}if(hd.current=kg,d=hi!==null&&hi.next!==null,oo=0,ei=hi=Nr=null,ih=!1,d)throw Error(e(300));return h}function lo(){var h=sh!==0;return sh=0,h}function Ma(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?Nr.memoizedState=ei=h:ei=ei.next=h,ei}function Ws(){if(hi===null){var h=Nr.alternate;h=h!==null?h.memoizedState:null}else h=hi.next;var d=ei===null?Nr.memoizedState:ei.next;if(d!==null)ei=d,hi=h;else{if(h===null)throw Error(e(310));hi=h,h={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},ei===null?Nr.memoizedState=ei=h:ei=ei.next=h}return ei}function ou(h,d){return typeof d=="function"?d(h):d}function fd(h){var d=Ws(),m=d.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=h;var x=hi,P=x.baseQueue,F=m.pending;if(F!==null){if(P!==null){var Y=P.next;P.next=F.next,F.next=Y}x.baseQueue=P=F,m.pending=null}if(P!==null){F=P.next,x=x.baseState;var bt=Y=null,Et=null,Ut=F;do{var oe=Ut.lane;if((oo&oe)===oe)Et!==null&&(Et=Et.next={lane:0,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),x=Ut.hasEagerState?Ut.eagerState:h(x,Ut.action);else{var ue={lane:oe,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null};Et===null?(bt=Et=ue,Y=x):Et=Et.next=ue,Nr.lanes|=oe,cu|=oe}Ut=Ut.next}while(Ut!==null&&Ut!==F);Et===null?Y=x:Et.next=bt,zr(x,d.memoizedState)||(pa=!0),d.memoizedState=x,d.baseState=Y,d.baseQueue=Et,m.lastRenderedState=x}if(h=m.interleaved,h!==null){P=h;do F=P.lane,Nr.lanes|=F,cu|=F,P=P.next;while(P!==h)}else P===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function yl(h){var d=Ws(),m=d.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=h;var x=m.dispatch,P=m.pending,F=d.memoizedState;if(P!==null){m.pending=null;var Y=P=P.next;do F=h(F,Y.action),Y=Y.next;while(Y!==P);zr(F,d.memoizedState)||(pa=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),m.lastRenderedState=F}return[F,x]}function xg(){}function Of(h,d){var m=Nr,x=Ws(),P=d(),F=!zr(x.memoizedState,P);if(F&&(x.memoizedState=P,pa=!0),x=x.queue,md(Eg.bind(null,m,x,h),[h]),x.getSnapshot!==d||F||ei!==null&&ei.memoizedState.tag&1){if(m.flags|=2048,Vs(9,Bf.bind(null,m,x,P,d),void 0,null),es===null)throw Error(e(349));(oo&30)!==0||Sg(m,d,P)}return P}function Sg(h,d,m){h.flags|=16384,h={getSnapshot:d,value:m},d=Nr.updateQueue,d===null?(d={lastEffect:null,stores:null},Nr.updateQueue=d,d.stores=[h]):(m=d.stores,m===null?d.stores=[h]:m.push(h))}function Bf(h,d,m,x){d.value=m,d.getSnapshot=x,ah(d)&&pd(h)}function Eg(h,d,m){return m(function(){ah(d)&&pd(h)})}function ah(h){var d=h.getSnapshot;h=h.value;try{var m=d();return!zr(h,m)}catch{return!0}}function pd(h){var d=pr(h,1);d!==null&&Go(d,h,1,-1)}function lu(h){var d=Ma();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:h},d.queue=h,h=h.dispatch=B_.bind(null,Nr,h),[d.memoizedState,h]}function Vs(h,d,m,x){return h={tag:h,create:d,destroy:m,deps:x,next:null},d=Nr.updateQueue,d===null?(d={lastEffect:null,stores:null},Nr.updateQueue=d,d.lastEffect=h.next=h):(m=d.lastEffect,m===null?d.lastEffect=h.next=h:(x=m.next,m.next=h,h.next=x,d.lastEffect=h)),h}function Ho(){return Ws().memoizedState}function Oa(h,d,m,x){var P=Ma();Nr.flags|=h,P.memoizedState=Vs(1|d,m,void 0,x===void 0?null:x)}function gc(h,d,m,x){var P=Ws();x=x===void 0?null:x;var F=void 0;if(hi!==null){var Y=hi.memoizedState;if(F=Y.destroy,x!==null&&dd(x,Y.deps)){P.memoizedState=Vs(d,m,F,x);return}}Nr.flags|=h,P.memoizedState=Vs(1|d,m,F,x)}function gd(h,d){return Oa(8390656,8,h,d)}function md(h,d){return gc(2048,8,h,d)}function Cg(h,d){return gc(4,2,h,d)}function vd(h,d){return gc(4,4,h,d)}function yd(h,d){if(typeof d=="function")return h=h(),d(h),function(){d(null)};if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function F2(h,d,m){return m=m!=null?m.concat([h]):null,gc(4,4,yd.bind(null,d,h),m)}function dv(){}function R2(h,d){var m=Ws();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&dd(d,x[1])?x[0]:(m.memoizedState=[h,d],h)}function I2(h,d){var m=Ws();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&dd(d,x[1])?x[0]:(h=h(),m.memoizedState=[h,d],h)}function D2(h,d,m){return(oo&21)===0?(h.baseState&&(h.baseState=!1,pa=!0),h.memoizedState=m):(zr(m,d)||(m=Zu(),Nr.lanes|=m,cu|=m,h.baseState=!0),d)}function M_(h,d){var m=Kn;Kn=m!==0&&4>m?m:4,h(!0);var x=ud.transition;ud.transition={};try{h(!1),d()}finally{Kn=m,ud.transition=x}}function M2(){return Ws().memoizedState}function O_(h,d,m){var x=hh(h);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},O2(h))B2(d,m);else if(m=hr(h,d,m,x),m!==null){var P=Xs();Go(m,h,x,P),j2(m,d,x)}}function B_(h,d,m){var x=hh(h),P={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(O2(h))B2(d,P);else{var F=h.alternate;if(h.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var Y=d.lastRenderedState,bt=F(Y,m);if(P.hasEagerState=!0,P.eagerState=bt,zr(bt,Y)){var Et=d.interleaved;Et===null?(P.next=P,Qi(d)):(P.next=Et.next,Et.next=P),d.interleaved=P;return}}catch{}finally{}m=hr(h,d,P,x),m!==null&&(P=Xs(),Go(m,h,x,P),j2(m,d,x))}}function O2(h){var d=h.alternate;return h===Nr||d!==null&&d===Nr}function B2(h,d){Uo=ih=!0;var m=h.pending;m===null?d.next=d:(d.next=m.next,m.next=d),h.pending=d}function j2(h,d,m){if((m&4194240)!==0){var x=d.lanes;x&=h.pendingLanes,m|=x,d.lanes=m,jc(h,m)}}var kg={readContext:Wr,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},j_={readContext:Wr,useCallback:function(h,d){return Ma().memoizedState=[h,d===void 0?null:d],h},useContext:Wr,useEffect:gd,useImperativeHandle:function(h,d,m){return m=m!=null?m.concat([h]):null,Oa(4194308,4,yd.bind(null,d,h),m)},useLayoutEffect:function(h,d){return Oa(4194308,4,h,d)},useInsertionEffect:function(h,d){return Oa(4,2,h,d)},useMemo:function(h,d){var m=Ma();return d=d===void 0?null:d,h=h(),m.memoizedState=[h,d],h},useReducer:function(h,d,m){var x=Ma();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},x.queue=h,h=h.dispatch=O_.bind(null,Nr,h),[x.memoizedState,h]},useRef:function(h){var d=Ma();return h={current:h},d.memoizedState=h},useState:lu,useDebugValue:dv,useDeferredValue:function(h){return Ma().memoizedState=h},useTransition:function(){var h=lu(!1),d=h[0];return h=M_.bind(null,h[1]),Ma().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,m){var x=Nr,P=Ma();if($t){if(m===void 0)throw Error(e(407));m=m()}else{if(m=d(),es===null)throw Error(e(349));(oo&30)!==0||Sg(x,d,m)}P.memoizedState=m;var F={value:m,getSnapshot:d};return P.queue=F,gd(Eg.bind(null,x,F,h),[h]),x.flags|=2048,Vs(9,Bf.bind(null,x,F,m,d),void 0,null),m},useId:function(){var h=Ma(),d=es.identifierPrefix;if($t){var m=ut,x=Rt;m=(x&~(1<<32-Ki(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=sh++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=uv++,d=":"+d+"r"+m.toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},z_={readContext:Wr,useCallback:R2,useContext:Wr,useEffect:md,useImperativeHandle:F2,useInsertionEffect:Cg,useLayoutEffect:vd,useMemo:I2,useReducer:fd,useRef:Ho,useState:function(){return fd(ou)},useDebugValue:dv,useDeferredValue:function(h){var d=Ws();return D2(d,hi.memoizedState,h)},useTransition:function(){var h=fd(ou)[0],d=Ws().memoizedState;return[h,d]},useMutableSource:xg,useSyncExternalStore:Of,useId:M2,unstable_isNewReconciler:!1},U_={readContext:Wr,useCallback:R2,useContext:Wr,useEffect:md,useImperativeHandle:F2,useInsertionEffect:Cg,useLayoutEffect:vd,useMemo:I2,useReducer:yl,useRef:Ho,useState:function(){return yl(ou)},useDebugValue:dv,useDeferredValue:function(h){var d=Ws();return hi===null?d.memoizedState=h:D2(d,hi.memoizedState,h)},useTransition:function(){var h=yl(ou)[0],d=Ws().memoizedState;return[h,d]},useMutableSource:xg,useSyncExternalStore:Of,useId:M2,unstable_isNewReconciler:!1};function qo(h,d){if(h&&h.defaultProps){d=ot({},d),h=h.defaultProps;for(var m in h)d[m]===void 0&&(d[m]=h[m]);return d}return d}function fv(h,d,m,x){d=h.memoizedState,m=m(x,d),m=m==null?d:ot({},d,m),h.memoizedState=m,h.lanes===0&&(h.updateQueue.baseState=m)}var _g={isMounted:function(h){return(h=h._reactInternals)?ur(h)===h:!1},enqueueSetState:function(h,d,m){h=h._reactInternals;var x=Xs(),P=hh(h),F=Qr(x,P);F.payload=d,m!=null&&(F.callback=m),d=$r(h,F,P),d!==null&&(Go(d,h,P,x),$i(d,h,P))},enqueueReplaceState:function(h,d,m){h=h._reactInternals;var x=Xs(),P=hh(h),F=Qr(x,P);F.tag=1,F.payload=d,m!=null&&(F.callback=m),d=$r(h,F,P),d!==null&&(Go(d,h,P,x),$i(d,h,P))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var m=Xs(),x=hh(h),P=Qr(m,x);P.tag=2,d!=null&&(P.callback=d),d=$r(h,P,x),d!==null&&(Go(d,h,x,m),$i(d,h,x))}};function z2(h,d,m,x,P,F,Y){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(x,F,Y):d.prototype&&d.prototype.isPureReactComponent?!Ss(m,x)||!Ss(P,F):!0}function U2(h,d,m){var x=!1,P=ml,F=d.contextType;return typeof F=="object"&&F!==null?F=Wr(F):(P=_s(d)?fc:Mi.current,x=d.contextTypes,F=(x=x!=null)?nh(h,P):ml),d=new d(m,F),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_g,h.stateNode=d,d._reactInternals=h,x&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=P,h.__reactInternalMemoizedMaskedChildContext=F),d}function H2(h,d,m,x){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==h&&_g.enqueueReplaceState(d,d.state,null)}function pv(h,d,m,x){var P=h.stateNode;P.props=m,P.state=h.memoizedState,P.refs={},Oi(h);var F=d.contextType;typeof F=="object"&&F!==null?P.context=Wr(F):(F=_s(d)?fc:Mi.current,P.context=nh(h,F)),P.state=h.memoizedState,F=d.getDerivedStateFromProps,typeof F=="function"&&(fv(h,d,F,m),P.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&_g.enqueueReplaceState(P,P.state,null),ts(h,m,P,x),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308)}function bd(h,d){try{var m="",x=d;do m+=lt(x),x=x.return;while(x);var P=m}catch(F){P=`
Error generating stack: `+F.message+`
`+F.stack}return{value:h,source:d,stack:P,digest:null}}function gv(h,d,m){return{value:h,source:null,stack:m??null,digest:d??null}}function mv(h,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var H_=typeof WeakMap=="function"?WeakMap:Map;function q2(h,d,m){m=Qr(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){Ig||(Ig=!0,Nv=x),mv(h,d)},m}function W2(h,d,m){m=Qr(-1,m),m.tag=3;var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var P=d.value;m.payload=function(){return x(P)},m.callback=function(){mv(h,d)}}var F=h.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(m.callback=function(){mv(h,d),typeof x!="function"&&(lh===null?lh=new Set([this]):lh.add(this));var Y=d.stack;this.componentDidCatch(d.value,{componentStack:Y!==null?Y:""})}),m}function V2(h,d,m){var x=h.pingCache;if(x===null){x=h.pingCache=new H_;var P=new Set;x.set(d,P)}else P=x.get(d),P===void 0&&(P=new Set,x.set(d,P));P.has(m)||(P.add(m),h=nP.bind(null,h,d,m),d.then(h,h))}function G2(h){do{var d;if((d=h.tag===13)&&(d=h.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return h;h=h.return}while(h!==null);return null}function X2(h,d,m,x,P){return(h.mode&1)===0?(h===d?h.flags|=65536:(h.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Qr(-1,1),d.tag=2,$r(m,d,1))),m.lanes|=1),h):(h.flags|=65536,h.lanes=P,h)}var q_=k.ReactCurrentOwner,pa=!1;function Gs(h,d,m,x){d.child=h===null?Mr(d,null,m,x):li(d,h.child,m,x)}function K2(h,d,m,x,P){m=m.render;var F=d.ref;return qr(d,P),x=au(h,d,m,x,F,P),m=lo(),h!==null&&!pa?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~P,mc(h,d,P)):($t&&m&&Gt(d),d.flags|=1,Gs(h,d,x,P),d.child)}function Y2(h,d,m,x,P){if(h===null){var F=m.type;return typeof F=="function"&&!Bv(F)&&F.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=F,Z2(h,d,F,x,P)):(h=zg(m.type,null,x,d,d.mode,P),h.ref=d.ref,h.return=d,d.child=h)}if(F=h.child,(h.lanes&P)===0){var Y=F.memoizedProps;if(m=m.compare,m=m!==null?m:Ss,m(Y,x)&&h.ref===d.ref)return mc(h,d,P)}return d.flags|=1,h=dh(F,x),h.ref=d.ref,h.return=d,d.child=h}function Z2(h,d,m,x,P){if(h!==null){var F=h.memoizedProps;if(Ss(F,x)&&h.ref===d.ref)if(pa=!1,d.pendingProps=x=F,(h.lanes&P)!==0)(h.flags&131072)!==0&&(pa=!0);else return d.lanes=h.lanes,mc(h,d,P)}return vv(h,d,m,x,P)}function J2(h,d,m){var x=d.pendingProps,P=x.children,F=h!==null?h.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(Ad,Ba),Ba|=m;else{if((m&1073741824)===0)return h=F!==null?F.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,cr(Ad,Ba),Ba|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=F!==null?F.baseLanes:m,cr(Ad,Ba),Ba|=x}else F!==null?(x=F.baseLanes|m,d.memoizedState=null):x=m,cr(Ad,Ba),Ba|=x;return Gs(h,d,P,m),d.child}function Q2(h,d){var m=d.ref;(h===null&&m!==null||h!==null&&h.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function vv(h,d,m,x,P){var F=_s(m)?fc:Mi.current;return F=nh(d,F),qr(d,P),m=au(h,d,m,x,F,P),x=lo(),h!==null&&!pa?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~P,mc(h,d,P)):($t&&x&&Gt(d),d.flags|=1,Gs(h,d,m,P),d.child)}function $2(h,d,m,x,P){if(_s(m)){var F=!0;pc(d)}else F=!1;if(qr(d,P),d.stateNode===null)Tg(h,d),U2(d,m,x),pv(d,m,x,P),x=!0;else if(h===null){var Y=d.stateNode,bt=d.memoizedProps;Y.props=bt;var Et=Y.context,Ut=m.contextType;typeof Ut=="object"&&Ut!==null?Ut=Wr(Ut):(Ut=_s(m)?fc:Mi.current,Ut=nh(d,Ut));var oe=m.getDerivedStateFromProps,ue=typeof oe=="function"||typeof Y.getSnapshotBeforeUpdate=="function";ue||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(bt!==x||Et!==Ut)&&H2(d,Y,x,Ut),ci=!1;var se=d.memoizedState;Y.state=se,ts(d,x,Y,P),Et=d.memoizedState,bt!==x||se!==Et||ks.current||ci?(typeof oe=="function"&&(fv(d,m,oe,x),Et=d.memoizedState),(bt=ci||z2(d,m,bt,x,se,Et,Ut))?(ue||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=Et),Y.props=x,Y.state=Et,Y.context=Ut,x=bt):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{Y=d.stateNode,Ps(h,d),bt=d.memoizedProps,Ut=d.type===d.elementType?bt:qo(d.type,bt),Y.props=Ut,ue=d.pendingProps,se=Y.context,Et=m.contextType,typeof Et=="object"&&Et!==null?Et=Wr(Et):(Et=_s(m)?fc:Mi.current,Et=nh(d,Et));var Se=m.getDerivedStateFromProps;(oe=typeof Se=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(bt!==ue||se!==Et)&&H2(d,Y,x,Et),ci=!1,se=d.memoizedState,Y.state=se,ts(d,x,Y,P);var De=d.memoizedState;bt!==ue||se!==De||ks.current||ci?(typeof Se=="function"&&(fv(d,m,Se,x),De=d.memoizedState),(Ut=ci||z2(d,m,Ut,x,se,De,Et)||!1)?(oe||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(x,De,Et),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(x,De,Et)),typeof Y.componentDidUpdate=="function"&&(d.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Y.componentDidUpdate!="function"||bt===h.memoizedProps&&se===h.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||bt===h.memoizedProps&&se===h.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=De),Y.props=x,Y.state=De,Y.context=Et,x=Ut):(typeof Y.componentDidUpdate!="function"||bt===h.memoizedProps&&se===h.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||bt===h.memoizedProps&&se===h.memoizedState||(d.flags|=1024),x=!1)}return yv(h,d,m,x,F,P)}function yv(h,d,m,x,P,F){Q2(h,d);var Y=(d.flags&128)!==0;if(!x&&!Y)return P&&wg(d,m,!1),mc(h,d,F);x=d.stateNode,q_.current=d;var bt=Y&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,h!==null&&Y?(d.child=li(d,h.child,null,F),d.child=li(d,null,bt,F)):Gs(h,d,bt,F),d.memoizedState=x.state,P&&wg(d,m,!0),d.child}function tw(h){var d=h.stateNode;d.pendingContext?bg(h,d.pendingContext,d.pendingContext!==d.context):d.context&&bg(h,d.context,!1),rh(h,d.containerInfo)}function ew(h,d,m,x,P){return _e(),we(P),d.flags|=256,Gs(h,d,m,x),d.child}var bv={dehydrated:null,treeContext:null,retryLane:0};function wv(h){return{baseLanes:h,cachePool:null,transitions:null}}function nw(h,d,m){var x=d.pendingProps,P=Cr.current,F=!1,Y=(d.flags&128)!==0,bt;if((bt=Y)||(bt=h!==null&&h.memoizedState===null?!1:(P&2)!==0),bt?(F=!0,d.flags&=-129):(h===null||h.memoizedState!==null)&&(P|=1),cr(Cr,P&1),h===null)return Fe(d),h=d.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((d.mode&1)===0?d.lanes=1:h.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(Y=x.children,h=x.fallback,F?(x=d.mode,F=d.child,Y={mode:"hidden",children:Y},(x&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=Y):F=Ug(Y,x,0,null),h=fu(h,x,m,null),F.return=d,h.return=d,F.sibling=h,d.child=F,d.child.memoizedState=wv(m),d.memoizedState=bv,h):Av(d,Y));if(P=h.memoizedState,P!==null&&(bt=P.dehydrated,bt!==null))return W_(h,d,Y,x,bt,P,m);if(F){F=x.fallback,Y=d.mode,P=h.child,bt=P.sibling;var Et={mode:"hidden",children:x.children};return(Y&1)===0&&d.child!==P?(x=d.child,x.childLanes=0,x.pendingProps=Et,d.deletions=null):(x=dh(P,Et),x.subtreeFlags=P.subtreeFlags&14680064),bt!==null?F=dh(bt,F):(F=fu(F,Y,m,null),F.flags|=2),F.return=d,x.return=d,x.sibling=F,d.child=x,x=F,F=d.child,Y=h.child.memoizedState,Y=Y===null?wv(m):{baseLanes:Y.baseLanes|m,cachePool:null,transitions:Y.transitions},F.memoizedState=Y,F.childLanes=h.childLanes&~m,d.memoizedState=bv,x}return F=h.child,h=F.sibling,x=dh(F,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,h!==null&&(m=d.deletions,m===null?(d.deletions=[h],d.flags|=16):m.push(h)),d.child=x,d.memoizedState=null,x}function Av(h,d){return d=Ug({mode:"visible",children:d},h.mode,0,null),d.return=h,h.child=d}function Pg(h,d,m,x){return x!==null&&we(x),li(d,h.child,null,m),h=Av(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function W_(h,d,m,x,P,F,Y){if(m)return d.flags&256?(d.flags&=-257,x=gv(Error(e(422))),Pg(h,d,Y,x)):d.memoizedState!==null?(d.child=h.child,d.flags|=128,null):(F=x.fallback,P=d.mode,x=Ug({mode:"visible",children:x.children},P,0,null),F=fu(F,P,Y,null),F.flags|=2,x.return=d,F.return=d,x.sibling=F,d.child=x,(d.mode&1)!==0&&li(d,h.child,null,Y),d.child.memoizedState=wv(Y),d.memoizedState=bv,F);if((d.mode&1)===0)return Pg(h,d,Y,null);if(P.data==="$!"){if(x=P.nextSibling&&P.nextSibling.dataset,x)var bt=x.dgst;return x=bt,F=Error(e(419)),x=gv(F,x,void 0),Pg(h,d,Y,x)}if(bt=(Y&h.childLanes)!==0,pa||bt){if(x=es,x!==null){switch(Y&-Y){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(x.suspendedLanes|Y))!==0?0:P,P!==0&&P!==F.retryLane&&(F.retryLane=P,pr(h,P),Go(x,h,P,-1))}return Ov(),x=gv(Error(e(421))),Pg(h,d,Y,x)}return P.data==="$?"?(d.flags|=128,d.child=h.child,d=rP.bind(null,h),P._reactRetry=d,null):(h=F.treeContext,Vt=ls(P.nextSibling),Wt=d,$t=!0,te=null,h!==null&&(at[ht++]=Rt,at[ht++]=ut,at[ht++]=St,Rt=h.id,ut=h.overflow,St=d),d=Av(d,x.children),d.flags|=4096,d)}function rw(h,d,m){h.lanes|=d;var x=h.alternate;x!==null&&(x.lanes|=d),Qn(h.return,d,m)}function xv(h,d,m,x,P){var F=h.memoizedState;F===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:P}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=x,F.tail=m,F.tailMode=P)}function iw(h,d,m){var x=d.pendingProps,P=x.revealOrder,F=x.tail;if(Gs(h,d,x.children,m),x=Cr.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)t:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&rw(h,m,d);else if(h.tag===19)rw(h,m,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break t;for(;h.sibling===null;){if(h.return===null||h.return===d)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}x&=1}if(cr(Cr,x),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(m=d.child,P=null;m!==null;)h=m.alternate,h!==null&&Da(h)===null&&(P=m),m=m.sibling;m=P,m===null?(P=d.child,d.child=null):(P=m.sibling,m.sibling=null),xv(d,!1,P,m,F);break;case"backwards":for(m=null,P=d.child,d.child=null;P!==null;){if(h=P.alternate,h!==null&&Da(h)===null){d.child=P;break}h=P.sibling,P.sibling=m,m=P,P=h}xv(d,!0,m,null,F);break;case"together":xv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Tg(h,d){(d.mode&1)===0&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function mc(h,d,m){if(h!==null&&(d.dependencies=h.dependencies),cu|=d.lanes,(m&d.childLanes)===0)return null;if(h!==null&&d.child!==h.child)throw Error(e(153));if(d.child!==null){for(h=d.child,m=dh(h,h.pendingProps),d.child=m,m.return=d;h.sibling!==null;)h=h.sibling,m=m.sibling=dh(h,h.pendingProps),m.return=d;m.sibling=null}return d.child}function V_(h,d,m){switch(d.tag){case 3:tw(d),_e();break;case 5:Ag(d);break;case 1:_s(d.type)&&pc(d);break;case 4:rh(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,P=d.memoizedProps.value;cr(pi,x._currentValue),x._currentValue=P;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(cr(Cr,Cr.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?nw(h,d,m):(cr(Cr,Cr.current&1),h=mc(h,d,m),h!==null?h.sibling:null);cr(Cr,Cr.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(h.flags&128)!==0){if(x)return iw(h,d,m);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),cr(Cr,Cr.current),x)break;return null;case 22:case 23:return d.lanes=0,J2(h,d,m)}return mc(h,d,m)}var sw,Sv,aw,ow;sw=function(h,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)h.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Sv=function(){},aw=function(h,d,m,x){var P=h.memoizedProps;if(P!==x){h=d.stateNode,zo(Ei.current);var F=null;switch(m){case"input":P=zt(h,P),x=zt(h,x),F=[];break;case"select":P=ot({},P,{value:void 0}),x=ot({},x,{value:void 0}),F=[];break;case"textarea":P=Re(h,P),x=Re(h,x),F=[];break;default:typeof P.onClick!="function"&&typeof x.onClick=="function"&&(h.onclick=$c)}Bt(m,x);var Y;m=null;for(Ut in P)if(!x.hasOwnProperty(Ut)&&P.hasOwnProperty(Ut)&&P[Ut]!=null)if(Ut==="style"){var bt=P[Ut];for(Y in bt)bt.hasOwnProperty(Y)&&(m||(m={}),m[Y]="")}else Ut!=="dangerouslySetInnerHTML"&&Ut!=="children"&&Ut!=="suppressContentEditableWarning"&&Ut!=="suppressHydrationWarning"&&Ut!=="autoFocus"&&(r.hasOwnProperty(Ut)?F||(F=[]):(F=F||[]).push(Ut,null));for(Ut in x){var Et=x[Ut];if(bt=P?.[Ut],x.hasOwnProperty(Ut)&&Et!==bt&&(Et!=null||bt!=null))if(Ut==="style")if(bt){for(Y in bt)!bt.hasOwnProperty(Y)||Et&&Et.hasOwnProperty(Y)||(m||(m={}),m[Y]="");for(Y in Et)Et.hasOwnProperty(Y)&&bt[Y]!==Et[Y]&&(m||(m={}),m[Y]=Et[Y])}else m||(F||(F=[]),F.push(Ut,m)),m=Et;else Ut==="dangerouslySetInnerHTML"?(Et=Et?Et.__html:void 0,bt=bt?bt.__html:void 0,Et!=null&&bt!==Et&&(F=F||[]).push(Ut,Et)):Ut==="children"?typeof Et!="string"&&typeof Et!="number"||(F=F||[]).push(Ut,""+Et):Ut!=="suppressContentEditableWarning"&&Ut!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ut)?(Et!=null&&Ut==="onScroll"&&dr("scroll",h),F||bt===Et||(F=[])):(F=F||[]).push(Ut,Et))}m&&(F=F||[]).push("style",m);var Ut=F;(d.updateQueue=Ut)&&(d.flags|=4)}},ow=function(h,d,m,x){m!==x&&(d.flags|=4)};function jf(h,d){if(!$t)switch(h.tailMode){case"hidden":d=h.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?h.tail=null:m.sibling=null;break;case"collapsed":m=h.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:x.sibling=null}}function Ts(h){var d=h.alternate!==null&&h.alternate.child===h.child,m=0,x=0;if(d)for(var P=h.child;P!==null;)m|=P.lanes|P.childLanes,x|=P.subtreeFlags&14680064,x|=P.flags&14680064,P.return=h,P=P.sibling;else for(P=h.child;P!==null;)m|=P.lanes|P.childLanes,x|=P.subtreeFlags,x|=P.flags,P.return=h,P=P.sibling;return h.subtreeFlags|=x,h.childLanes=m,d}function G_(h,d,m){var x=d.pendingProps;switch(Dt(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(d),null;case 1:return _s(d.type)&&cd(),Ts(d),null;case 3:return x=d.stateNode,ao(),rr(ks),rr(Mi),Mf(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(h===null||h.child===null)&&(Hr(d)?d.flags|=4:h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,te!==null&&(Iv(te),te=null))),Sv(h,d),Ts(d),null;case 5:If(d);var P=zo(vl.current);if(m=d.type,h!==null&&d.stateNode!=null)aw(h,d,m,x,P),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(e(166));return Ts(d),null}if(h=zo(Ei.current),Hr(d)){x=d.stateNode,m=d.type;var F=d.memoizedProps;switch(x[so]=d,x[th]=F,h=(d.mode&1)!==0,m){case"dialog":dr("cancel",x),dr("close",x);break;case"iframe":case"object":case"embed":dr("load",x);break;case"video":case"audio":for(P=0;P<pl.length;P++)dr(pl[P],x);break;case"source":dr("error",x);break;case"img":case"image":case"link":dr("error",x),dr("load",x);break;case"details":dr("toggle",x);break;case"input":vt(x,F),dr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!F.multiple},dr("invalid",x);break;case"textarea":Ce(x,F),dr("invalid",x)}Bt(m,F),P=null;for(var Y in F)if(F.hasOwnProperty(Y)){var bt=F[Y];Y==="children"?typeof bt=="string"?x.textContent!==bt&&(F.suppressHydrationWarning!==!0&&ld(x.textContent,bt,h),P=["children",bt]):typeof bt=="number"&&x.textContent!==""+bt&&(F.suppressHydrationWarning!==!0&&ld(x.textContent,bt,h),P=["children",""+bt]):r.hasOwnProperty(Y)&&bt!=null&&Y==="onScroll"&&dr("scroll",x)}switch(m){case"input":Xt(x),ne(x,F,!0);break;case"textarea":Xt(x),qe(x);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(x.onclick=$c)}x=P,d.updateQueue=x,x!==null&&(d.flags|=4)}else{Y=P.nodeType===9?P:P.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ke(m)),h==="http://www.w3.org/1999/xhtml"?m==="script"?(h=Y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof x.is=="string"?h=Y.createElement(m,{is:x.is}):(h=Y.createElement(m),m==="select"&&(Y=h,x.multiple?Y.multiple=!0:x.size&&(Y.size=x.size))):h=Y.createElementNS(h,m),h[so]=d,h[th]=x,sw(h,d,!1,!1),d.stateNode=h;t:{switch(Y=H(m,x),m){case"dialog":dr("cancel",h),dr("close",h),P=x;break;case"iframe":case"object":case"embed":dr("load",h),P=x;break;case"video":case"audio":for(P=0;P<pl.length;P++)dr(pl[P],h);P=x;break;case"source":dr("error",h),P=x;break;case"img":case"image":case"link":dr("error",h),dr("load",h),P=x;break;case"details":dr("toggle",h),P=x;break;case"input":vt(h,x),P=zt(h,x),dr("invalid",h);break;case"option":P=x;break;case"select":h._wrapperState={wasMultiple:!!x.multiple},P=ot({},x,{value:void 0}),dr("invalid",h);break;case"textarea":Ce(h,x),P=Re(h,x),dr("invalid",h);break;default:P=x}Bt(m,P),bt=P;for(F in bt)if(bt.hasOwnProperty(F)){var Et=bt[F];F==="style"?Yt(h,Et):F==="dangerouslySetInnerHTML"?(Et=Et?Et.__html:void 0,Et!=null&&Ee(h,Et)):F==="children"?typeof Et=="string"?(m!=="textarea"||Et!=="")&&Ue(h,Et):typeof Et=="number"&&Ue(h,""+Et):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(r.hasOwnProperty(F)?Et!=null&&F==="onScroll"&&dr("scroll",h):Et!=null&&E(h,F,Et,Y))}switch(m){case"input":Xt(h),ne(h,x,!1);break;case"textarea":Xt(h),qe(h);break;case"option":x.value!=null&&h.setAttribute("value",""+yt(x.value));break;case"select":h.multiple=!!x.multiple,F=x.value,F!=null?ce(h,!!x.multiple,F,!1):x.defaultValue!=null&&ce(h,!!x.multiple,x.defaultValue,!0);break;default:typeof P.onClick=="function"&&(h.onclick=$c)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break t;case"img":x=!0;break t;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Ts(d),null;case 6:if(h&&d.stateNode!=null)ow(h,d,h.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(e(166));if(m=zo(vl.current),zo(Ei.current),Hr(d)){if(x=d.stateNode,m=d.memoizedProps,x[so]=d,(F=x.nodeValue!==m)&&(h=Wt,h!==null))switch(h.tag){case 3:ld(x.nodeValue,m,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&ld(x.nodeValue,m,(h.mode&1)!==0)}F&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[so]=d,d.stateNode=x}return Ts(d),null;case 13:if(rr(Cr),x=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if($t&&Vt!==null&&(d.mode&1)!==0&&(d.flags&128)===0)An(),_e(),d.flags|=98560,F=!1;else if(F=Hr(d),x!==null&&x.dehydrated!==null){if(h===null){if(!F)throw Error(e(318));if(F=d.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(e(317));F[so]=d}else _e(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ts(d),F=!1}else te!==null&&(Iv(te),te=null),F=!0;if(!F)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(h!==null&&h.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(h===null||(Cr.current&1)!==0?Bi===0&&(Bi=3):Ov())),d.updateQueue!==null&&(d.flags|=4),Ts(d),null);case 4:return ao(),Sv(h,d),h===null&&cc(d.stateNode.containerInfo),Ts(d),null;case 10:return Lr(d.type._context),Ts(d),null;case 17:return _s(d.type)&&cd(),Ts(d),null;case 19:if(rr(Cr),F=d.memoizedState,F===null)return Ts(d),null;if(x=(d.flags&128)!==0,Y=F.rendering,Y===null)if(x)jf(F,!1);else{if(Bi!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(Y=Da(h),Y!==null){for(d.flags|=128,jf(F,!1),x=Y.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)F=m,h=x,F.flags&=14680066,Y=F.alternate,Y===null?(F.childLanes=0,F.lanes=h,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=Y.childLanes,F.lanes=Y.lanes,F.child=Y.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=Y.memoizedProps,F.memoizedState=Y.memoizedState,F.updateQueue=Y.updateQueue,F.type=Y.type,h=Y.dependencies,F.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),m=m.sibling;return cr(Cr,Cr.current&1|2),d.child}h=h.sibling}F.tail!==null&&Er()>xd&&(d.flags|=128,x=!0,jf(F,!1),d.lanes=4194304)}else{if(!x)if(h=Da(Y),h!==null){if(d.flags|=128,x=!0,m=h.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),jf(F,!0),F.tail===null&&F.tailMode==="hidden"&&!Y.alternate&&!$t)return Ts(d),null}else 2*Er()-F.renderingStartTime>xd&&m!==1073741824&&(d.flags|=128,x=!0,jf(F,!1),d.lanes=4194304);F.isBackwards?(Y.sibling=d.child,d.child=Y):(m=F.last,m!==null?m.sibling=Y:d.child=Y,F.last=Y)}return F.tail!==null?(d=F.tail,F.rendering=d,F.tail=d.sibling,F.renderingStartTime=Er(),d.sibling=null,m=Cr.current,cr(Cr,x?m&1|2:m&1),d):(Ts(d),null);case 22:case 23:return Mv(),x=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(Ba&1073741824)!==0&&(Ts(d),d.subtreeFlags&6&&(d.flags|=8192)):Ts(d),null;case 24:return null;case 25:return null}throw Error(e(156,d.tag))}function X_(h,d){switch(Dt(d),d.tag){case 1:return _s(d.type)&&cd(),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return ao(),rr(ks),rr(Mi),Mf(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 5:return If(d),null;case 13:if(rr(Cr),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(e(340));_e()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return rr(Cr),null;case 4:return ao(),null;case 10:return Lr(d.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Lg=!1,Ls=!1,K_=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function wd(h,d){var m=h.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){ui(h,d,x)}else m.current=null}function Ev(h,d,m){try{m()}catch(x){ui(h,d,x)}}var lw=!1;function Y_(h,d){if(ru=qc,h=oi(),Fa(h)){if("selectionStart"in h)var m={start:h.selectionStart,end:h.selectionEnd};else t:{m=(m=h.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var P=x.anchorOffset,F=x.focusNode;x=x.focusOffset;try{m.nodeType,F.nodeType}catch{m=null;break t}var Y=0,bt=-1,Et=-1,Ut=0,oe=0,ue=h,se=null;e:for(;;){for(var Se;ue!==m||P!==0&&ue.nodeType!==3||(bt=Y+P),ue!==F||x!==0&&ue.nodeType!==3||(Et=Y+x),ue.nodeType===3&&(Y+=ue.nodeValue.length),(Se=ue.firstChild)!==null;)se=ue,ue=Se;for(;;){if(ue===h)break e;if(se===m&&++Ut===P&&(bt=Y),se===F&&++oe===x&&(Et=Y),(Se=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=Se}m=bt===-1||Et===-1?null:{start:bt,end:Et}}else m=null}m=m||{start:0,end:0}}else m=null;for(uc={focusedElem:h,selectionRange:m},qc=!1,Pe=d;Pe!==null;)if(d=Pe,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Pe=h;else for(;Pe!==null;){d=Pe;try{var De=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Be=De.memoizedProps,mi=De.memoizedState,It=d.stateNode,kt=It.getSnapshotBeforeUpdate(d.elementType===d.type?Be:qo(d.type,Be),mi);It.__reactInternalSnapshotBeforeUpdate=kt}break;case 3:var jt=d.stateNode.containerInfo;jt.nodeType===1?jt.textContent="":jt.nodeType===9&&jt.documentElement&&jt.removeChild(jt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(me){ui(d,d.return,me)}if(h=d.sibling,h!==null){h.return=d.return,Pe=h;break}Pe=d.return}return De=lw,lw=!1,De}function zf(h,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var P=x=x.next;do{if((P.tag&h)===h){var F=P.destroy;P.destroy=void 0,F!==void 0&&Ev(d,m,F)}P=P.next}while(P!==x)}}function Ng(h,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&h)===h){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function Cv(h){var d=h.ref;if(d!==null){var m=h.stateNode;switch(h.tag){case 5:h=m;break;default:h=m}typeof d=="function"?d(h):d.current=h}}function cw(h){var d=h.alternate;d!==null&&(h.alternate=null,cw(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&(delete d[so],delete d[th],delete d[Cs],delete d[cv],delete d[hv])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function hw(h){return h.tag===5||h.tag===3||h.tag===4}function uw(h){t:for(;;){for(;h.sibling===null;){if(h.return===null||hw(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function kv(h,d,m){var x=h.tag;if(x===5||x===6)h=h.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(h,d):m.insertBefore(h,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(h,m)):(d=m,d.appendChild(h)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=$c));else if(x!==4&&(h=h.child,h!==null))for(kv(h,d,m),h=h.sibling;h!==null;)kv(h,d,m),h=h.sibling}function _v(h,d,m){var x=h.tag;if(x===5||x===6)h=h.stateNode,d?m.insertBefore(h,d):m.appendChild(h);else if(x!==4&&(h=h.child,h!==null))for(_v(h,d,m),h=h.sibling;h!==null;)_v(h,d,m),h=h.sibling}var cs=null,Wo=!1;function oh(h,d,m){for(m=m.child;m!==null;)dw(h,d,m),m=m.sibling}function dw(h,d,m){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(Ul,m)}catch{}switch(m.tag){case 5:Ls||wd(m,d);case 6:var x=cs,P=Wo;cs=null,oh(h,d,m),cs=x,Wo=P,cs!==null&&(Wo?(h=cs,m=m.stateNode,h.nodeType===8?h.parentNode.removeChild(m):h.removeChild(m)):cs.removeChild(m.stateNode));break;case 18:cs!==null&&(Wo?(h=cs,m=m.stateNode,h.nodeType===8?Nf(h.parentNode,m):h.nodeType===1&&Nf(h,m),Qa(h)):Nf(cs,m.stateNode));break;case 4:x=cs,P=Wo,cs=m.stateNode.containerInfo,Wo=!0,oh(h,d,m),cs=x,Wo=P;break;case 0:case 11:case 14:case 15:if(!Ls&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){P=x=x.next;do{var F=P,Y=F.destroy;F=F.tag,Y!==void 0&&((F&2)!==0||(F&4)!==0)&&Ev(m,d,Y),P=P.next}while(P!==x)}oh(h,d,m);break;case 1:if(!Ls&&(wd(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(bt){ui(m,d,bt)}oh(h,d,m);break;case 21:oh(h,d,m);break;case 22:m.mode&1?(Ls=(x=Ls)||m.memoizedState!==null,oh(h,d,m),Ls=x):oh(h,d,m);break;default:oh(h,d,m)}}function fw(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var m=h.stateNode;m===null&&(m=h.stateNode=new K_),d.forEach(function(x){var P=iP.bind(null,h,x);m.has(x)||(m.add(x),x.then(P,P))})}}function Vo(h,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var P=m[x];try{var F=h,Y=d,bt=Y;t:for(;bt!==null;){switch(bt.tag){case 5:cs=bt.stateNode,Wo=!1;break t;case 3:cs=bt.stateNode.containerInfo,Wo=!0;break t;case 4:cs=bt.stateNode.containerInfo,Wo=!0;break t}bt=bt.return}if(cs===null)throw Error(e(160));dw(F,Y,P),cs=null,Wo=!1;var Et=P.alternate;Et!==null&&(Et.return=null),P.return=null}catch(Ut){ui(P,d,Ut)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)pw(d,h),d=d.sibling}function pw(h,d){var m=h.alternate,x=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Vo(d,h),bl(h),x&4){try{zf(3,h,h.return),Ng(3,h)}catch(Be){ui(h,h.return,Be)}try{zf(5,h,h.return)}catch(Be){ui(h,h.return,Be)}}break;case 1:Vo(d,h),bl(h),x&512&&m!==null&&wd(m,m.return);break;case 5:if(Vo(d,h),bl(h),x&512&&m!==null&&wd(m,m.return),h.flags&32){var P=h.stateNode;try{Ue(P,"")}catch(Be){ui(h,h.return,Be)}}if(x&4&&(P=h.stateNode,P!=null)){var F=h.memoizedProps,Y=m!==null?m.memoizedProps:F,bt=h.type,Et=h.updateQueue;if(h.updateQueue=null,Et!==null)try{bt==="input"&&F.type==="radio"&&F.name!=null&&de(P,F),H(bt,Y);var Ut=H(bt,F);for(Y=0;Y<Et.length;Y+=2){var oe=Et[Y],ue=Et[Y+1];oe==="style"?Yt(P,ue):oe==="dangerouslySetInnerHTML"?Ee(P,ue):oe==="children"?Ue(P,ue):E(P,oe,ue,Ut)}switch(bt){case"input":re(P,F);break;case"textarea":yn(P,F);break;case"select":var se=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!F.multiple;var Se=F.value;Se!=null?ce(P,!!F.multiple,Se,!1):se!==!!F.multiple&&(F.defaultValue!=null?ce(P,!!F.multiple,F.defaultValue,!0):ce(P,!!F.multiple,F.multiple?[]:"",!1))}P[th]=F}catch(Be){ui(h,h.return,Be)}}break;case 6:if(Vo(d,h),bl(h),x&4){if(h.stateNode===null)throw Error(e(162));P=h.stateNode,F=h.memoizedProps;try{P.nodeValue=F}catch(Be){ui(h,h.return,Be)}}break;case 3:if(Vo(d,h),bl(h),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Qa(d.containerInfo)}catch(Be){ui(h,h.return,Be)}break;case 4:Vo(d,h),bl(h);break;case 13:Vo(d,h),bl(h),P=h.child,P.flags&8192&&(F=P.memoizedState!==null,P.stateNode.isHidden=F,!F||P.alternate!==null&&P.alternate.memoizedState!==null||(Lv=Er())),x&4&&fw(h);break;case 22:if(oe=m!==null&&m.memoizedState!==null,h.mode&1?(Ls=(Ut=Ls)||oe,Vo(d,h),Ls=Ut):Vo(d,h),bl(h),x&8192){if(Ut=h.memoizedState!==null,(h.stateNode.isHidden=Ut)&&!oe&&(h.mode&1)!==0)for(Pe=h,oe=h.child;oe!==null;){for(ue=Pe=oe;Pe!==null;){switch(se=Pe,Se=se.child,se.tag){case 0:case 11:case 14:case 15:zf(4,se,se.return);break;case 1:wd(se,se.return);var De=se.stateNode;if(typeof De.componentWillUnmount=="function"){x=se,m=se.return;try{d=x,De.props=d.memoizedProps,De.state=d.memoizedState,De.componentWillUnmount()}catch(Be){ui(x,m,Be)}}break;case 5:wd(se,se.return);break;case 22:if(se.memoizedState!==null){vw(ue);continue}}Se!==null?(Se.return=se,Pe=Se):vw(ue)}oe=oe.sibling}t:for(oe=null,ue=h;;){if(ue.tag===5){if(oe===null){oe=ue;try{P=ue.stateNode,Ut?(F=P.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(bt=ue.stateNode,Et=ue.memoizedProps.style,Y=Et!=null&&Et.hasOwnProperty("display")?Et.display:null,bt.style.display=Qt("display",Y))}catch(Be){ui(h,h.return,Be)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=Ut?"":ue.memoizedProps}catch(Be){ui(h,h.return,Be)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===h)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===h)break t;for(;ue.sibling===null;){if(ue.return===null||ue.return===h)break t;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Vo(d,h),bl(h),x&4&&fw(h);break;case 21:break;default:Vo(d,h),bl(h)}}function bl(h){var d=h.flags;if(d&2){try{t:{for(var m=h.return;m!==null;){if(hw(m)){var x=m;break t}m=m.return}throw Error(e(160))}switch(x.tag){case 5:var P=x.stateNode;x.flags&32&&(Ue(P,""),x.flags&=-33);var F=uw(h);_v(h,F,P);break;case 3:case 4:var Y=x.stateNode.containerInfo,bt=uw(h);kv(h,bt,Y);break;default:throw Error(e(161))}}catch(Et){ui(h,h.return,Et)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Z_(h,d,m){Pe=h,gw(h)}function gw(h,d,m){for(var x=(h.mode&1)!==0;Pe!==null;){var P=Pe,F=P.child;if(P.tag===22&&x){var Y=P.memoizedState!==null||Lg;if(!Y){var bt=P.alternate,Et=bt!==null&&bt.memoizedState!==null||Ls;bt=Lg;var Ut=Ls;if(Lg=Y,(Ls=Et)&&!Ut)for(Pe=P;Pe!==null;)Y=Pe,Et=Y.child,Y.tag===22&&Y.memoizedState!==null?yw(P):Et!==null?(Et.return=Y,Pe=Et):yw(P);for(;F!==null;)Pe=F,gw(F),F=F.sibling;Pe=P,Lg=bt,Ls=Ut}mw(h)}else(P.subtreeFlags&8772)!==0&&F!==null?(F.return=P,Pe=F):mw(h)}}function mw(h){for(;Pe!==null;){var d=Pe;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Ls||Ng(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!Ls)if(m===null)x.componentDidMount();else{var P=d.elementType===d.type?m.memoizedProps:qo(d.type,m.memoizedProps);x.componentDidUpdate(P,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var F=d.updateQueue;F!==null&&fa(d,F,x);break;case 3:var Y=d.updateQueue;if(Y!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}fa(d,Y,m)}break;case 5:var bt=d.stateNode;if(m===null&&d.flags&4){m=bt;var Et=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Et.autoFocus&&m.focus();break;case"img":Et.src&&(m.src=Et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ut=d.alternate;if(Ut!==null){var oe=Ut.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&Qa(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Ls||d.flags&512&&Cv(d)}catch(se){ui(d,d.return,se)}}if(d===h){Pe=null;break}if(m=d.sibling,m!==null){m.return=d.return,Pe=m;break}Pe=d.return}}function vw(h){for(;Pe!==null;){var d=Pe;if(d===h){Pe=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Pe=m;break}Pe=d.return}}function yw(h){for(;Pe!==null;){var d=Pe;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Ng(4,d)}catch(Et){ui(d,m,Et)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var P=d.return;try{x.componentDidMount()}catch(Et){ui(d,P,Et)}}var F=d.return;try{Cv(d)}catch(Et){ui(d,F,Et)}break;case 5:var Y=d.return;try{Cv(d)}catch(Et){ui(d,Y,Et)}}}catch(Et){ui(d,d.return,Et)}if(d===h){Pe=null;break}var bt=d.sibling;if(bt!==null){bt.return=d.return,Pe=bt;break}Pe=d.return}}var J_=Math.ceil,Fg=k.ReactCurrentDispatcher,Pv=k.ReactCurrentOwner,co=k.ReactCurrentBatchConfig,$n=0,es=null,Ci=null,hs=0,Ba=0,Ad=Ra(0),Bi=0,Uf=null,cu=0,Rg=0,Tv=0,Hf=null,ga=null,Lv=0,xd=1/0,vc=null,Ig=!1,Nv=null,lh=null,Dg=!1,ch=null,Mg=0,qf=0,Fv=null,Og=-1,Bg=0;function Xs(){return($n&6)!==0?Er():Og!==-1?Og:Og=Er()}function hh(h){return(h.mode&1)===0?1:($n&2)!==0&&hs!==0?hs&-hs:Jr.transition!==null?(Bg===0&&(Bg=Zu()),Bg):(h=Kn,h!==0||(h=window.event,h=h===void 0?16:Yl(h.type)),h)}function Go(h,d,m,x){if(50<qf)throw qf=0,Fv=null,Error(e(185));Vl(h,m,x),(($n&2)===0||h!==es)&&(h===es&&(($n&2)===0&&(Rg|=m),Bi===4&&uh(h,hs)),ma(h,x),m===1&&$n===0&&(d.mode&1)===0&&(xd=Er()+500,su&&O()))}function ma(h,d){var m=h.callbackNode;Kr(h,d);var x=ws(h,h===es?hs:0);if(x===0)m!==null&&zl(m),h.callbackNode=null,h.callbackPriority=0;else if(d=x&-x,h.callbackPriority!==d){if(m!=null&&zl(m),d===1)h.tag===0?T(ww.bind(null,h)):S(ww.bind(null,h)),ov(function(){($n&6)===0&&O()}),m=null;else{switch(Po(x)){case 1:m=Oc;break;case 4:m=Bs;break;case 16:m=sl;break;case 536870912:m=Bc;break;default:m=sl}m=Pw(m,bw.bind(null,h))}h.callbackPriority=d,h.callbackNode=m}}function bw(h,d){if(Og=-1,Bg=0,($n&6)!==0)throw Error(e(327));var m=h.callbackNode;if(Sd()&&h.callbackNode!==m)return null;var x=ws(h,h===es?hs:0);if(x===0)return null;if((x&30)!==0||(x&h.expiredLanes)!==0||d)d=jg(h,x);else{d=x;var P=$n;$n|=2;var F=xw();(es!==h||hs!==d)&&(vc=null,xd=Er()+500,uu(h,d));do try{tP();break}catch(bt){Aw(h,bt)}while(!0);Jn(),Fg.current=F,$n=P,Ci!==null?d=0:(es=null,hs=0,d=Bi)}if(d!==0){if(d===2&&(P=Wl(h),P!==0&&(x=P,d=Rv(h,P))),d===1)throw m=Uf,uu(h,0),uh(h,x),ma(h,Er()),m;if(d===6)uh(h,x);else{if(P=h.current.alternate,(x&30)===0&&!Q_(P)&&(d=jg(h,x),d===2&&(F=Wl(h),F!==0&&(x=F,d=Rv(h,F))),d===1))throw m=Uf,uu(h,0),uh(h,x),ma(h,Er()),m;switch(h.finishedWork=P,h.finishedLanes=x,d){case 0:case 1:throw Error(e(345));case 2:du(h,ga,vc);break;case 3:if(uh(h,x),(x&130023424)===x&&(d=Lv+500-Er(),10<d)){if(ws(h,0)!==0)break;if(P=h.suspendedLanes,(P&x)!==x){Xs(),h.pingedLanes|=h.suspendedLanes&P;break}h.timeoutHandle=Lf(du.bind(null,h,ga,vc),d);break}du(h,ga,vc);break;case 4:if(uh(h,x),(x&4194240)===x)break;for(d=h.eventTimes,P=-1;0<x;){var Y=31-Ki(x);F=1<<Y,Y=d[Y],Y>P&&(P=Y),x&=~F}if(x=P,x=Er()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*J_(x/1960))-x,10<x){h.timeoutHandle=Lf(du.bind(null,h,ga,vc),x);break}du(h,ga,vc);break;case 5:du(h,ga,vc);break;default:throw Error(e(329))}}}return ma(h,Er()),h.callbackNode===m?bw.bind(null,h):null}function Rv(h,d){var m=Hf;return h.current.memoizedState.isDehydrated&&(uu(h,d).flags|=256),h=jg(h,d),h!==2&&(d=ga,ga=m,d!==null&&Iv(d)),h}function Iv(h){ga===null?ga=h:ga.push.apply(ga,h)}function Q_(h){for(var d=h;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var P=m[x],F=P.getSnapshot;P=P.value;try{if(!zr(F(),P))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function uh(h,d){for(d&=~Tv,d&=~Rg,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var m=31-Ki(d),x=1<<m;h[m]=-1,d&=~x}}function ww(h){if(($n&6)!==0)throw Error(e(327));Sd();var d=ws(h,0);if((d&1)===0)return ma(h,Er()),null;var m=jg(h,d);if(h.tag!==0&&m===2){var x=Wl(h);x!==0&&(d=x,m=Rv(h,x))}if(m===1)throw m=Uf,uu(h,0),uh(h,d),ma(h,Er()),m;if(m===6)throw Error(e(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,du(h,ga,vc),ma(h,Er()),null}function Dv(h,d){var m=$n;$n|=1;try{return h(d)}finally{$n=m,$n===0&&(xd=Er()+500,su&&O())}}function hu(h){ch!==null&&ch.tag===0&&($n&6)===0&&Sd();var d=$n;$n|=1;var m=co.transition,x=Kn;try{if(co.transition=null,Kn=1,h)return h()}finally{Kn=x,co.transition=m,$n=d,($n&6)===0&&O()}}function Mv(){Ba=Ad.current,rr(Ad)}function uu(h,d){h.finishedWork=null,h.finishedLanes=0;var m=h.timeoutHandle;if(m!==-1&&(h.timeoutHandle=-1,vg(m)),Ci!==null)for(m=Ci.return;m!==null;){var x=m;switch(Dt(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&cd();break;case 3:ao(),rr(ks),rr(Mi),Mf();break;case 5:If(x);break;case 4:ao();break;case 13:rr(Cr);break;case 19:rr(Cr);break;case 10:Lr(x.type._context);break;case 22:case 23:Mv()}m=m.return}if(es=h,Ci=h=dh(h.current,null),hs=Ba=d,Bi=0,Uf=null,Tv=Rg=cu=0,ga=Hf=null,fr!==null){for(d=0;d<fr.length;d++)if(m=fr[d],x=m.interleaved,x!==null){m.interleaved=null;var P=x.next,F=m.pending;if(F!==null){var Y=F.next;F.next=P,x.next=Y}m.pending=x}fr=null}return h}function Aw(h,d){do{var m=Ci;try{if(Jn(),hd.current=kg,ih){for(var x=Nr.memoizedState;x!==null;){var P=x.queue;P!==null&&(P.pending=null),x=x.next}ih=!1}if(oo=0,ei=hi=Nr=null,Uo=!1,sh=0,Pv.current=null,m===null||m.return===null){Bi=1,Uf=d,Ci=null;break}t:{var F=h,Y=m.return,bt=m,Et=d;if(d=hs,bt.flags|=32768,Et!==null&&typeof Et=="object"&&typeof Et.then=="function"){var Ut=Et,oe=bt,ue=oe.tag;if((oe.mode&1)===0&&(ue===0||ue===11||ue===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var Se=G2(Y);if(Se!==null){Se.flags&=-257,X2(Se,Y,bt,F,d),Se.mode&1&&V2(F,Ut,d),d=Se,Et=Ut;var De=d.updateQueue;if(De===null){var Be=new Set;Be.add(Et),d.updateQueue=Be}else De.add(Et);break t}else{if((d&1)===0){V2(F,Ut,d),Ov();break t}Et=Error(e(426))}}else if($t&&bt.mode&1){var mi=G2(Y);if(mi!==null){(mi.flags&65536)===0&&(mi.flags|=256),X2(mi,Y,bt,F,d),we(bd(Et,bt));break t}}F=Et=bd(Et,bt),Bi!==4&&(Bi=2),Hf===null?Hf=[F]:Hf.push(F),F=Y;do{switch(F.tag){case 3:F.flags|=65536,d&=-d,F.lanes|=d;var It=q2(F,Et,d);gr(F,It);break t;case 1:bt=Et;var kt=F.type,jt=F.stateNode;if((F.flags&128)===0&&(typeof kt.getDerivedStateFromError=="function"||jt!==null&&typeof jt.componentDidCatch=="function"&&(lh===null||!lh.has(jt)))){F.flags|=65536,d&=-d,F.lanes|=d;var me=W2(F,bt,d);gr(F,me);break t}}F=F.return}while(F!==null)}Ew(m)}catch(He){d=He,Ci===m&&m!==null&&(Ci=m=m.return);continue}break}while(!0)}function xw(){var h=Fg.current;return Fg.current=kg,h===null?kg:h}function Ov(){(Bi===0||Bi===3||Bi===2)&&(Bi=4),es===null||(cu&268435455)===0&&(Rg&268435455)===0||uh(es,hs)}function jg(h,d){var m=$n;$n|=2;var x=xw();(es!==h||hs!==d)&&(vc=null,uu(h,d));do try{$_();break}catch(P){Aw(h,P)}while(!0);if(Jn(),$n=m,Fg.current=x,Ci!==null)throw Error(e(261));return es=null,hs=0,Bi}function $_(){for(;Ci!==null;)Sw(Ci)}function tP(){for(;Ci!==null&&!Mc();)Sw(Ci)}function Sw(h){var d=_w(h.alternate,h,Ba);h.memoizedProps=h.pendingProps,d===null?Ew(h):Ci=d,Pv.current=null}function Ew(h){var d=h;do{var m=d.alternate;if(h=d.return,(d.flags&32768)===0){if(m=G_(m,d,Ba),m!==null){Ci=m;return}}else{if(m=X_(m,d),m!==null){m.flags&=32767,Ci=m;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Bi=6,Ci=null;return}}if(d=d.sibling,d!==null){Ci=d;return}Ci=d=h}while(d!==null);Bi===0&&(Bi=5)}function du(h,d,m){var x=Kn,P=co.transition;try{co.transition=null,Kn=1,eP(h,d,m,x)}finally{co.transition=P,Kn=x}return null}function eP(h,d,m,x){do Sd();while(ch!==null);if(($n&6)!==0)throw Error(e(327));m=h.finishedWork;var P=h.finishedLanes;if(m===null)return null;if(h.finishedWork=null,h.finishedLanes=0,m===h.current)throw Error(e(177));h.callbackNode=null,h.callbackPriority=0;var F=m.lanes|m.childLanes;if(Ya(h,F),h===es&&(Ci=es=null,hs=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Dg||(Dg=!0,Pw(sl,function(){return Sd(),null})),F=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||F){F=co.transition,co.transition=null;var Y=Kn;Kn=1;var bt=$n;$n|=4,Pv.current=null,Y_(h,m),pw(m,h),Yh(uc),qc=!!ru,uc=ru=null,h.current=m,Z_(m),yf(),$n=bt,Kn=Y,co.transition=F}else h.current=m;if(Dg&&(Dg=!1,ch=h,Mg=P),F=h.pendingLanes,F===0&&(lh=null),Ku(m.stateNode),ma(h,Er()),d!==null)for(x=h.onRecoverableError,m=0;m<d.length;m++)P=d[m],x(P.value,{componentStack:P.stack,digest:P.digest});if(Ig)throw Ig=!1,h=Nv,Nv=null,h;return(Mg&1)!==0&&h.tag!==0&&Sd(),F=h.pendingLanes,(F&1)!==0?h===Fv?qf++:(qf=0,Fv=h):qf=0,O(),null}function Sd(){if(ch!==null){var h=Po(Mg),d=co.transition,m=Kn;try{if(co.transition=null,Kn=16>h?16:h,ch===null)var x=!1;else{if(h=ch,ch=null,Mg=0,($n&6)!==0)throw Error(e(331));var P=$n;for($n|=4,Pe=h.current;Pe!==null;){var F=Pe,Y=F.child;if((Pe.flags&16)!==0){var bt=F.deletions;if(bt!==null){for(var Et=0;Et<bt.length;Et++){var Ut=bt[Et];for(Pe=Ut;Pe!==null;){var oe=Pe;switch(oe.tag){case 0:case 11:case 15:zf(8,oe,F)}var ue=oe.child;if(ue!==null)ue.return=oe,Pe=ue;else for(;Pe!==null;){oe=Pe;var se=oe.sibling,Se=oe.return;if(cw(oe),oe===Ut){Pe=null;break}if(se!==null){se.return=Se,Pe=se;break}Pe=Se}}}var De=F.alternate;if(De!==null){var Be=De.child;if(Be!==null){De.child=null;do{var mi=Be.sibling;Be.sibling=null,Be=mi}while(Be!==null)}}Pe=F}}if((F.subtreeFlags&2064)!==0&&Y!==null)Y.return=F,Pe=Y;else t:for(;Pe!==null;){if(F=Pe,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:zf(9,F,F.return)}var It=F.sibling;if(It!==null){It.return=F.return,Pe=It;break t}Pe=F.return}}var kt=h.current;for(Pe=kt;Pe!==null;){Y=Pe;var jt=Y.child;if((Y.subtreeFlags&2064)!==0&&jt!==null)jt.return=Y,Pe=jt;else t:for(Y=kt;Pe!==null;){if(bt=Pe,(bt.flags&2048)!==0)try{switch(bt.tag){case 0:case 11:case 15:Ng(9,bt)}}catch(He){ui(bt,bt.return,He)}if(bt===Y){Pe=null;break t}var me=bt.sibling;if(me!==null){me.return=bt.return,Pe=me;break t}Pe=bt.return}}if($n=P,O(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(Ul,h)}catch{}x=!0}return x}finally{Kn=m,co.transition=d}}return!1}function Cw(h,d,m){d=bd(m,d),d=q2(h,d,1),h=$r(h,d,1),d=Xs(),h!==null&&(Vl(h,1,d),ma(h,d))}function ui(h,d,m){if(h.tag===3)Cw(h,h,m);else for(;d!==null;){if(d.tag===3){Cw(d,h,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(lh===null||!lh.has(x))){h=bd(m,h),h=W2(d,h,1),d=$r(d,h,1),h=Xs(),d!==null&&(Vl(d,1,h),ma(d,h));break}}d=d.return}}function nP(h,d,m){var x=h.pingCache;x!==null&&x.delete(d),d=Xs(),h.pingedLanes|=h.suspendedLanes&m,es===h&&(hs&m)===m&&(Bi===4||Bi===3&&(hs&130023424)===hs&&500>Er()-Lv?uu(h,0):Tv|=m),ma(h,d)}function kw(h,d){d===0&&((h.mode&1)===0?d=1:(d=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var m=Xs();h=pr(h,d),h!==null&&(Vl(h,d,m),ma(h,m))}function rP(h){var d=h.memoizedState,m=0;d!==null&&(m=d.retryLane),kw(h,m)}function iP(h,d){var m=0;switch(h.tag){case 13:var x=h.stateNode,P=h.memoizedState;P!==null&&(m=P.retryLane);break;case 19:x=h.stateNode;break;default:throw Error(e(314))}x!==null&&x.delete(d),kw(h,m)}var _w;_w=function(h,d,m){if(h!==null)if(h.memoizedProps!==d.pendingProps||ks.current)pa=!0;else{if((h.lanes&m)===0&&(d.flags&128)===0)return pa=!1,V_(h,d,m);pa=(h.flags&131072)!==0}else pa=!1,$t&&(d.flags&1048576)!==0&&Tt(d,it,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;Tg(h,d),h=d.pendingProps;var P=nh(d,Mi.current);qr(d,m),P=au(null,d,x,h,P,m);var F=lo();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,_s(x)?(F=!0,pc(d)):F=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Oi(d),P.updater=_g,d.stateNode=P,P._reactInternals=d,pv(d,x,h,m),d=yv(null,d,x,!0,F,m)):(d.tag=0,$t&&F&&Gt(d),Gs(null,d,P,m),d=d.child),d;case 16:x=d.elementType;t:{switch(Tg(h,d),h=d.pendingProps,P=x._init,x=P(x._payload),d.type=x,P=d.tag=aP(x),h=qo(x,h),P){case 0:d=vv(null,d,x,h,m);break t;case 1:d=$2(null,d,x,h,m);break t;case 11:d=K2(null,d,x,h,m);break t;case 14:d=Y2(null,d,x,qo(x.type,h),m);break t}throw Error(e(306,x,""))}return d;case 0:return x=d.type,P=d.pendingProps,P=d.elementType===x?P:qo(x,P),vv(h,d,x,P,m);case 1:return x=d.type,P=d.pendingProps,P=d.elementType===x?P:qo(x,P),$2(h,d,x,P,m);case 3:t:{if(tw(d),h===null)throw Error(e(387));x=d.pendingProps,F=d.memoizedState,P=F.element,Ps(h,d),ts(d,x,null,m);var Y=d.memoizedState;if(x=Y.element,F.isDehydrated)if(F={element:x,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){P=bd(Error(e(423)),d),d=ew(h,d,x,m,P);break t}else if(x!==P){P=bd(Error(e(424)),d),d=ew(h,d,x,m,P);break t}else for(Vt=ls(d.stateNode.containerInfo.firstChild),Wt=d,$t=!0,te=null,m=Mr(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(_e(),x===P){d=mc(h,d,m);break t}Gs(h,d,x,m)}d=d.child}return d;case 5:return Ag(d),h===null&&Fe(d),x=d.type,P=d.pendingProps,F=h!==null?h.memoizedProps:null,Y=P.children,Tf(x,P)?Y=null:F!==null&&Tf(x,F)&&(d.flags|=32),Q2(h,d),Gs(h,d,Y,m),d.child;case 6:return h===null&&Fe(d),null;case 13:return nw(h,d,m);case 4:return rh(d,d.stateNode.containerInfo),x=d.pendingProps,h===null?d.child=li(d,null,x,m):Gs(h,d,x,m),d.child;case 11:return x=d.type,P=d.pendingProps,P=d.elementType===x?P:qo(x,P),K2(h,d,x,P,m);case 7:return Gs(h,d,d.pendingProps,m),d.child;case 8:return Gs(h,d,d.pendingProps.children,m),d.child;case 12:return Gs(h,d,d.pendingProps.children,m),d.child;case 10:t:{if(x=d.type._context,P=d.pendingProps,F=d.memoizedProps,Y=P.value,cr(pi,x._currentValue),x._currentValue=Y,F!==null)if(zr(F.value,Y)){if(F.children===P.children&&!ks.current){d=mc(h,d,m);break t}}else for(F=d.child,F!==null&&(F.return=d);F!==null;){var bt=F.dependencies;if(bt!==null){Y=F.child;for(var Et=bt.firstContext;Et!==null;){if(Et.context===x){if(F.tag===1){Et=Qr(-1,m&-m),Et.tag=2;var Ut=F.updateQueue;if(Ut!==null){Ut=Ut.shared;var oe=Ut.pending;oe===null?Et.next=Et:(Et.next=oe.next,oe.next=Et),Ut.pending=Et}}F.lanes|=m,Et=F.alternate,Et!==null&&(Et.lanes|=m),Qn(F.return,m,d),bt.lanes|=m;break}Et=Et.next}}else if(F.tag===10)Y=F.type===d.type?null:F.child;else if(F.tag===18){if(Y=F.return,Y===null)throw Error(e(341));Y.lanes|=m,bt=Y.alternate,bt!==null&&(bt.lanes|=m),Qn(Y,m,d),Y=F.sibling}else Y=F.child;if(Y!==null)Y.return=F;else for(Y=F;Y!==null;){if(Y===d){Y=null;break}if(F=Y.sibling,F!==null){F.return=Y.return,Y=F;break}Y=Y.return}F=Y}Gs(h,d,P.children,m),d=d.child}return d;case 9:return P=d.type,x=d.pendingProps.children,qr(d,m),P=Wr(P),x=x(P),d.flags|=1,Gs(h,d,x,m),d.child;case 14:return x=d.type,P=qo(x,d.pendingProps),P=qo(x.type,P),Y2(h,d,x,P,m);case 15:return Z2(h,d,d.type,d.pendingProps,m);case 17:return x=d.type,P=d.pendingProps,P=d.elementType===x?P:qo(x,P),Tg(h,d),d.tag=1,_s(x)?(h=!0,pc(d)):h=!1,qr(d,m),U2(d,x,P),pv(d,x,P,m),yv(null,d,x,!0,h,m);case 19:return iw(h,d,m);case 22:return J2(h,d,m)}throw Error(e(156,d.tag))};function Pw(h,d){return jl(h,d)}function sP(h,d,m,x){this.tag=h,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(h,d,m,x){return new sP(h,d,m,x)}function Bv(h){return h=h.prototype,!(!h||!h.isReactComponent)}function aP(h){if(typeof h=="function")return Bv(h)?1:0;if(h!=null){if(h=h.$$typeof,h===z)return 11;if(h===pt)return 14}return 2}function dh(h,d){var m=h.alternate;return m===null?(m=ho(h.tag,d,h.key,h.mode),m.elementType=h.elementType,m.type=h.type,m.stateNode=h.stateNode,m.alternate=h,h.alternate=m):(m.pendingProps=d,m.type=h.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=h.flags&14680064,m.childLanes=h.childLanes,m.lanes=h.lanes,m.child=h.child,m.memoizedProps=h.memoizedProps,m.memoizedState=h.memoizedState,m.updateQueue=h.updateQueue,d=h.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=h.sibling,m.index=h.index,m.ref=h.ref,m}function zg(h,d,m,x,P,F){var Y=2;if(x=h,typeof h=="function")Bv(h)&&(Y=1);else if(typeof h=="string")Y=5;else t:switch(h){case M:return fu(m.children,P,F,d);case j:Y=8,P|=8;break;case B:return h=ho(12,m,d,P|2),h.elementType=B,h.lanes=F,h;case U:return h=ho(13,m,d,P),h.elementType=U,h.lanes=F,h;case Q:return h=ho(19,m,d,P),h.elementType=Q,h.lanes=F,h;case $:return Ug(m,P,F,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case X:Y=10;break t;case D:Y=9;break t;case z:Y=11;break t;case pt:Y=14;break t;case Z:Y=16,x=null;break t}throw Error(e(130,h==null?h:typeof h,""))}return d=ho(Y,m,d,P),d.elementType=h,d.type=x,d.lanes=F,d}function fu(h,d,m,x){return h=ho(7,h,x,d),h.lanes=m,h}function Ug(h,d,m,x){return h=ho(22,h,x,d),h.elementType=$,h.lanes=m,h.stateNode={isHidden:!1},h}function jv(h,d,m){return h=ho(6,h,null,d),h.lanes=m,h}function zv(h,d,m){return d=ho(4,h.children!==null?h.children:[],h.key,d),d.lanes=m,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function oP(h,d,m,x,P){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=x,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Uv(h,d,m,x,P,F,Y,bt,Et){return h=new oP(h,d,m,bt,Et),d===1?(d=1,F===!0&&(d|=8)):d=0,F=ho(3,null,null,d),h.current=F,F.stateNode=h,F.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(F),h}function lP(h,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:x==null?null:""+x,children:h,containerInfo:d,implementation:m}}function Tw(h){if(!h)return ml;h=h._reactInternals;t:{if(ur(h)!==h||h.tag!==1)throw Error(e(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break t;case 1:if(_s(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break t}}d=d.return}while(d!==null);throw Error(e(171))}if(h.tag===1){var m=h.type;if(_s(m))return Rf(h,m,d)}return d}function Lw(h,d,m,x,P,F,Y,bt,Et){return h=Uv(m,x,!0,h,P,F,Y,bt,Et),h.context=Tw(null),m=h.current,x=Xs(),P=hh(m),F=Qr(x,P),F.callback=d??null,$r(m,F,P),h.current.lanes=P,Vl(h,P,x),ma(h,x),h}function Hg(h,d,m,x){var P=d.current,F=Xs(),Y=hh(P);return m=Tw(m),d.context===null?d.context=m:d.pendingContext=m,d=Qr(F,Y),d.payload={element:h},x=x===void 0?null:x,x!==null&&(d.callback=x),h=$r(P,d,Y),h!==null&&(Go(h,P,Y,F),$i(h,P,Y)),Y}function qg(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function Nw(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var m=h.retryLane;h.retryLane=m!==0&&m<d?m:d}}function Hv(h,d){Nw(h,d),(h=h.alternate)&&Nw(h,d)}function cP(){return null}var Fw=typeof reportError=="function"?reportError:function(h){console.error(h)};function qv(h){this._internalRoot=h}Wg.prototype.render=qv.prototype.render=function(h){var d=this._internalRoot;if(d===null)throw Error(e(409));Hg(h,d,null,null)},Wg.prototype.unmount=qv.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var d=h.containerInfo;hu(function(){Hg(null,h,null,null)}),d[Ji]=null}};function Wg(h){this._internalRoot=h}Wg.prototype.unstable_scheduleHydration=function(h){if(h){var d=Qu();h={blockedOn:null,target:h,priority:d};for(var m=0;m<Ja.length&&d!==0&&d<Ja[m].priority;m++);Ja.splice(m,0,h),m===0&&td(h)}};function Wv(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Vg(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function hP(h,d,m,x,P){if(P){if(typeof x=="function"){var F=x;x=function(){var Ut=qg(Y);F.call(Ut)}}var Y=Lw(d,x,h,0,null,!1,!1,"",Rw);return h._reactRootContainer=Y,h[Ji]=Y.current,cc(h.nodeType===8?h.parentNode:h),hu(),Y}for(;P=h.lastChild;)h.removeChild(P);if(typeof x=="function"){var bt=x;x=function(){var Ut=qg(Et);bt.call(Ut)}}var Et=Uv(h,0,!1,null,null,!1,!1,"",Rw);return h._reactRootContainer=Et,h[Ji]=Et.current,cc(h.nodeType===8?h.parentNode:h),hu(function(){Hg(d,Et,m,x)}),Et}function Gg(h,d,m,x,P){var F=m._reactRootContainer;if(F){var Y=F;if(typeof P=="function"){var bt=P;P=function(){var Et=qg(Y);bt.call(Et)}}Hg(d,Y,h,P)}else Y=hP(m,d,h,P,x);return qg(Y)}zc=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var m=ka(d.pendingLanes);m!==0&&(jc(d,m|1),ma(d,Er()),($n&6)===0&&(xd=Er()+500,O()))}break;case 13:hu(function(){var x=pr(h,1);if(x!==null){var P=Xs();Go(x,h,1,P)}}),Hv(h,1)}},Uh=function(h){if(h.tag===13){var d=pr(h,134217728);if(d!==null){var m=Xs();Go(d,h,134217728,m)}Hv(h,134217728)}},Ju=function(h){if(h.tag===13){var d=hh(h),m=pr(h,d);if(m!==null){var x=Xs();Go(m,h,d,x)}Hv(h,d)}},Qu=function(){return Kn},Uc=function(h,d){var m=Kn;try{return Kn=h,d()}finally{Kn=m}},N=function(h,d,m){switch(d){case"input":if(re(h,m),d=m.name,m.type==="radio"&&d!=null){for(m=h;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==h&&x.form===h.form){var P=iu(x);if(!P)throw Error(e(90));ee(x),re(x,P)}}}break;case"textarea":yn(h,m);break;case"select":d=m.value,d!=null&&ce(h,!!m.multiple,d,!1)}},xe=Dv,be=hu;var uP={usingClientEntryPoint:!1,Events:[eh,dc,iu,wt,Mt,Dv]},Wf={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dP={bundleType:Wf.bundleType,version:Wf.version,rendererPackageName:Wf.rendererPackageName,rendererConfig:Wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ca(h),h===null?null:h.stateNode},findFiberByHostInstance:Wf.findFiberByHostInstance||cP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xg.isDisabled&&Xg.supportsFiber)try{Ul=Xg.inject(dP),js=Xg}catch{}}return va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP,va.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(d))throw Error(e(200));return lP(h,d,null,m)},va.createRoot=function(h,d){if(!Wv(h))throw Error(e(299));var m=!1,x="",P=Fw;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=Uv(h,1,!1,null,null,m,!1,x,P),h[Ji]=d.current,cc(h.nodeType===8?h.parentNode:h),new qv(d)},va.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(e(188)):(h=Object.keys(h).join(","),Error(e(268,h)));return h=Ca(d),h=h===null?null:h.stateNode,h},va.flushSync=function(h){return hu(h)},va.hydrate=function(h,d,m){if(!Vg(d))throw Error(e(200));return Gg(null,h,d,!0,m)},va.hydrateRoot=function(h,d,m){if(!Wv(h))throw Error(e(405));var x=m!=null&&m.hydratedSources||null,P=!1,F="",Y=Fw;if(m!=null&&(m.unstable_strictMode===!0&&(P=!0),m.identifierPrefix!==void 0&&(F=m.identifierPrefix),m.onRecoverableError!==void 0&&(Y=m.onRecoverableError)),d=Lw(d,null,h,1,m??null,P,!1,F,Y),h[Ji]=d.current,cc(h),x)for(h=0;h<x.length;h++)m=x[h],P=m._getVersion,P=P(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,P]:d.mutableSourceEagerHydrationData.push(m,P);return new Wg(d)},va.render=function(h,d,m){if(!Vg(d))throw Error(e(200));return Gg(null,h,d,!1,m)},va.unmountComponentAtNode=function(h){if(!Vg(h))throw Error(e(40));return h._reactRootContainer?(hu(function(){Gg(null,null,h,!1,function(){h._reactRootContainer=null,h[Ji]=null})}),!0):!1},va.unstable_batchedUpdates=Dv,va.unstable_renderSubtreeIntoContainer=function(h,d,m,x){if(!Vg(m))throw Error(e(200));if(h==null||h._reactInternals===void 0)throw Error(e(38));return Gg(h,d,m,!1,x)},va.version="18.3.1-next-f1338f8080-20240426",va}var Hw;function wS(){if(Hw)return Yv.exports;Hw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Yv.exports=wP(),Yv.exports}var qw;function AP(){if(qw)return Kg;qw=1;var i=wS();return Kg.createRoot=i.createRoot,Kg.hydrateRoot=i.hydrateRoot,Kg}var xP=AP();const SP=Eb(xP);function Ww(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function AS(...i){return t=>{let e=!1;const n=i.map(r=>{const s=Ww(r,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():Ww(i[r],null)}}}}function af(...i){return fe.useCallback(AS(...i),i)}function $0(i){const t=EP(i),e=fe.forwardRef((n,r)=>{const{children:s,...a}=n,o=fe.Children.toArray(s),l=o.find(kP);if(l){const c=l.props.children,u=o.map(f=>f===l?fe.Children.count(c)>1?fe.Children.only(null):fe.isValidElement(c)?c.props.children:null:f);return Ht.jsx(t,{...a,ref:r,children:fe.isValidElement(c)?fe.cloneElement(c,void 0,u):null})}return Ht.jsx(t,{...a,ref:r,children:s})});return e.displayName=`${i}.Slot`,e}var xS=$0("Slot");function EP(i){const t=fe.forwardRef((e,n)=>{const{children:r,...s}=e;if(fe.isValidElement(r)){const a=PP(r),o=_P(s,r.props);return r.type!==fe.Fragment&&(o.ref=n?AS(n,a):a),fe.cloneElement(r,o)}return fe.Children.count(r)>1?fe.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var CP=Symbol("radix.slottable");function kP(i){return fe.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===CP}function _P(i,t){const e={...t};for(const n in t){const r=i[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?e[n]=(...o)=>{const l=s(...o);return r(...o),l}:r&&(e[n]=r):n==="style"?e[n]={...r,...s}:n==="className"&&(e[n]=[r,s].filter(Boolean).join(" "))}return{...i,...e}}function PP(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function SS(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(t=0;t<r;t++)i[t]&&(e=SS(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function ES(){for(var i,t,e=0,n="",r=arguments.length;e<r;e++)(i=arguments[e])&&(t=SS(i))&&(n&&(n+=" "),n+=t);return n}const Vw=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Gw=ES,CS=(i,t)=>e=>{var n;if(t?.variants==null)return Gw(i,e?.class,e?.className);const{variants:r,defaultVariants:s}=t,a=Object.keys(r).map(c=>{const u=e?.[c],f=s?.[c];if(u===null)return null;const g=Vw(u)||Vw(f);return r[c][g]}),o=e&&Object.entries(e).reduce((c,u)=>{let[f,g]=u;return g===void 0||(c[f]=g),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:g,...p}=u;return Object.entries(p).every(v=>{let[y,A]=v;return Array.isArray(A)?A.includes({...s,...o}[y]):{...s,...o}[y]===A})?[...c,f,g]:c},[]);return Gw(i,a,l,e?.class,e?.className)},kb="-",TP=i=>{const t=NP(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:a=>{const o=a.split(kb);return o[0]===""&&o.length!==1&&o.shift(),kS(o,t)||LP(a)},getConflictingClassGroupIds:(a,o)=>{const l=e[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},kS=(i,t)=>{if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),r=n?kS(i.slice(1),n):void 0;if(r)return r;if(t.validators.length===0)return;const s=i.join(kb);return t.validators.find(({validator:a})=>a(s))?.classGroupId},Xw=/^\[(.+)\]$/,LP=i=>{if(Xw.test(i)){const t=Xw.exec(i)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},NP=i=>{const{theme:t,prefix:e}=i,n={nextPart:new Map,validators:[]};return RP(Object.entries(i.classGroups),e).forEach(([s,a])=>{ky(a,n,s,t)}),n},ky=(i,t,e,n)=>{i.forEach(r=>{if(typeof r=="string"){const s=r===""?t:Kw(t,r);s.classGroupId=e;return}if(typeof r=="function"){if(FP(r)){ky(r(n),t,e,n);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([s,a])=>{ky(a,Kw(t,s),e,n)})})},Kw=(i,t)=>{let e=i;return t.split(kb).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},FP=i=>i.isThemeGetter,RP=(i,t)=>t?i.map(([e,n])=>{const r=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[e,r]}):i,IP=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const r=(s,a)=>{e.set(s,a),t++,t>i&&(t=0,n=e,e=new Map)};return{get(s){let a=e.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return r(s,a),a},set(s,a){e.has(s)?e.set(s,a):r(s,a)}}},_S="!",DP=i=>{const{separator:t,experimentalParseClassName:e}=i,n=t.length===1,r=t[0],s=t.length,a=o=>{const l=[];let c=0,u=0,f;for(let A=0;A<o.length;A++){let w=o[A];if(c===0){if(w===r&&(n||o.slice(A,A+s)===t)){l.push(o.slice(u,A)),u=A+s;continue}if(w==="/"){f=A;continue}}w==="["?c++:w==="]"&&c--}const g=l.length===0?o:o.substring(u),p=g.startsWith(_S),v=p?g.substring(1):g,y=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return e?o=>e({className:o,parseClassName:a}):a},MP=i=>{if(i.length<=1)return i;const t=[];let e=[];return i.forEach(n=>{n[0]==="["?(t.push(...e.sort(),n),e=[]):e.push(n)}),t.push(...e.sort()),t},OP=i=>({cache:IP(i.cacheSize),parseClassName:DP(i),...TP(i)}),BP=/\s+/,jP=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:r}=t,s=[],a=i.trim().split(BP);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=e(c);let v=!!p,y=n(v?g.substring(0,p):g);if(!y){if(!v){o=c+(o.length>0?" "+o:o);continue}if(y=n(g),!y){o=c+(o.length>0?" "+o:o);continue}v=!1}const A=MP(u).join(":"),w=f?A+_S:A,C=w+y;if(s.includes(C))continue;s.push(C);const E=r(y,v);for(let k=0;k<E.length;++k){const L=E[k];s.push(w+L)}o=c+(o.length>0?" "+o:o)}return o};function zP(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=PS(t))&&(n&&(n+=" "),n+=e);return n}const PS=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=PS(i[n]))&&(e&&(e+=" "),e+=t);return e};function UP(i,...t){let e,n,r,s=a;function a(l){const c=t.reduce((u,f)=>f(u),i());return e=OP(c),n=e.cache.get,r=e.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=jP(l,e);return r(l,u),u}return function(){return s(zP.apply(null,arguments))}}const Or=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},TS=/^\[(?:([a-z-]+):)?(.+)\]$/i,HP=/^\d+\/\d+$/,qP=new Set(["px","full","screen"]),WP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yc=i=>Kd(i)||qP.has(i)||HP.test(i),ph=i=>uf(i,"length",nT),Kd=i=>!!i&&!Number.isNaN(Number(i)),Qv=i=>uf(i,"number",Kd),Gf=i=>!!i&&Number.isInteger(Number(i)),YP=i=>i.endsWith("%")&&Kd(i.slice(0,-1)),Nn=i=>TS.test(i),gh=i=>WP.test(i),ZP=new Set(["length","size","percentage"]),JP=i=>uf(i,ZP,LS),QP=i=>uf(i,"position",LS),$P=new Set(["image","url"]),tT=i=>uf(i,$P,iT),eT=i=>uf(i,"",rT),Xf=()=>!0,uf=(i,t,e)=>{const n=TS.exec(i);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):e(n[2]):!1},nT=i=>VP.test(i)&&!GP.test(i),LS=()=>!1,rT=i=>XP.test(i),iT=i=>KP.test(i),sT=()=>{const i=Or("colors"),t=Or("spacing"),e=Or("blur"),n=Or("brightness"),r=Or("borderColor"),s=Or("borderRadius"),a=Or("borderSpacing"),o=Or("borderWidth"),l=Or("contrast"),c=Or("grayscale"),u=Or("hueRotate"),f=Or("invert"),g=Or("gap"),p=Or("gradientColorStops"),v=Or("gradientColorStopPositions"),y=Or("inset"),A=Or("margin"),w=Or("opacity"),C=Or("padding"),E=Or("saturate"),k=Or("scale"),L=Or("sepia"),R=Or("skew"),M=Or("space"),j=Or("translate"),B=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Nn,t],z=()=>[Nn,t],U=()=>["",yc,ph],Q=()=>["auto",Kd,Nn],pt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],st=()=>["start","end","center","between","around","evenly","stretch"],rt=()=>["","0",Nn],ot=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Kd,Nn];return{cacheSize:500,separator:":",theme:{colors:[Xf],spacing:[yc,ph],blur:["none","",gh,Nn],brightness:q(),borderColor:[i],borderRadius:["none","","full",gh,Nn],borderSpacing:z(),borderWidth:U(),contrast:q(),grayscale:rt(),hueRotate:q(),invert:rt(),gap:z(),gradientColorStops:[i],gradientColorStopPositions:[YP,ph],inset:D(),margin:D(),opacity:q(),padding:z(),saturate:q(),scale:q(),sepia:rt(),skew:q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Nn]}],container:["container"],columns:[{columns:[gh]}],"break-after":[{"break-after":ot()}],"break-before":[{"break-before":ot()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pt(),Nn]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gf,Nn]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nn]}],grow:[{grow:rt()}],shrink:[{shrink:rt()}],order:[{order:["first","last","none",Gf,Nn]}],"grid-cols":[{"grid-cols":[Xf]}],"col-start-end":[{col:["auto",{span:["full",Gf,Nn]},Nn]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Xf]}],"row-start-end":[{row:["auto",{span:[Gf,Nn]},Nn]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nn]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...st()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...st(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...st(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nn,t]}],"min-w":[{"min-w":[Nn,t,"min","max","fit"]}],"max-w":[{"max-w":[Nn,t,"none","full","min","max","fit","prose",{screen:[gh]},gh]}],h:[{h:[Nn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gh,ph]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qv]}],"font-family":[{font:[Xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nn]}],"line-clamp":[{"line-clamp":["none",Kd,Qv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yc,Nn]}],"list-image":[{"list-image":["none",Nn]}],"list-style-type":[{list:["none","disc","decimal",Nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yc,ph]}],"underline-offset":[{"underline-offset":["auto",yc,Nn]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pt(),QP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tT]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[yc,Nn]}],"outline-w":[{outline:[yc,ph]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[yc,ph]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",gh,eT]}],"shadow-color":[{shadow:[Xf]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gh,Nn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nn]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Nn]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Gf,Nn]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nn]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nn]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nn]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[yc,ph,Qv]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aT=UP(sT);function Sa(...i){return aT(ES(i))}const oT=CS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function $v({className:i,variant:t,size:e,asChild:n=!1,...r}){const s=n?xS:"button";return Ht.jsx(s,{"data-slot":"button",className:Sa(oT({variant:t,size:e,className:i})),...r})}function wl({className:i,...t}){return Ht.jsx("div",{"data-slot":"card",className:Sa("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...t})}function t1({className:i,...t}){return Ht.jsx("div",{"data-slot":"card-header",className:Sa("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...t})}function e1({className:i,...t}){return Ht.jsx("div",{"data-slot":"card-title",className:Sa("leading-none font-semibold",i),...t})}function n1({className:i,...t}){return Ht.jsx("div",{"data-slot":"card-description",className:Sa("text-muted-foreground text-sm",i),...t})}function Al({className:i,...t}){return Ht.jsx("div",{"data-slot":"card-content",className:Sa("px-6",i),...t})}function Xp(i,t=[]){let e=[];function n(s,a){const o=fe.createContext(a),l=e.length;e=[...e,a];const c=f=>{const{scope:g,children:p,...v}=f,y=g?.[i]?.[l]||o,A=fe.useMemo(()=>v,Object.values(v));return Ht.jsx(y.Provider,{value:A,children:p})};c.displayName=s+"Provider";function u(f,g){const p=g?.[i]?.[l]||o,v=fe.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=e.map(a=>fe.createContext(a));return function(o){const l=o?.[i]||s;return fe.useMemo(()=>({[`__scope${i}`]:{...o,[i]:l}}),[o,l])}};return r.scopeName=i,[n,lT(r,...t)]}function lT(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return fe.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}wS();var cT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ml=cT.reduce((i,t)=>{const e=$0(`Primitive.${t}`),n=fe.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Ht.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...i,[t]:n}},{}),_b="Progress",Pb=100,[hT]=Xp(_b),[uT,dT]=hT(_b),NS=fe.forwardRef((i,t)=>{const{__scopeProgress:e,value:n=null,max:r,getValueLabel:s=fT,...a}=i;(r||r===0)&&!Yw(r)&&console.error(pT(`${r}`,"Progress"));const o=Yw(r)?r:Pb;n!==null&&!Zw(n,o)&&console.error(gT(`${n}`,"Progress"));const l=Zw(n,o)?n:null,c=tm(l)?s(l,o):void 0;return Ht.jsx(uT,{scope:e,value:l,max:o,children:Ht.jsx(Ml.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":tm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":IS(l,o),"data-value":l??void 0,"data-max":o,...a,ref:t})})});NS.displayName=_b;var FS="ProgressIndicator",RS=fe.forwardRef((i,t)=>{const{__scopeProgress:e,...n}=i,r=dT(FS,e);return Ht.jsx(Ml.div,{"data-state":IS(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:t})});RS.displayName=FS;function fT(i,t){return`${Math.round(i/t*100)}%`}function IS(i,t){return i==null?"indeterminate":i===t?"complete":"loading"}function tm(i){return typeof i=="number"}function Yw(i){return tm(i)&&!isNaN(i)&&i>0}function Zw(i,t){return tm(i)&&!isNaN(i)&&i<=t&&i>=0}function pT(i,t){return`Invalid prop \`max\` of value \`${i}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Pb}\`.`}function gT(i,t){return`Invalid prop \`value\` of value \`${i}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Pb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mT=NS,vT=RS;function yT({className:i,value:t,...e}){return Ht.jsx(mT,{"data-slot":"progress",className:Sa("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",i),...e,children:Ht.jsx(vT,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const bT=CS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function wT({className:i,variant:t,asChild:e=!1,...n}){const r=e?xS:"span";return Ht.jsx(r,{"data-slot":"badge",className:Sa(bT({variant:t}),i),...n})}function Rl(i,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(i?.(r),e===!1||!r.defaultPrevented)return t?.(r)}}function AT(i){const t=i+"CollectionProvider",[e,n]=Xp(t),[r,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:A,children:w}=y,C=Ec.useRef(null),E=Ec.useRef(new Map).current;return Ht.jsx(r,{scope:A,itemMap:E,collectionRef:C,children:w})};a.displayName=t;const o=i+"CollectionSlot",l=$0(o),c=Ec.forwardRef((y,A)=>{const{scope:w,children:C}=y,E=s(o,w),k=af(A,E.collectionRef);return Ht.jsx(l,{ref:k,children:C})});c.displayName=o;const u=i+"CollectionItemSlot",f="data-radix-collection-item",g=$0(u),p=Ec.forwardRef((y,A)=>{const{scope:w,children:C,...E}=y,k=Ec.useRef(null),L=af(A,k),R=s(u,w);return Ec.useEffect(()=>(R.itemMap.set(k,{ref:k,...E}),()=>void R.itemMap.delete(k))),Ht.jsx(g,{[f]:"",ref:L,children:C})});p.displayName=u;function v(y){const A=s(i+"CollectionConsumer",y);return Ec.useCallback(()=>{const C=A.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(A.itemMap.values()).sort((R,M)=>E.indexOf(R.ref.current)-E.indexOf(M.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},v,n]}var Ip=globalThis?.document?fe.useLayoutEffect:()=>{},xT=bS[" useId ".trim().toString()]||(()=>{}),ST=0;function DS(i){const[t,e]=fe.useState(xT());return Ip(()=>{e(n=>n??String(ST++))},[i]),i||(t?`radix-${t}`:"")}function ET(i){const t=fe.useRef(i);return fe.useEffect(()=>{t.current=i}),fe.useMemo(()=>(...e)=>t.current?.(...e),[])}var CT=bS[" useInsertionEffect ".trim().toString()]||Ip;function Tb({prop:i,defaultProp:t,onChange:e=()=>{},caller:n}){const[r,s,a]=kT({defaultProp:t,onChange:e}),o=i!==void 0,l=o?i:r;{const u=fe.useRef(i!==void 0);fe.useEffect(()=>{const f=u.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const c=fe.useCallback(u=>{if(o){const f=_T(u)?u(i):u;f!==i&&a.current?.(f)}else s(u)},[o,i,s,a]);return[l,c]}function kT({defaultProp:i,onChange:t}){const[e,n]=fe.useState(i),r=fe.useRef(e),s=fe.useRef(t);return CT(()=>{s.current=t},[t]),fe.useEffect(()=>{r.current!==e&&(s.current?.(e),r.current=e)},[e,r]),[e,n,s]}function _T(i){return typeof i=="function"}var PT=fe.createContext(void 0);function MS(i){const t=fe.useContext(PT);return i||t||"ltr"}var r1="rovingFocusGroup.onEntryFocus",TT={bubbles:!1,cancelable:!0},Kp="RovingFocusGroup",[_y,OS,LT]=AT(Kp),[NT,BS]=Xp(Kp,[LT]),[FT,RT]=NT(Kp),jS=fe.forwardRef((i,t)=>Ht.jsx(_y.Provider,{scope:i.__scopeRovingFocusGroup,children:Ht.jsx(_y.Slot,{scope:i.__scopeRovingFocusGroup,children:Ht.jsx(IT,{...i,ref:t})})}));jS.displayName=Kp;var IT=fe.forwardRef((i,t)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:r=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=i,g=fe.useRef(null),p=af(t,g),v=MS(s),[y,A]=Tb({prop:a,defaultProp:o??null,onChange:l,caller:Kp}),[w,C]=fe.useState(!1),E=ET(c),k=OS(e),L=fe.useRef(!1),[R,M]=fe.useState(0);return fe.useEffect(()=>{const j=g.current;if(j)return j.addEventListener(r1,E),()=>j.removeEventListener(r1,E)},[E]),Ht.jsx(FT,{scope:e,orientation:n,dir:v,loop:r,currentTabStopId:y,onItemFocus:fe.useCallback(j=>A(j),[A]),onItemShiftTab:fe.useCallback(()=>C(!0),[]),onFocusableItemAdd:fe.useCallback(()=>M(j=>j+1),[]),onFocusableItemRemove:fe.useCallback(()=>M(j=>j-1),[]),children:Ht.jsx(Ml.div,{tabIndex:w||R===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...i.style},onMouseDown:Rl(i.onMouseDown,()=>{L.current=!0}),onFocus:Rl(i.onFocus,j=>{const B=!L.current;if(j.target===j.currentTarget&&B&&!w){const X=new CustomEvent(r1,TT);if(j.currentTarget.dispatchEvent(X),!X.defaultPrevented){const D=k().filter(Z=>Z.focusable),z=D.find(Z=>Z.active),U=D.find(Z=>Z.id===y),pt=[z,U,...D].filter(Boolean).map(Z=>Z.ref.current);HS(pt,u)}}L.current=!1}),onBlur:Rl(i.onBlur,()=>C(!1))})})}),zS="RovingFocusGroupItem",US=fe.forwardRef((i,t)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:r=!1,tabStopId:s,children:a,...o}=i,l=DS(),c=s||l,u=RT(zS,e),f=u.currentTabStopId===c,g=OS(e),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:y}=u;return fe.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),Ht.jsx(_y.ItemSlot,{scope:e,id:c,focusable:n,active:r,children:Ht.jsx(Ml.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Rl(i.onMouseDown,A=>{n?u.onItemFocus(c):A.preventDefault()}),onFocus:Rl(i.onFocus,()=>u.onItemFocus(c)),onKeyDown:Rl(i.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){u.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const w=OT(A,u.orientation,u.dir);if(w!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let E=g().filter(k=>k.focusable).map(k=>k.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const k=E.indexOf(A.currentTarget);E=u.loop?BT(E,k+1):E.slice(k+1)}setTimeout(()=>HS(E))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});US.displayName=zS;var DT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MT(i,t){return t!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function OT(i,t,e){const n=MT(i.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return DT[n]}function HS(i,t=!1){const e=document.activeElement;for(const n of i)if(n===e||(n.focus({preventScroll:t}),document.activeElement!==e))return}function BT(i,t){return i.map((e,n)=>i[(t+n)%i.length])}var jT=jS,zT=US;function UT(i,t){return fe.useReducer((e,n)=>t[e][n]??e,i)}var qS=i=>{const{present:t,children:e}=i,n=HT(t),r=typeof e=="function"?e({present:n.isPresent}):fe.Children.only(e),s=af(n.ref,qT(r));return typeof e=="function"||n.isPresent?fe.cloneElement(r,{ref:s}):null};qS.displayName="Presence";function HT(i){const[t,e]=fe.useState(),n=fe.useRef(null),r=fe.useRef(i),s=fe.useRef("none"),a=i?"mounted":"unmounted",[o,l]=UT(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return fe.useEffect(()=>{const c=Yg(n.current);s.current=o==="mounted"?c:"none"},[o]),Ip(()=>{const c=n.current,u=r.current;if(u!==i){const g=s.current,p=Yg(c);i?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&g!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=i}},[i,l]),Ip(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=p=>{const y=Yg(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(l("ANIMATION_END"),!r.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},g=p=>{p.target===t&&(s.current=Yg(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:fe.useCallback(c=>{n.current=c?getComputedStyle(c):null,e(c)},[])}}function Yg(i){return i?.animationName||"none"}function qT(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var Cm="Tabs",[WT]=Xp(Cm,[BS]),WS=BS(),[VT,Lb]=WT(Cm),VS=fe.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,onValueChange:r,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=i,u=MS(o),[f,g]=Tb({prop:n,onChange:r,defaultProp:s??"",caller:Cm});return Ht.jsx(VT,{scope:e,baseId:DS(),value:f,onValueChange:g,orientation:a,dir:u,activationMode:l,children:Ht.jsx(Ml.div,{dir:u,"data-orientation":a,...c,ref:t})})});VS.displayName=Cm;var GS="TabsList",XS=fe.forwardRef((i,t)=>{const{__scopeTabs:e,loop:n=!0,...r}=i,s=Lb(GS,e),a=WS(e);return Ht.jsx(jT,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:Ht.jsx(Ml.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:t})})});XS.displayName=GS;var KS="TabsTrigger",YS=fe.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,disabled:r=!1,...s}=i,a=Lb(KS,e),o=WS(e),l=QS(a.baseId,n),c=$S(a.baseId,n),u=n===a.value;return Ht.jsx(zT,{asChild:!0,...o,focusable:!r,active:u,children:Ht.jsx(Ml.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...s,ref:t,onMouseDown:Rl(i.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:Rl(i.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:Rl(i.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!r&&f&&a.onValueChange(n)})})})});YS.displayName=KS;var ZS="TabsContent",JS=fe.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,forceMount:r,children:s,...a}=i,o=Lb(ZS,e),l=QS(o.baseId,n),c=$S(o.baseId,n),u=n===o.value,f=fe.useRef(u);return fe.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),Ht.jsx(qS,{present:r||u,children:({present:g})=>Ht.jsx(Ml.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:c,tabIndex:0,...a,ref:t,style:{...i.style,animationDuration:f.current?"0s":void 0},children:g&&s})})});JS.displayName=ZS;function QS(i,t){return`${i}-trigger-${t}`}function $S(i,t){return`${i}-content-${t}`}var GT=VS,XT=XS,KT=YS,YT=JS;function ZT({className:i,...t}){return Ht.jsx(GT,{"data-slot":"tabs",className:Sa("flex flex-col gap-2",i),...t})}function JT({className:i,...t}){return Ht.jsx(XT,{"data-slot":"tabs-list",className:Sa("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",i),...t})}function Zg({className:i,...t}){return Ht.jsx(KT,{"data-slot":"tabs-trigger",className:Sa("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...t})}function Jg({className:i,...t}){return Ht.jsx(YT,{"data-slot":"tabs-content",className:Sa("flex-1 outline-none",i),...t})}function QT(i){const t=fe.useRef({value:i,previous:i});return fe.useMemo(()=>(t.current.value!==i&&(t.current.previous=t.current.value,t.current.value=i),t.current.previous),[i])}function $T(i){const[t,e]=fe.useState(void 0);return Ip(()=>{if(i){e({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=i.offsetWidth,o=i.offsetHeight;e({width:a,height:o})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else e(void 0)},[i]),t}var km="Switch",[t3]=Xp(km),[e3,n3]=t3(km),tE=fe.forwardRef((i,t)=>{const{__scopeSwitch:e,name:n,checked:r,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...f}=i,[g,p]=fe.useState(null),v=af(t,E=>p(E)),y=fe.useRef(!1),A=g?u||!!g.closest("form"):!0,[w,C]=Tb({prop:r,defaultProp:s??!1,onChange:c,caller:km});return Ht.jsxs(e3,{scope:e,checked:w,disabled:o,children:[Ht.jsx(Ml.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":iE(w),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:Rl(i.onClick,E=>{C(k=>!k),A&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})}),A&&Ht.jsx(rE,{control:g,bubbles:!y.current,name:n,value:l,checked:w,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});tE.displayName=km;var eE="SwitchThumb",nE=fe.forwardRef((i,t)=>{const{__scopeSwitch:e,...n}=i,r=n3(eE,e);return Ht.jsx(Ml.span,{"data-state":iE(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t})});nE.displayName=eE;var r3="SwitchBubbleInput",rE=fe.forwardRef(({__scopeSwitch:i,control:t,checked:e,bubbles:n=!0,...r},s)=>{const a=fe.useRef(null),o=af(a,s),l=QT(e),c=$T(t);return fe.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==e&&p){const v=new Event("click",{bubbles:n});p.call(u,e),u.dispatchEvent(v)}},[l,e,n]),Ht.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...r,tabIndex:-1,ref:o,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rE.displayName=r3;function iE(i){return i?"checked":"unchecked"}var i3=tE,s3=nE;function a3({className:i,...t}){return Ht.jsx(i3,{"data-slot":"switch",className:Sa("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...t,children:Ht.jsx(s3,{"data-slot":"switch-thumb",className:Sa("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),df=(i,t)=>{const e=fe.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>fe.createElement("svg",{ref:u,...o3,width:r,height:r,stroke:n,strokeWidth:a?Number(s)*24/Number(r):s,className:["lucide",`lucide-${l3(i)}`,o].join(" "),...c},[...t.map(([f,g])=>fe.createElement(f,g)),...Array.isArray(l)?l:[l]]));return e.displayName=`${i}`,e};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=df("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=df("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=df("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=df("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=df("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=df("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ys=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Py=[.001,0,0,.001,0,0],s1=1.35,za={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sE="pdfjs_internal_editor_",Sn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},qn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},d3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ds={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},R0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Id={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_m={ERRORS:0,WARNINGS:1,INFOS:5},em={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Qg={moveTo:0,lineTo:1,curveTo:2,closePath:3},f3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pm=_m.WARNINGS;function p3(i){Number.isInteger(i)&&(Pm=i)}function g3(){return Pm}function Tm(i){Pm>=_m.INFOS&&console.log(`Info: ${i}`)}function Cn(i){Pm>=_m.WARNINGS&&console.log(`Warning: ${i}`)}function Ar(i){throw new Error(i)}function Ri(i,t){i||Ar(t)}function m3(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function aE(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=A3(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return m3(n)?n:null}function oE(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&aE(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Un(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Mu=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();let $w=class extends Mu{constructor(t,e){super(t,"PasswordException"),this.code=e}},a1=class extends Mu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},Ty=class extends Mu{constructor(t){super(t,"InvalidPDFException")}},nm=class extends Mu{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}},v3=class extends Mu{constructor(t){super(t,"FormatError")}},Lh=class extends Mu{constructor(t){super(t,"AbortException")}};function lE(i){(typeof i!="object"||i?.length===void 0)&&Ar("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),a=i.subarray(r,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Yp(i){typeof i!="string"&&Ar("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function y3(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function b3(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function w3(){try{return new Function(""),!0}catch{return!1}}let ms=class{static get isLittleEndian(){return Un(this,"isLittleEndian",b3())}static get isEvalSupported(){return Un(this,"isEvalSupported",w3())}static get isOffscreenCanvasSupported(){return Un(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Un(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Un(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Un(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const o1=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));let Xe=class{static makeHexColor(t,e,n){return`#${o1[t]}${o1[e]}${o1[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const r=t[n],s=t[n+1];t[n]=r*e[0]+s*e[2]+e[4],t[n+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],s=e[1],a=e[2],o=e[3],l=e[4],c=e[5];for(let u=0;u<6;u+=2){const f=t[n+u],g=t[n+u+1];t[n+u]=f*r+g*a+l,t[n+u+1]=f*s+g*o+c}}static applyInverseTransform(t,e){const n=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,n){const r=e[0],s=e[1],a=e[2],o=e[3],l=e[4],c=e[5],u=t[0],f=t[1],g=t[2],p=t[3];let v=r*u+l,y=v,A=r*g+l,w=A,C=o*f+c,E=C,k=o*p+c,L=k;if(s!==0||a!==0){const R=s*u,M=s*g,j=a*f,B=a*p;v+=j,w+=j,A+=B,y+=B,C+=R,L+=R,k+=M,E+=M}n[0]=Math.min(n[0],v,A,y,w),n[1]=Math.min(n[1],C,k,E,L),n[2]=Math.max(n[2],v,A,y,w),n[3]=Math.max(n[3],C,k,E,L)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],s=t[2],a=t[3],o=n**2+r**2,l=n*s+r*a,c=s**2+a**2,u=(o+c)/2,f=Math.sqrt(u**2-(o*c-l**2));e[0]=Math.sqrt(u+f||1),e[1]=Math.sqrt(u-f||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>a?null:[n,s,r,a]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,s){s[0]=Math.min(s[0],t,n),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,n),s[3]=Math.max(s[3],e,r)}static#t(t,e,n,r,s,a,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,g=c*c,p=g*c,v=f*(f*(f*t+3*c*e)+3*g*n)+p*r,y=f*(f*(f*s+3*c*a)+3*g*o)+p*l;u[0]=Math.min(u[0],v),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],v),u[3]=Math.max(u[3],y)}static#e(t,e,n,r,s,a,o,l,c,u,f,g){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#t(t,e,n,r,s,a,o,l,-f/u,g);return}const p=u**2-4*f*c;if(p<0)return;const v=Math.sqrt(p),y=2*c;this.#t(t,e,n,r,s,a,o,l,(-u+v)/y,g),this.#t(t,e,n,r,s,a,o,l,(-u-v)/y,g)}static bezierBoundingBox(t,e,n,r,s,a,o,l,c){c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l),this.#e(t,n,s,o,e,r,a,l,3*(-t+3*(n-s)+o),6*(t-2*n+s),3*(n-t),c),this.#e(t,n,s,o,e,r,a,l,3*(-e+3*(r-a)+l),6*(e-2*r+a),3*(r-e),c)}};function A3(i){return decodeURIComponent(escape(i))}let l1=null,tA=null;function x3(i){return l1||(l1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tA=new Map([["","t"]])),i.replaceAll(l1,(t,e,n)=>e?e.normalize("NFKC"):tA.get(n))}function cE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),lE(i)}const Nb="pdfjs_internal_id_";function S3(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...s]=e;if(!i(n)&&!Number.isInteger(n)||!t(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Zs(i,t,e){return Math.min(Math.max(i,t),e)}function hE(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(lE(i))}function E3(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):Yp(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});const Ac="http://www.w3.org/2000/svg";let of=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};async function Zp(i,t="text"){if(dp(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}let Fb=class uE{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=a,n*=e;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let u,f,g,p;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,f=0,g=0,p=1;break;case 90:u=0,f=1,g=1,p=0;break;case 270:u=0,f=-1,g=-1,p=0;break;case 0:u=1,f=0,g=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,p=-p);let v,y,A,w;u===0?(v=Math.abs(c-t[1])*n+s,y=Math.abs(l-t[0])*n+a,A=(t[3]-t[1])*n,w=(t[2]-t[0])*n):(v=Math.abs(l-t[0])*n+s,y=Math.abs(c-t[1])*n+a,A=(t[2]-t[0])*n,w=(t[3]-t[1])*n),this.transform=[u*n,f*n,g*n,p*n,v-u*n*l-g*n*c,y-f*n*l-p*n*c],this.width=A,this.height=w}get rawDims(){const t=this.viewBox;return Un(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new uE({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const n=[t,e];return Xe.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Xe.applyTransform(e,this.transform);const n=[t[2],t[3]];return Xe.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Xe.applyInverseTransform(n,this.transform),n}},Rb=class extends Mu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}};function Lm(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Ib(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function C3(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function k3(i,t="document.pdf"){if(typeof i!="string")return t;if(Lm(i))return Cn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return t;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return r(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(s.test(c))return r(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return r(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return r(l[0])}return t}let eA=class{started=Object.create(null);times=[];time(t){t in this.started&&Cn(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Cn(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-r}ms
`);return t.join("")}};function dp(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function tl(i){i.preventDefault()}function Li(i){i.preventDefault(),i.stopPropagation()}function _3(i){console.log("Deprecated API usage: "+i)}let dE=class{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(e[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=u,o+=f):c==="+"&&(a-=u,o-=f),new Date(Date.UTC(n,r,s,a,o,l))}};function P3(i,{scale:t=1,rotation:e=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Fb({viewBox:s,userUnit:1,scale:t,rotation:e})}function Db(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Cn(`Not a valid color format: "${i}"`),[0,0,0])}function T3(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,Db(n))}t.remove()}function ri(i){const{a:t,b:e,c:n,d:r,e:s,f:a}=i.getTransform();return[t,e,n,r,s,a]}function xl(i){const{a:t,b:e,c:n,d:r,e:s,f:a}=i.getTransform().invertSelf();return[t,e,n,r,s,a]}function Tu(i,t,e=!1,n=!0){if(t instanceof Fb){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:a}=i,o=ms.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!e||t.rotation%180===0?(a.width=u,a.height=f):(a.width=f,a.height=u)}n&&i.setAttribute("data-main-rotation",t.rotation)}let Lu=class Ly{constructor(){const{pixelRatio:t}=Ly;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,s=-1){let a=1/0,o=1/0,l=1/0;n=Ly.capPixels(n,s),n>0&&(a=Math.sqrt(n/(t*e))),r!==-1&&(o=r/t,l=r/e);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}};const Ny=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];let L3=class I0{#t=null;#e=null;#n;#r=null;#s=null;#i=null;static#a=null;constructor(t){this.#n=t,I0.#a||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",tl,{signal:e}),t.addEventListener("pointerdown",I0.#o,{signal:e});const n=this.#r=document.createElement("div");n.className="buttons",t.append(n);const r=this.#n.toolbarPosition;if(r){const{style:s}=t,a=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#o(t){t.stopPropagation()}#c(t){this.#n._focusEventsAllowed=!1,Li(t)}#l(t){this.#n._focusEventsAllowed=!0,Li(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",tl,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",I0.#a[t]),this.#d(n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#r.append(n)}get#h(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#r.append(e,this.#h),this.#s=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#r.append(e,this.#h)}async addEditSignatureButton(t){const e=this.#i=await t.renderEditButton(this.#n);this.#d(e),this.#r.append(e,this.#h)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#i&&(this.#i.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}};class N3{#t=null;#e=null;#n;constructor(t){this.#n=t}#r(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",tl,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#i(),t}#s(t,e){let n=0,r=0;for(const s of t){const a=s.y+s.height;if(a<n)continue;const o=s.x+(e?s.width:0);if(a>n){r=o,n=a;continue}e?o>r&&(r=o):o<r&&(r=o)}return[e?1-r:r,n]}show(t,e,n){const[r,s]=this.#s(e,n),{style:a}=this.#e||=this.#r();t.append(this.#e),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#i(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;t.addEventListener("contextmenu",tl,{signal:n}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function fE(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}let F3=class{#t=0;get id(){return`${sE}${this.#t++}`}},R3=class pE{#t=cE();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Un(this,"_isSVGFittingCanvas",s)}async#r(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await Zp(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=pE._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const f=n.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=u});a.readAsDataURL(r),await l}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Cn(r),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:s}=t;return this.#r(`${e}_${n}_${r}_${s}`,t)}async getFromUrl(t){return this.#r(t,t)}async getFromBlob(t,e){const n=await e;return this.#r(t,n)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}},I3=class{#t=[];#e=!1;#n;#r=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&t(),this.#e)return;const l={cmd:t,undo:e,post:n,type:s};if(this.#r===-1){this.#t.length>0&&(this.#t.length=0),this.#r=0,this.#t.push(l);return}if(a&&this.#t[this.#r].type===s){o&&(l.undo=this.#t[this.#r].undo),this.#t[this.#r]=l;return}const c=this.#r+1;c===this.#n?this.#t.splice(0,1):(this.#r=c,c<this.#t.length&&this.#t.splice(c)),this.#t.push(l)}undo(){if(this.#r===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#r];t(),e?.(),this.#e=!1,this.#r-=1}redo(){if(this.#r<this.#t.length-1){this.#r+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#r];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#t.length-1}cleanType(t){if(this.#r!==-1){for(let e=this.#r;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#r-e),this.#r=e;return}this.#t.length=0,this.#r=-1}}destroy(){this.#t=null}},Jp=class{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=ms.platform;for(const[n,r,s={}]of t)for(const a of n){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(t,e)||(r.bind(t,...a,e)(),s||Li(e))}},D3=class gE{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return T3(t),Un(this,"_colors",t)}convert(t){const e=Db(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((s,a)=>s===e[a]))return gE._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Xe.makeHexColor(...e):t}},Dp=class Fy{#t=new AbortController;#e=null;#n=new Map;#r=new Map;#s=null;#i=null;#a=null;#o=new I3;#c=null;#l=null;#d=0;#h=new Set;#f=null;#g=null;#p=new Set;_editorUndoBar=null;#u=!1;#m=!1;#y=!1;#v=null;#w=null;#A=null;#b=null;#E=!1;#P=null;#k=new F3;#S=!1;#N=!1;#C=null;#F=null;#I=null;#R=null;#D=null;#T=Sn.NONE;#x=new Set;#M=null;#L=null;#_=null;#H=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#q=null;#U=null;#V=null;#G=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Fy.prototype,e=a=>a.#U.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Un(this,"_keyboardManager",new Jp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#U.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#U.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,r,s,a,o,l,c,u,f,g,p,v,y){const A=this._signal=this.#t.signal;this.#U=t,this.#V=e,this.#G=n,this.#s=r,this.#L=s,this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:A}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),a._on("setpreference",this.onSetPreference.bind(this),{signal:A}),a._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:A}),this.#nt(),this.#st(),this.#Q(),this.#i=o.annotationStorage,this.#v=o.filterFactory,this.#_=l,this.#b=c||null,this.#u=u,this.#m=f,this.#y=g,this.#D=p||null,this.viewParameters={realScale:of.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=y!==!1}destroy(){this.#O?.resolve(),this.#O=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#p.clear(),this.#R?.clear(),this.#e=null,this.#x.clear(),this.#o.destroy(),this.#s?.destroy(),this.#L?.destroy(),this.#P?.hide(),this.#P=null,this.#I?.destroy(),this.#I=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#q&&(clearTimeout(this.#q),this.#q=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#D}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Un(this,"hcmFilter",this.#_?this.#v.addHCMFilter(this.#_.foreground,this.#_.background):"none")}get direction(){return Un(this,"direction",getComputedStyle(this.#U).direction)}get highlightColors(){return Un(this,"highlightColors",this.#b?new Map(this.#b.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return Un(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#I=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}getSignature(t){this.#L?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#L}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#U.focus()}findParent(t,e){for(const n of this.#r.values()){const{x:r,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(t>=r&&t<=r+a&&e>=s&&e<=s+o)return n}return null}disableUserSelect(t=!1){this.#V.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*of.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#r.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a}=e,o=e.toString(),c=this.#Y(e).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;e.empty();const f=this.#tt(c),g=this.#T===Sn.NONE,p=()=>{f?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a,text:o}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(Sn.HIGHLIGHT,p);return}p()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Y(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#P||=new N3(this),this.#P.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#i&&!this.#i.has(t.id)&&this.#i.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#G;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#X(){const t=document.getSelection();if(!t||t.isCollapsed){this.#M&&(this.#P?.hide(),this.#M=null,this.#j({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#M)return;const r=this.#Y(t).closest(".textLayer");if(!r){this.#M&&(this.#P?.hide(),this.#M=null,this.#j({hasSelectedText:!1}));return}if(this.#P?.hide(),this.#M=e,this.#j({hasSelectedText:!0}),!(this.#T!==Sn.HIGHLIGHT&&this.#T!==Sn.NONE)&&(this.#T===Sn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#E=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#T===Sn.HIGHLIGHT?this.#tt(r):null;s?.toggleDrawing();const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#J("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}}#J(t=""){this.#T===Sn.HIGHLIGHT?this.highlightSelection(t):this.#u&&this.#et()}#nt(){document.addEventListener("selectionchange",this.#X.bind(this),{signal:this._signal})}#ct(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ht(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#J("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#x)if(e.div.contains(t)){this.#F=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#F)return;const[t,e]=this.#F;this.#F=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const t=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ut(){this.#C?.abort(),this.#C=null}#rt(){if(this.#c)return;this.#c=new AbortController;const t=this.combinedSignal(this.#c);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#c?.abort(),this.#c=null}#st(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#rt()}removeEditListeners(){this.#ut(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#g)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#g)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#x){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const a of this.#g)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Cn(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of n){const c=await r.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#B(l);this.#ot(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Cn(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==Sn.NONE&&!this.isEditorHandlingKeyboard&&Fy._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#J("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#j(t){Object.entries(t).some(([n,r])=>this.#W[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,t)}),this.#T===Sn.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#K([[qn.HIGHLIGHT_FREE,!0]]))}#K(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#rt(),this.#j({isEditing:this.#T!==Sn.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ht(),this.#it(),this.#j({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#g){this.#g=t;for(const e of this.#g)this.#K(e.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#r.get(this.#d)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#r.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1){if(this.#T!==t&&!(this.#O&&(await this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#T=t,t===Sn.NONE){this.setEditingState(!1),this.#dt(),this._editorUndoBar?.hide(),this.#O.resolve();return}t===Sn.SIGNATURE&&await this.#L?.loadSignatures(),this.setEditingState(!0),await this.#at(),this.unselectAll();for(const s of this.#r.values())s.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(const s of this.#n.values())s.annotationElementId===e||s.id===e?(this.setSelected(s),r&&s.enterInEditMode()):s.unselect();this.#O.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#g){switch(t){case qn.CREATE:this.currentLayer.addNewEditor(e);return;case qn.HIGHLIGHT_DEFAULT_COLOR:this.#I?.updateColor(e);break;case qn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#H||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#x)n.updateParams(t,e);for(const n of this.#g)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const s of this.#n.values())s.editorType===t&&s.show(e);(this.#H?.get(qn.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#K([[qn.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#N!==t){this.#N=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#at(){if(!this.#S){this.#S=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#dt(){if(this.unselectAll(),this.#S){this.#S=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#n.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#R?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#h.has(t.annotationElementId))&&this.#i?.remove(t.id)}addDeletedAnnotationElement(t){this.#h.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#h.has(t)}removeDeletedAnnotationElement(t){this.#h.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#B(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#K(t.propertiesToUpdate))}get#Z(){let t=null;for(t of this.#x);return t}updateUI(t){this.#Z===t&&this.#K(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#K(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#x.has(t)){this.#x.delete(t),t.unselect(),this.#j({hasSelectedEditor:this.hasSelection});return}this.#x.add(t),t.select(),this.#K(t.propertiesToUpdate),this.#j({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const e of this.#x)e!==t&&e.unselect();this.#x.clear(),this.#x.add(t),t.select(),this.#K(t.propertiesToUpdate),this.#j({hasSelectedEditor:!0})}isSelected(t){return this.#x.has(t)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(t){t.unselect(),this.#x.delete(t),this.#j({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#j({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#j({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#o.add(t),this.#j({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(t){this.#o.cleanType(t)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#x],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const s of e)this.#B(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#ot(t){for(const e of this.#x)e.unselect();this.#x.clear();for(const e of t)e.isEmpty()||(this.#x.add(e),e.select());this.#j({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#x)t.commit();this.#ot(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==Sn.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#x)t.unselect();this.#x.clear(),this.#j({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=t,this.#z[1]+=e;const[r,s]=this.#z,a=[...this.#x],o=1e3;this.#q&&clearTimeout(this.#q),this.#q=setTimeout(()=>{this.#q=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(t,e),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#x)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:s,pageIndex:a},o]of t)o.newX=r,o.newY=s,o.newPageIndex=a,e||=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!e)return!1;const n=(r,s,a,o)=>{if(this.#n.has(r.id)){const l=this.#r.get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of t)n(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of t)n(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}get imageManager(){return Un(this,"imageManager",new R3)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,u=e.rangeCount;c<u;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,u,f,g)=>({x:(u-r)/a,y:1-(c+f-n)/s,width:g/a,height:f/s});break;case"180":o=(c,u,f,g)=>({x:1-(c+f-n)/s,y:1-(u+g-r)/a,width:f/s,height:g/a});break;case"270":o=(c,u,f,g)=>({x:1-(u+g-r)/a,y:(c-n)/s,width:g/a,height:f/s});break;default:o=(c,u,f,g)=>({x:(c-n)/s,y:(u-r)/a,width:f/s,height:g/a});break}const l=[];for(let c=0,u=e.rangeCount;c<u;c++){const f=e.getRangeAt(c);if(!f.collapsed)for(const{x:g,y:p,width:v,height:y}of f.getClientRects())v===0||y===0||l.push(o(g,p,v,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#a||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#a?.delete(t)}renderAnnotationElement(t){const e=this.#a?.get(t.data.id);if(!e)return;const n=this.#i.getRawValue(e);n&&(this.#T===Sn.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#R?.get(t);r&&(r.setCanvas(e,n),this.#R.delete(t))}addMissingCanvas(t,e){(this.#R||=new Map).set(t,e)}},nA=class bh{#t=null;#e=!1;#n=null;#r=null;#s=null;#i=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,bh.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){bh._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#r=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",bh.#f.missing),e.setAttribute("data-l10n-id",bh.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",tl,{signal:n}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#a=!0,r(s))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await bh._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(s||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",bh.#f[this.#g]),this.#r?.setAttribute("data-l10n-id",bh.#f[`${this.#g}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")},{signal:s})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}},mE=class vE{#t;#e=!1;#n=null;#r;#s;#i;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#t=t,this.#n=n,this.#r=e,this.#s=r,this.#i=s,this.#a=a,this.#d=new AbortController,this.#c=AbortSignal.any([o,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Lu.pixelRatio}#f(t){if(this.#r?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),a=this.#t,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(Li(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),s=this.#t,a={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const o=this.#p.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",Li,a),s.addEventListener("pointermove",Li,a),s.addEventListener("pointercancel",Li,a),s.addEventListener("pointerup",Li,a),this.#s?.()}if(Li(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;Li(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:s}=e,{screenX:a,screenY:o}=n,l=this.#l,{touch0X:c,touch0Y:u,touch1X:f,touch1Y:g}=l,p=f-c,v=g-u,y=a-r,A=o-s,w=Math.hypot(y,A)||1,C=Math.hypot(p,v)||1;if(!this.#e&&Math.abs(C-w)<=vE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#e){this.#e=!0;return}const E=[(r+a)/2,(s+o)/2];this.#i?.(E,C,w)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(Li(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}},Xr=class br{#t=null;#e=null;#n=null;#r=!1;#s=null;#i="";#a=!1;#o=null;#c=null;#l=null;#d=null;#h="";#f=!1;#g=null;#p=!1;#u=!1;#m=!1;#y=null;#v=0;#w=0;#A=null;#b=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#E=!1;#P=br._zIndex++;static _borderLineWidth=-1;static _colorManager=new D3;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=br.prototype._resizeWithKeyboard,e=Dp.TRANSLATE_SMALL,n=Dp.TRANSLATE_BIG;return Un(this,"_resizerKeyboardManager",new Jp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],br.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Un(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new M3({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(br._l10n??=t,br._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),br._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);br._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ar("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#E}set _isDraggable(t){this.#E=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#P}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#V(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[s,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/s,this.y=(e+r)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#k([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#k(this.parentDimensions,t,e)}translateInPage(t,e){this.#g||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#g||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=n;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#g&&(this.#g[0]!==this.x||this.#g[1]!==this.y)}get _hasBeenResized(){return!!this.#g&&(this.#g[2]!==this.width||this.#g[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=br,r=n/t,s=n/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=r,s*=n,a*=r,this._mustFixPosition)switch(t){case 0:s=Zs(s,0,n-o),a=Zs(a,0,r-l);break;case 90:s=Zs(s,0,n-l),a=Zs(a,o,r);break;case 180:s=Zs(s,o,n),a=Zs(a,l,r);break;case 270:s=Zs(s,l,n),a=Zs(a,0,r-o);break}this.x=s/=n,this.y=a/=r;const[c,u]=this.getBaseTranslation();s+=c,a+=u,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#S(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return br.#S(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return br.#S(t,e,360-this.parentRotation)}#N(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/n).toFixed(2)}%`,this.#a||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),s=!this.#a&&e.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!this.#a&&!s&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#o.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#F.bind(this,n),{signal:e}),r.addEventListener("contextmenu",tl,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#o)}#F(t,e){e.preventDefault();const{isMac:n}=ms.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#c=[e.screenX,e.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#D.bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Li,{passive:!1,signal:a}),window.addEventListener("contextmenu",tl,{signal:a}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#R()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#I(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[s,a]=this.parentDimensions;this.setDims(s*n,a*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#R(){if(!this.#l)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#l;this.#l=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===t&&a===e&&o===n&&l===r||this.addCommands({cmd:this.#I.bind(this,s,a,o,l),undo:this.#I.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#D(t,e){const[n,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=br.MIN_SIZE/n,u=br.MIN_SIZE/r,f=this.#N(this.rotation),g=(Z,$)=>[f[0]*Z+f[2]*$,f[1]*Z+f[3]*$],p=this.#N(360-this.rotation),v=(Z,$)=>[p[0]*Z+p[2]*$,p[1]*Z+p[3]*$];let y,A,w=!1,C=!1;switch(t){case"topLeft":w=!0,y=(Z,$)=>[0,0],A=(Z,$)=>[Z,$];break;case"topMiddle":y=(Z,$)=>[Z/2,0],A=(Z,$)=>[Z/2,$];break;case"topRight":w=!0,y=(Z,$)=>[Z,0],A=(Z,$)=>[0,$];break;case"middleRight":C=!0,y=(Z,$)=>[Z,$/2],A=(Z,$)=>[0,$/2];break;case"bottomRight":w=!0,y=(Z,$)=>[Z,$],A=(Z,$)=>[0,0];break;case"bottomMiddle":y=(Z,$)=>[Z/2,$],A=(Z,$)=>[Z/2,0];break;case"bottomLeft":w=!0,y=(Z,$)=>[0,$],A=(Z,$)=>[Z,0];break;case"middleLeft":C=!0,y=(Z,$)=>[0,$/2],A=(Z,$)=>[Z,$/2];break}const E=y(o,l),k=A(o,l);let L=g(...k);const R=br._round(s+L[0]),M=br._round(a+L[1]);let j=1,B=1,X,D;if(e.fromKeyboard)({deltaX:X,deltaY:D}=e);else{const{screenX:Z,screenY:$}=e,[st,rt]=this.#c;[X,D]=this.screenToPageTranslation(Z-st,$-rt),this.#c[0]=Z,this.#c[1]=$}if([X,D]=v(X/n,D/r),w){const Z=Math.hypot(o,l);j=B=Math.max(Math.min(Math.hypot(k[0]-E[0]-X,k[1]-E[1]-D)/Z,1/o,1/l),c/o,u/l)}else C?j=Zs(Math.abs(k[0]-E[0]-X),c,1)/o:B=Zs(Math.abs(k[1]-E[1]-D),u,1)/l;const z=br._round(o*j),U=br._round(l*B);L=g(...A(z,U));const Q=R-L[0],pt=M-L[1];this.#g||=[this.x,this.y,this.width,this.height],this.width=z,this.height=U,this.x=Q,this.y=pt,this.setDims(n*z,r*U),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#u)return this._editToolbar;this._editToolbar=new L3(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(nA.initialize(br._l10n),this.#n=new nA(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#r?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#H();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),fE(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#b||=new mE({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#T.bind(this),onPinching:this.#x.bind(this),onPinchEnd:this.#M.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#T(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#x(t,e,n){let s=.7*(n/e)+1-.7;if(s===1)return;const a=this.#N(this.rotation),o=(R,M)=>[a[0]*R+a[2]*M,a[1]*R+a[3]*M],[l,c]=this.parentDimensions,u=this.x,f=this.y,g=this.width,p=this.height,v=br.MIN_SIZE/l,y=br.MIN_SIZE/c;s=Math.max(Math.min(s,1/g,1/p),v/g,y/p);const A=br._round(g*s),w=br._round(p*s);if(A===g&&w===p)return;this.#g||=[u,f,g,p];const C=o(g/2,p/2),E=br._round(u+C[0]),k=br._round(f+C[1]),L=o(A/2,w/2);this.x=E-L[0],this.y=k-L[1],this.width=A,this.height=w,this.setDims(l*A,c*w),this.fixAndSetPosition(),this._onResizing()}#M(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#R()}pointerdown(t){const{isMac:e}=ms.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#_(t);return}this.#L(t)}#L(t){const{isMac:e}=ms.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#_(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=c=>{r.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#L(c),n&&this._onStopDragging()};e&&(this.#v=t.clientX,this.#w=t.clientY,this.#s=t.pointerId,this.#i=t.pointerType,window.addEventListener("pointermove",c=>{n||(n=!0,this._onStartDragging());const{clientX:u,clientY:f,pointerId:g}=c;if(g!==this.#s){Li(c);return}const[p,v]=this.screenToPageTranslation(u-this.#v,f-this.#w);this.#v=u,this.#w=f,this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",Li,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#i&&(this.#b||c.isPrimary)&&o(c),Li(c)},a));const l=c=>{if(!this.#s||this.#s===c.pointerId){o(c);return}Li(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/r,u=e/r,f=this.x*s,g=this.y*a,p=this.width*s,v=this.height*a;switch(n){case 0:return[f+c+o,a-g-u-v+l,f+c+p+o,a-g-u+l];case 90:return[f+u+o,a-g+c+l,f+u+v+o,a-g+c+p+l];case 180:return[f-c-p+o,a-g+u+l,f-c+o,a-g+u+v+l];case 270:return[f-u-v+o,a-g-c-p+l,f-u+o,a-g-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,s,a]=t,o=s-n,l=a-r;switch(this.rotation){case 0:return[n,e-a,o,l];case 90:return[n,e-r,l,o];case 180:return[s,e-r,o,l];case 270:return[s,e-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#u=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#u=!1,!0):!1}isInEditMode(){return this.#u}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return e<a&&r>0&&t<s&&n>0}#H(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#H()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Ar("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,c,u]=r.getRectInCurrentCoords(t.rect,a);return r.x=o/s,r.y=l/a,r.width=c/s,r.height=u/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#V(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#b?.destroy(),this.#b=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const a=this.#W.bind(this),o=this.#z.bind(this),l=this._uiManager._signal;for(const c of this.#e){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#q.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",br._l10nResizer[u])}}const n=this.#e[0];let r=0;for(const a of e){if(a===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)this.#o.append(this.#o.firstChild);else if(s>r)for(let o=0;o<s-r;o++)this.#o.firstChild.before(this.#o.lastChild);let a=0;for(const o of e){const c=this.#e[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",br._l10nResizer[c])}}this.#U(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#W(t){br._resizerKeyboardManager.exec(this,t)}#z(t){this.#m&&t.relatedTarget?.parentNode!==this.#o&&this.#V()}#q(t){this.#h=this.#m?t:""}#U(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#D(this.#h,{deltaX:t,deltaY:e,fromKeyboard:!0})}#V(){this.#m=!1,this.#U(-1),this.#R()}_stopResizingWithKeyboard(){this.#V(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#a=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:n}=t;let r=this.#A.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(n),this.#A.size===0&&(this.#A=null)},br._telemetryTimeout),this.#A.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}},M3=class extends Xr{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}};const rA=3285377520,uo=4294901760,Sl=65535;let yE=class{constructor(t){this.h1=t?t&4294967295:rA,this.h2=t?t&4294967295:rA}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let y=0,A=t.length;y<A;y++){const w=t.charCodeAt(y);w<=255?e[n++]=w:(e[n++]=w>>>8,e[n++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,a=new Uint32Array(e.buffer,0,r);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,g=461845907,p=f&Sl,v=g&Sl;for(let y=0;y<r;y++)y&1?(o=a[y],o=o*f&uo|o*p&Sl,o=o<<15|o>>>17,o=o*g&uo|o*v&Sl,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*f&uo|l*p&Sl,l=l<<15|l>>>17,l=l*g&uo|l*v&Sl,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=e[r*4+2]<<16;case 2:o^=e[r*4+1]<<8;case 1:o^=e[r*4],o=o*f&uo|o*p&Sl,o=o<<15|o>>>17,o=o*g&uo|o*v&Sl,r&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&uo|t*36045&Sl,e=e*4283543511&uo|((e<<16|t>>>16)*2950163797&uo)>>>16,t^=e>>>1,t=t*444984403&uo|t*60499&Sl,e=e*3301882366&uo|((e<<16|t>>>16)*3120437893&uo)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}};const Ry=Object.freeze({map:null,hash:"",transfer:void 0});let Mb=class{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof Xr)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[s,a]of Object.entries(e))n[s]!==a&&(r=!0,n[s]=a);else r=!0,this.#n.set(t,e);r&&this.#r(),e instanceof Xr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new bE(this)}get serializable(){if(this.#n.size===0)return Ry;const t=new Map,e=new yE,n=[],r=Object.create(null);let s=!1;for(const[a,o]of this.#n){const l=o instanceof Xr?o.serialize(!1,r):o;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Ry}get editorStats(){let t=null;const e=new Map;for(const n of this.#n.values()){if(!(n instanceof Xr))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const a=t[s]||=new Map;for(const[o,l]of Object.entries(r)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof Xr)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}},bE=class extends Mb{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#t={map:s,hash:n,transfer:r}}get print(){Ar("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Un(this,"modifiedIds",{ids:new Set,hash:""})}},O3=class{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Ri(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=t,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),this.#t.add(r),n?.(t)}catch{Cn(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ar("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Cn(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Un(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Un(this,"isSyncFontLoadingSupported",Ys||ms.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ri(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Un(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,L){return k.charCodeAt(L)<<24|k.charCodeAt(L+1)<<16|k.charCodeAt(L+2)<<8|k.charCodeAt(L+3)&255}function r(k,L,R,M){const j=k.substring(0,L),B=k.substring(L+R);return j+M+B}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(k,L){if(++c>30){Cn("Load test font never loaded."),L();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(u.bind(null,k,L))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,f.length,f);const v=16,y=1482184792;let A=n(g,v);for(s=0,a=f.length-3;s<a;s+=4)A=A-y+n(f,s)|0;s<f.length&&(A=A-y+n(f+"XXX",s)|0),g=r(g,v,4,y3(A));const w=`url(data:font/opentype;base64,${btoa(g)});`,C=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(C);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const k of[t.loadedName,f]){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=k,E.append(L)}this._document.body.append(E),u(f,()=>{E.remove(),e.complete()})}},B3=class{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${hE(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(a){Cn(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}};function j3(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Ys)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function z3(i){if(Ys&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Yp(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $g(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const Iy=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,U3=i=>typeof i=="object"&&typeof i?.name=="string",H3=S3.bind(null,Iy,U3);let q3=class{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Cn("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}};const t0={DATA:1,ERROR:2},ki={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function iA(){}function ya(i){if(i instanceof Lh||i instanceof Ty||i instanceof $w||i instanceof nm||i instanceof a1)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||Ar('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Lh(i.message);case"InvalidPDFException":return new Ty(i.message);case"PasswordException":return new $w(i.message,i.code);case"ResponseException":return new nm(i.message,i.status,i.missing);case"UnknownErrorException":return new a1(i.message,i.details)}return new a1(i.message,i.toString())}let fp=class{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#r(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===t0.DATA)r.resolve(t.data);else if(t.callback===t0.ERROR)r.reject(ya(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(a){s.postMessage({sourceName:n,targetName:r,callback:t0.DATA,callbackId:t.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:r,callback:t0.ERROR,callbackId:t.callbackId,reason:ya(a)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(t,e,n,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:s,data:e,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:ki.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ri(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:ki.CANCEL,streamId:s,reason:ya(c)}),u.promise}},n)}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,a=this,o=this.actionHandler[t.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=u,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:ki.ENQUEUE,streamId:e,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:ki.CLOSE,streamId:e}),delete a.streamSinks[e])},error(c){Ri(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:ki.ERROR,streamId:e,reason:ya(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(o,t.data,l).then(function(){s.postMessage({sourceName:n,targetName:r,stream:ki.START_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:ki.START_COMPLETE,streamId:e,reason:ya(c)})})}#r(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case ki.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(ya(t.reason));break;case ki.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(ya(t.reason));break;case ki.PULL:if(!o){s.postMessage({sourceName:n,targetName:r,stream:ki.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||iA).then(function(){s.postMessage({sourceName:n,targetName:r,stream:ki.PULL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:ki.PULL_COMPLETE,streamId:e,reason:ya(c)})});break;case ki.ENQUEUE:if(Ri(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case ki.CLOSE:if(Ri(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#s(a,e);break;case ki.ERROR:Ri(a,"error should have stream controller"),a.controller.error(ya(t.reason)),this.#s(a,e);break;case ki.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(ya(t.reason)),this.#s(a,e);break;case ki.CANCEL:if(!o)break;const l=ya(t.reason);Promise.try(o.onCancel||iA,l).then(function(){s.postMessage({sourceName:n,targetName:r,stream:ki.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:ki.CANCEL_COMPLETE,streamId:e,reason:ya(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}},wE=class{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ar("Abstract method `_createCanvas` called.")}},W3=class extends wE{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}},AE=class{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ar("Abstract method `_fetch` called.")}},sA=class extends AE{async _fetch(t){const e=await Zp(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Yp(e)}},xE=class{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,s){return"none"}destroy(t=!1){}},V3=class extends xE{#t;#e;#n;#r;#s;#i;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#r=t,this.#s=e}get#o(){return this.#e||=new Map}get#c(){return this.#i||=new Map}get#l(){if(!this.#n){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#s.createElementNS(Ac,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Ac,"defs"),t.append(n),n.append(this.#n),this.#s.body.append(t)}return this.#n}#d(t){if(t.length===1){const l=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=l[f]/255;const u=c.join(",");return[u,u,u]}const[e,n,r]=t,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=e[l]/255,a[l]=n[l]/255,o[l]=r[l]/255;return[s.join(","),a.join(","),o.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(Lm(e)?Cn('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=oE(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,s]=this.#d(t),a=t.length===1?n:`${n}${r}${s}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#r}_transfer_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(a,l);const c=this.#p(o);return this.#m(n,r,s,c),l}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let s=this.#c.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(r,s)),!t||!e))return s.url;const a=this.#v(t);t=Xe.makeHexColor(...a);const o=this.#v(e);if(e=Xe.makeHexColor(...o),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;const l=new Array(256);for(let p=0;p<=255;p++){const v=p/255;l[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#r}_hcm_filter`,f=s.filter=this.#p(u);this.#m(c,c,c,f),this.#g(f);const g=(p,v)=>{const y=a[p]/255,A=o[p]/255,w=new Array(v+1);for(let C=0;C<=v;C++)w[C]=y+C/v*(A-y);return w.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),f),s.url=this.#h(u),s.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#r}_alpha_map_${this.#a++}`,a=this.#h(s);this.#o.set(t,a),this.#o.set(r,a);const o=this.#p(s);return this.#y(n,o),a}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#r}_luminosity_map_${this.#a++}`,a=this.#h(s);this.#o.set(t,a),this.#o.set(r,a);const o=this.#p(s);return this.#f(o),t&&this.#y(n,o),a}addHighlightHCMFilter(t,e,n,r,s){const a=`${e}-${n}-${r}-${s}`;let o=this.#c.get(t);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(t,o)),!e||!n))return o.url;const[l,c]=[e,n].map(this.#v.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[g,p]=[r,s].map(this.#v.bind(this));f<u&&([u,f,g,p]=[f,u,p,g]),this.#l.style.color="";const v=(w,C,E)=>{const k=new Array(256),L=(f-u)/E,R=w/255,M=(C-w)/(255*E);let j=0;for(let B=0;B<=E;B++){const X=Math.round(u+B*L),D=R+B*M;for(let z=j;z<=X;z++)k[z]=D;j=X+1}for(let B=j;B<256;B++)k[B]=k[j-1];return k.join(",")},y=`g_${this.#r}_hcm_${t}_filter`,A=o.filter=this.#p(y);return this.#g(A),this.#m(v(g[0],p[0],5),v(g[1],p[1],5),v(g[2],p[2],5),A),o.url=this.#h(y),o.url}destroy(t=!1){t&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#i?.clear(),this.#i=null,this.#a=0)}#f(t){const e=this.#s.createElementNS(Ac,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#s.createElementNS(Ac,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#s.createElementNS(Ac,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#s.createElementNS(Ac,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const s=this.#s.createElementNS(Ac,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",t),this.#u(s,"feFuncG",e),this.#u(s,"feFuncB",n)}#y(t,e){const n=this.#s.createElementNS(Ac,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,Db(getComputedStyle(this.#l).getPropertyValue("color"))}},SE=class{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ar("Abstract method `_fetch` called.")}},aA=class extends SE{async _fetch(t){const e=await Zp(t,"arraybuffer");return new Uint8Array(e)}},EE=class{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ar("Abstract method `_fetch` called.")}},oA=class extends EE{async _fetch(t){const e=await Zp(t,"arraybuffer");return new Uint8Array(e)}};Ys&&Cn("Please use the `legacy` build in Node.js environments.");async function Ob(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}let G3=class extends xE{},X3=class extends wE{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}},K3=class extends AE{async _fetch(t){return Ob(t)}},Y3=class extends SE{async _fetch(t){return Ob(t)}},Z3=class extends EE{async _fetch(t){return Ob(t)}};const fs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Dy(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),i.clip(r)}let Bb=class{isModifyingCurrentTransform(){return!1}getPattern(){Ar("Abstract method `getPattern` called.")}},J3=class extends Bb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let s;if(r===fs.STROKE||r===fs.FILL){const a=e.current.getClippedPathBoundingBox(r,ri(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=Xe.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),Dy(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=t.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else Dy(t,this._bbox),s=this._createGradient(t);return s}};function c1(i,t,e,n,r,s,a,o){const l=t.coords,c=t.colors,u=i.data,f=i.width*4;let g;l[e+1]>l[n+1]&&(g=e,e=n,n=g,g=s,s=a,a=g),l[n+1]>l[r+1]&&(g=n,n=r,r=g,g=a,a=o,o=g),l[e+1]>l[n+1]&&(g=e,e=n,n=g,g=s,s=a,a=g);const p=(l[e]+t.offsetX)*t.scaleX,v=(l[e+1]+t.offsetY)*t.scaleY,y=(l[n]+t.offsetX)*t.scaleX,A=(l[n+1]+t.offsetY)*t.scaleY,w=(l[r]+t.offsetX)*t.scaleX,C=(l[r+1]+t.offsetY)*t.scaleY;if(v>=C)return;const E=c[s],k=c[s+1],L=c[s+2],R=c[a],M=c[a+1],j=c[a+2],B=c[o],X=c[o+1],D=c[o+2],z=Math.round(v),U=Math.round(C);let Q,pt,Z,$,st,rt,ot,q;for(let I=z;I<=U;I++){if(I<A){const mt=I<v?0:(v-I)/(v-A);Q=p-(p-y)*mt,pt=E-(E-R)*mt,Z=k-(k-M)*mt,$=L-(L-j)*mt}else{let mt;I>C?mt=1:A===C?mt=0:mt=(A-I)/(A-C),Q=y-(y-w)*mt,pt=R-(R-B)*mt,Z=M-(M-X)*mt,$=j-(j-D)*mt}let W;I<v?W=0:I>C?W=1:W=(v-I)/(v-C),st=p-(p-w)*W,rt=E-(E-B)*W,ot=k-(k-X)*W,q=L-(L-D)*W;const nt=Math.round(Math.min(Q,st)),lt=Math.round(Math.max(Q,st));let dt=f*I+nt*4;for(let mt=nt;mt<=lt;mt++)W=(Q-mt)/(Q-st),W<0?W=0:W>1&&(W=1),u[dt++]=pt-(pt-rt)*W|0,u[dt++]=Z-(Z-ot)*W|0,u[dt++]=$-($-q)*W|0,u[dt++]=255}}function Q3(i,t,e){const n=t.coords,r=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let f=0;f<c;f++,u++)c1(i,e,n[u],n[u+1],n[u+o],r[u],r[u+1],r[u+o]),c1(i,e,n[u+o+1],n[u+1],n[u+o],r[u+o+1],r[u+1],r[u+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)c1(i,e,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}let $3=class extends Bb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=c/f,v=u/g,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/v},A=f+4,w=g+4,C=n.getCanvas("mesh",A,w),E=C.context,k=E.createImageData(f,g);if(e){const R=k.data;for(let M=0,j=R.length;M<j;M+=4)R[M]=e[0],R[M+1]=e[1],R[M+2]=e[2],R[M+3]=255}for(const R of this._figures)Q3(k,R,y);return E.putImageData(k,2,2),{canvas:C.canvas,offsetX:o-2*p,offsetY:l-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){Dy(t,this._bbox);const s=new Float32Array(2);if(r===fs.SHADING)Xe.singularValueDecompose2dScale(ri(t),s);else if(this.matrix){Xe.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Xe.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=o,s[1]*=l}else Xe.singularValueDecompose2dScale(e.baseTransform,s);const a=this._createMeshCanvas(s,r===fs.SHADING?null:this._background,e.cachedCanvases);return r!==fs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}},tL=class extends Bb{getPattern(){return"hotpink"}};function eL(i){switch(i[0]){case"RadialAxial":return new J3(i);case"Mesh":return new $3(i);case"Dummy":return new tL}throw new Error(`Unknown IR type: ${i[0]}`)}const lA={COLORED:1,UNCOLORED:2};let nL=class CE{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Tm("TilingType: "+s);const u=e[0],f=e[1],g=e[2],p=e[3],v=g-u,y=p-f,A=new Float32Array(2);Xe.singularValueDecompose2dScale(this.matrix,A);const[w,C]=A;Xe.singularValueDecompose2dScale(this.baseTransform,A);const E=w*A[0],k=C*A[1];let L=v,R=y,M=!1,j=!1;const B=Math.ceil(l*E),X=Math.ceil(c*k),D=Math.ceil(v*E),z=Math.ceil(y*k);B>=D?L=l:M=!0,X>=z?R=c:j=!0;const U=this.getSizeAndScale(L,this.ctx.canvas.width,E),Q=this.getSizeAndScale(R,this.ctx.canvas.height,k),pt=t.cachedCanvases.getCanvas("pattern",U.size,Q.size),Z=pt.context,$=o.createCanvasGraphics(Z);if($.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext($,r,a),Z.translate(-U.scale*u,-Q.scale*f),$.transform(U.scale,0,0,Q.scale,0,0),Z.save(),this.clipBbox($,u,f,g,p),$.baseTransform=ri($.ctx),$.executeOperatorList(n),$.endDrawing(),Z.restore(),M||j){const st=pt.canvas;M&&(L=l),j&&(R=c);const rt=this.getSizeAndScale(L,this.ctx.canvas.width,E),ot=this.getSizeAndScale(R,this.ctx.canvas.height,k),q=rt.size,I=ot.size,W=t.cachedCanvases.getCanvas("pattern-workaround",q,I),nt=W.context,lt=M?Math.floor(v/l):0,dt=j?Math.floor(y/c):0;for(let mt=0;mt<=lt;mt++)for(let yt=0;yt<=dt;yt++)nt.drawImage(st,q*mt,I*yt,q,I,0,0,q,I);return{canvas:W.canvas,scaleX:rt.scale,scaleY:ot.scale,offsetX:u,offsetY:f}}return{canvas:pt.canvas,scaleX:U.scale,scaleY:Q.scale,offsetX:u,offsetY:f}}getSizeAndScale(t,e,n){const r=Math.max(CE.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=r?s=r:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,r,s){const a=r-e,o=s-n;t.ctx.rect(e,n,a,o),Xe.axialAlignedBoundingBox([e,n,r,s],ri(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,s=t.current;switch(e){case lA.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case lA.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new v3(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let s=n;r!==fs.SHADING&&(s=Xe.transform(s,e.baseTransform),this.matrix&&(s=Xe.transform(s,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};function rL({src:i,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=ms.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=n>>3,f=n&7,g=i.length;e=new Uint32Array(e.buffer);let p=0;for(let v=0;v<r;v++){for(const A=t+u;t<A;t++){const w=t<g?i[t]:255;e[p++]=w&128?c:l,e[p++]=w&64?c:l,e[p++]=w&32?c:l,e[p++]=w&16?c:l,e[p++]=w&8?c:l,e[p++]=w&4?c:l,e[p++]=w&2?c:l,e[p++]=w&1?c:l}if(f===0)continue;const y=t<g?i[t++]:255;for(let A=0;A<f;A++)e[p++]=y&1<<7-A?c:l}return{srcPos:t,destPos:p}}const cA=16,hA=100,iL=15,uA=10,wa=16,h1=new DOMMatrix,Ha=new Float32Array(2),Hd=new Float32Array([1/0,1/0,-1/0,-1/0]);function sL(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,r,s,a,o){t.transform(e,n,r,s,a,o),this.__originalTransform(e,n,r,s,a,o)},i.setTransform=function(e,n,r,s,a,o){t.setTransform(e,n,r,s,a,o),this.__originalSetTransform(e,n,r,s,a,o)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,r,s,a,o){t.bezierCurveTo(e,n,r,s,a,o),this.__originalBezierCurveTo(e,n,r,s,a,o)},i.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}let aL=class{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}};function e0(i,t,e,n,r,s,a,o,l,c){const[u,f,g,p,v,y]=ri(i);if(f===0&&g===0){const C=a*u+v,E=Math.round(C),k=o*p+y,L=Math.round(k),R=(a+l)*u+v,M=Math.abs(Math.round(R)-E)||1,j=(o+c)*p+y,B=Math.abs(Math.round(j)-L)||1;return i.setTransform(Math.sign(u),0,0,Math.sign(p),E,L),i.drawImage(t,e,n,r,s,0,0,M,B),i.setTransform(u,f,g,p,v,y),[M,B]}if(u===0&&p===0){const C=o*g+v,E=Math.round(C),k=a*f+y,L=Math.round(k),R=(o+c)*g+v,M=Math.abs(Math.round(R)-E)||1,j=(a+l)*f+y,B=Math.abs(Math.round(j)-L)||1;return i.setTransform(0,Math.sign(f),Math.sign(g),0,E,L),i.drawImage(t,e,n,r,s,0,0,B,M),i.setTransform(u,f,g,p,v,y),[B,M]}i.drawImage(t,e,n,r,s,a,o,l,c);const A=Math.hypot(u,f),w=Math.hypot(g,p);return[A*l,w*c]}let dA=class{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Py;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ds.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Hd.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=fs.FILL,e=null){const n=this.minMax.slice();if(t===fs.STROKE){e||Ar("Stroke bounding box must include transform."),Xe.singularValueDecompose2dScale(e,Ha);const r=Ha[0]*this.lineWidth/2,s=Ha[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const t=Xe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Hd,0)}getClippedPathBoundingBox(t=fs.FILL,e=null){return Xe.intersect(this.clipBox,this.getPathBoundingBox(t,e))}};function fA(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%wa,s=(e-r)/wa,a=r===0?s:s+1,o=i.createImageData(n,wa);let l=0,c;const u=t.data,f=o.data;let g,p,v,y;if(t.kind===R0.GRAYSCALE_1BPP){const A=u.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),C=w.length,E=n+7>>3,k=4294967295,L=ms.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(v=g<s?wa:r,c=0,p=0;p<v;p++){const R=A-l;let M=0;const j=R>E?n:R*8-7,B=j&-8;let X=0,D=0;for(;M<B;M+=8)D=u[l++],w[c++]=D&128?k:L,w[c++]=D&64?k:L,w[c++]=D&32?k:L,w[c++]=D&16?k:L,w[c++]=D&8?k:L,w[c++]=D&4?k:L,w[c++]=D&2?k:L,w[c++]=D&1?k:L;for(;M<j;M++)X===0&&(D=u[l++],X=128),w[c++]=D&X?k:L,X>>=1}for(;c<C;)w[c++]=0;i.putImageData(o,0,g*wa)}}else if(t.kind===R0.RGBA_32BPP){for(p=0,y=n*wa*4,g=0;g<s;g++)f.set(u.subarray(l,l+y)),l+=y,i.putImageData(o,0,p),p+=wa;g<a&&(y=n*r*4,f.set(u.subarray(l,l+y)),i.putImageData(o,0,p))}else if(t.kind===R0.RGB_24BPP)for(v=wa,y=n*v,g=0;g<a;g++){for(g>=s&&(v=r,y=n*v),c=0,p=y;p--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;i.putImageData(o,0,g*wa)}else throw new Error(`bad image kind: ${t.kind}`)}function pA(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%wa,s=(e-r)/wa,a=r===0?s:s+1,o=i.createImageData(n,wa);let l=0;const c=t.data,u=o.data;for(let f=0;f<a;f++){const g=f<s?wa:r;({srcPos:l}=rL({src:c,srcPos:l,dest:u,width:n,height:g,nonBlackColor:0})),i.putImageData(o,0,f*wa)}}function Kf(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function n0(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function gA(i,t){if(t)return!0;Xe.singularValueDecompose2dScale(i,Ha);const e=Math.fround(Lu.pixelRatio*of.PDF_TO_CSS_UNITS);return Ha[0]<=e&&Ha[1]<=e}const oL=["butt","round","square"],lL=["miter","round","bevel"],cL={},mA={};let D0=class kE{constructor(t,e,n,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,c){this.ctx=t,this.current=new dA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new aL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...ri(this.compositeCtx))}this.ctx.save(),n0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ri(this.ctx)}executeOperatorList(t,e,n,r){const s=t.argsArray,a=t.fnArray;let o=e||0;const l=s.length;if(l===o)return o;const c=l-o>uA&&typeof n=="function",u=c?Date.now()+iL:0;let f=0;const g=this.commonObjs,p=this.objs;let v;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,n),o;if(v=a[o],v!==em.dependency)this[v].apply(this,s[o]);else for(const y of s[o]){const A=y.startsWith("g_")?g:p;if(!A.has(y))return A.get(y,n),o}if(o++,o===l)return o;if(c&&++f>uA){if(Date.now()>u)return n(),o;f=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=n,l=r,c="prescale1",u,f;for(;s>2&&o>1||a>2&&l>1;){let g=o,p=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,g,p),f=u.context,f.clearRect(0,0,g,p),f.drawImage(t,0,0,o,l,0,0,g,p),t=u.canvas,o=g,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,s=this.current.fillColor,a=this.current.patternFill,o=ri(e);let l,c,u,f;if((t.bitmap||t.data)&&t.count>1){const B=t.bitmap||t.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(B),l||(l=new Map,this._cachedBitmapsMap.set(B,l));const X=l.get(c);if(X&&!a){const D=Math.round(Math.min(o[0],o[2])+o[4]),z=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:X,offsetX:D,offsetY:z}}u=X}u||(f=this.cachedCanvases.getCanvas("maskCanvas",n,r),pA(f.context,t));let g=Xe.transform(o,[1/n,0,0,-1/r,0,0]);g=Xe.transform(g,[1,0,0,1,0,-r]);const p=Hd.slice();Xe.axialAlignedBoundingBox([0,0,n,r],g,p);const[v,y,A,w]=p,C=Math.round(A-v)||1,E=Math.round(w-y)||1,k=this.cachedCanvases.getCanvas("fillCanvas",C,E),L=k.context,R=v,M=y;L.translate(-R,-M),L.transform(...g),u||(u=this._scaleImage(f.canvas,xl(L)),u=u.img,l&&a&&l.set(c,u)),L.imageSmoothingEnabled=gA(ri(L),t.interpolate),e0(L,u,0,0,u.width,u.height,0,0,n,r),L.globalCompositeOperation="source-in";const j=Xe.transform(xl(L),[1,0,0,1,-R,-M]);return L.fillStyle=a?s.getPattern(e,this,j,fs.FILL):s,L.fillRect(0,0,n,r),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,k.canvas)),{canvas:k.canvas,offsetX:Math.round(R),offsetY:Math.round(M)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=oL[t]}setLineJoin(t){this.ctx.lineJoin=lL[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const s=this.ctx=r.context;s.setTransform(this.suspendedCtx.getTransform()),Kf(this.suspendedCtx,s),sL(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Kf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(e.context,n,o,l,e.subtype,e.backdrop,e.transferMap,s,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,s,a,o,l,c,u,f){let g=t.canvas,p=l-u,v=c-f;if(a)if(p<0||v<0||p+n>g.width||v+r>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,r),w=A.context;w.drawImage(g,-p,-v),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,n,r),w.globalCompositeOperation="source-over",g=A.canvas,p=v=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(p,v,n,r),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(p,v,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,n,r),e.clip(y),e.globalCompositeOperation="destination-in",e.drawImage(g,p,v,n,r,l,c,n,r),e.restore()}save(){this.inSMaskMode&&Kf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Kf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,s,a){this.ctx.transform(t,e,n,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[r]=e;if(!n){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const s=e[0]=new Path2D;for(let a=0,o=r.length;a<o;)switch(r[a++]){case Qg.moveTo:s.moveTo(r[a++],r[a++]);break;case Qg.lineTo:s.lineTo(r[a++],r[a++]);break;case Qg.curveTo:s.bezierCurveTo(r[a++],r[a++],r[a++],r[a++],r[a++],r[a++]);break;case Qg.closePath:s.closePath();break;default:Cn(`Unrecognized drawing path operator: ${r[a-1]}`);break}r=s}Xe.axialAlignedBoundingBox(n,ri(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const s=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,xl(n),fs.STROKE),s){const a=new Path2D;a.addPath(t,n.getTransform().invertSelf().multiplySelf(s)),t=a}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(fs.STROKE,ri(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let a=!1;if(s){const l=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,xl(n),fs.FILL),l){const c=new Path2D;c.addPath(t,n.getTransform().invertSelf().multiplySelf(l)),t=c}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),a&&n.restore(),e&&this.consumePath(t,o)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=cL}eoClip(){this.pendingClip=mA}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,r=e.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:l,path:c}of t)n.addPath(c,new DOMMatrix(s).preMultiplySelf(r).translate(a,o).scale(l,-l));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||Py,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Cn("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=e;e<cA?c=cA:e>hA&&(c=hA),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,s){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,f=c&Ds.FILL_STROKE_MASK,g=!!(c&Ds.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile,v=o.patternStroke&&!l.missingFile;let y;if((l.disableFontFace||g||p||v)&&(y=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||v){a.save(),a.translate(e,n),a.scale(u,-u);let A;if((f===Ds.FILL||f===Ds.FILL_STROKE)&&(r?(A=a.getTransform(),a.setTransform(...r),a.fill(this.#n(y,A,r))):a.fill(y)),f===Ds.STROKE||f===Ds.FILL_STROKE)if(s){A||=a.getTransform(),a.setTransform(...s);const{a:w,b:C,c:E,d:k}=A,L=Xe.inverseTransform(s),R=Xe.transform([w,C,E,k,0,0],L);Xe.singularValueDecompose2dScale(R,Ha),a.lineWidth*=Math.max(Ha[0],Ha[1])/u,a.stroke(this.#n(y,A,s))}else a.lineWidth/=u,a.stroke(y);a.restore()}else(f===Ds.FILL||f===Ds.FILL_STROKE)&&a.fillText(t,e,n),(f===Ds.STROKE||f===Ds.FILL_STROKE)&&a.strokeText(t,e,n);g&&(this.pendingTextPaths||=[]).push({transform:ri(a),x:e,y:n,fontSize:u,path:y})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Un(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const s=this.ctx,a=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,u=e.textHScale*c,f=t.length,g=n.vertical,p=g?1:-1,v=n.defaultVMetrics,y=r*e.fontMatrix[0],A=e.textRenderingMode===Ds.FILL&&!n.disableFontFace&&!e.patternFill;s.save(),e.textMatrix&&s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),c>0?s.scale(u,-1):s.scale(u,1);let w,C;if(e.patternFill){s.save();const M=e.fillColor.getPattern(s,this,xl(s),fs.FILL);w=ri(s),s.restore(),s.fillStyle=M}if(e.patternStroke){s.save();const M=e.strokeColor.getPattern(s,this,xl(s),fs.STROKE);C=ri(s),s.restore(),s.strokeStyle=M}let E=e.lineWidth;const k=e.textMatrixScale;if(k===0||E===0){const M=e.textRenderingMode&Ds.FILL_STROKE_MASK;(M===Ds.STROKE||M===Ds.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=k;if(a!==1&&(s.scale(a,a),E/=a),s.lineWidth=E,n.isInvalidPDFjsFont){const M=[];let j=0;for(const B of t)M.push(B.unicode),j+=B.width;s.fillText(M.join(""),0,0),e.x+=j*y*u,s.restore(),this.compose();return}let L=0,R;for(R=0;R<f;++R){const M=t[R];if(typeof M=="number"){L+=p*M*r/1e3;continue}let j=!1;const B=(M.isSpace?l:0)+o,X=M.fontChar,D=M.accent;let z,U,Q=M.width;if(g){const Z=M.vmetric||v,$=-(M.vmetric?Z[1]:Q*.5)*y,st=Z[2]*y;Q=Z?-Z[0]:Q,z=$/a,U=(L+st)/a}else z=L/a,U=0;if(n.remeasure&&Q>0){const Z=s.measureText(X).width*1e3/r*a;if(Q<Z&&this.isFontSubpixelAAEnabled){const $=Q/Z;j=!0,s.save(),s.scale($,1),z/=$}else Q!==Z&&(z+=(Q-Z)/2e3*r/a)}if(this.contentVisible&&(M.isInFont||n.missingFile)){if(A&&!D)s.fillText(X,z,U);else if(this.paintChar(X,z,U,w,C),D){const Z=z+r*D.offset.x/a,$=U-r*D.offset.y/a;this.paintChar(D.fontChar,Z,$,w,C)}}const pt=g?Q*y-B*c:Q*y+B*c;L+=pt,j&&s.restore()}g?e.y-=L:e.x+=L*u,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,s=n.fontSize,a=n.fontDirection,o=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*a,f=n.fontMatrix||Py,g=t.length,p=n.textRenderingMode===Ds.INVISIBLE;let v,y,A,w;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(u,a),v=0;v<g;++v){if(y=t[v],typeof y=="number"){w=o*y*s/1e3,this.ctx.translate(w,0),n.x+=w*u;continue}const C=(y.isSpace?c:0)+l,E=r.charProcOperatorList[y.operatorListId];E?this.contentVisible&&(this.save(),e.scale(s,s),e.transform(...f),this.executeOperatorList(E),this.restore()):Cn(`Type3 character "${y.operatorListId}" is not available.`);const k=[y.width,0];Xe.applyTransform(k,f),A=k[0]*s+C,e.translate(A,0),n.x+=A*u}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,s,a){const o=new Path2D;o.rect(n,r,s-n,a-r),this.ctx.clip(o),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||ri(this.ctx),r={createCanvasGraphics:s=>new kE(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new nL(t,this.ctx,r,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=eL(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,xl(e),fs.SHADING);const r=xl(e);if(r){const{width:s,height:a}=e.canvas,o=Hd.slice();Xe.axialAlignedBoundingBox([0,0,s,a],r,o);const[l,c,u,f]=o;this.ctx.fillRect(l,c,u-l,f-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ar("Should not call beginInlineImage")}beginImageData(){Ar("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ri(this.ctx),e)){Xe.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,r,s,a]=e,o=new Path2D;o.rect(n,r,s-n,a-r),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Tm("TODO: Support non-isolated groups."),t.knockout&&Cn("Knockout groups not supported.");const n=ri(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Hd.slice();Xe.axialAlignedBoundingBox(t.bbox,ri(e),r);const s=[0,0,e.canvas.width,e.canvas.height];r=Xe.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),c=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(u,l,c),g=f.context;g.translate(-a,-o),g.transform(...n);let p=new Path2D;const[v,y,A,w]=t.bbox;if(p.rect(v,y,A-v,w-y),t.matrix){const C=new Path2D;C.addPath(p,new DOMMatrix(t.matrix)),p=C}g.clip(p),t.smask?this.smaskStack.push({canvas:f.canvas,context:g,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),Kf(e,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ri(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Hd.slice();Xe.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,s),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,n,r,s){if(this.#t(),n0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],o=e[3]-e[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=o,Xe.singularValueDecompose2dScale(ri(this.ctx),Ha);const{viewportScale:l}=this,c=Math.ceil(a*this.outputScaleX*l),u=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:f,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Ha[0],0,0,-Ha[1],0,o*Ha[1]),n0(this.ctx)}else{n0(this.ctx),this.endPath();const l=new Path2D;l.rect(e[0],e[1],a,o),this.ctx.clip(l)}}this.current=new dA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this._createMaskCanvas(t),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,s,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=ri(o);o.transform(e,n,r,s,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,f=a.length;u<f;u+=2){const g=Xe.transform(l,[e,n,r,s,a[u],a[u+1]]);o.drawImage(c.canvas,g[4],g[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of t){const{data:a,width:o,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=u.context;f.save();const g=this.getObject(a,s);pA(f,g),f.globalCompositeOperation="source-in",f.fillStyle=r?n.getPattern(f,this,xl(e),fs.FILL):n,f.fillRect(0,0,o,l),f.restore(),e.save(),e.transform(...c),e.scale(1,-1),e0(e,u.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Cn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){Cn("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[e,0,0,n,r[c],r[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;this.save();const{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none"),r.scale(1/e,-1/n);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",e,n).context;fA(c,t),a=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(a,xl(r));r.imageSmoothingEnabled=gA(ri(r),t.interpolate),e0(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;fA(l,t),r=this.applyTransferMapsToCanvas(l)}for(const s of e)n.save(),n.transform(...s.transform),n.scale(1,-1),e0(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===mA?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ri(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:s}=this.ctx.getTransform();let a,o;if(n===0&&r===0){const l=Math.abs(e),c=Math.abs(s);if(l===c)if(t===0)a=o=1/l;else{const u=l*t;a=o=u<1?1/u:1}else if(t===0)a=1/l,o=1/c;else{const u=l*t,f=c*t;a=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(e*s-n*r),c=Math.hypot(e,n),u=Math.hypot(r,s);if(t===0)a=u/l,o=c/l;else{const f=t*l;a=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(r||1)*s,n.stroke(t);return}const o=n.getLineDash();e&&n.save(),n.scale(s,a),h1.a=1/s,h1.d=1/a;const l=new Path2D;if(l.addPath(t,h1),o.length>0){const c=Math.max(s,a);n.setLineDash(o.map(u=>u/c)),n.lineDashOffset/=c}n.lineWidth=r||1,n.stroke(l),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};for(const i in em)D0.prototype[i]!==void 0&&(D0.prototype[em[i]]=D0.prototype[i]);let Yd=class{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}},hL=class{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}};const Dd=Symbol("INTERNAL");let uL=class{#t=!1;#e=!1;#n=!1;#r=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:s}){this.#t=!!(t&za.DISPLAY),this.#e=!!(t&za.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Dd&&Ar("Internal method `_setVisible` called."),this.#n=n,this.#r=e}},dL=class{#t=null;#e=new Map;#n=null;#r=null;constructor(t,e=za.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#r=t.order;for(const n of t.groups)this.#e.set(n.id,new uL(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Dd,!1);for(const n of t.on)this.#e.get(n)._setVisible(Dd,!0);for(const n of t.off)this.#e.get(n)._setVisible(Dd,!1);this.#n=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const s=t[r];let a;if(Array.isArray(s))a=this.#s(s);else if(this.#e.has(s))a=this.#e.get(s).visible;else return Cn(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Tm("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Cn(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Cn(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Cn(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Cn(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Cn(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Cn(`Unknown optional content policy ${t.policy}.`),!0}return Cn(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){Cn(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const s of r.rbGroups)for(const a of s)a!==t&&this.#e.get(a)?._setVisible(Dd,!1,!0);r._setVisible(Dd,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#e.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#r?this.#r.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new yE;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}},fL=class{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ri(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(n),!0)});Ri(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ri(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new pL(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new gL(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}},pL=class{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Ib(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},gL=class{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function mL(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let u=o(e);return u=unescape(u),u=l(u),u=c(u),s(u)}if(e=a(i),e){const u=c(e);return s(u)}if(e=n("filename","i").exec(i),e){e=e[1];let u=o(e);return u=c(u),s(u)}function n(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const g=new TextDecoder(u,{fatal:!0}),p=Yp(f);f=g.decode(p),t=!1}catch{}}return f}function s(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function a(u){const f=[];let g;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=p.exec(u))!==null;){let[,y,A,w]=g;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[A,w]}const v=[];for(let y=0;y<f.length&&y in f;++y){let[A,w]=f[y];w=o(w),A&&(w=unescape(w),y===0&&(w=l(w))),v.push(w)}return v.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let g=0;g<f.length;++g){const p=f[g].indexOf('"');p!==-1&&(f[g]=f[g].slice(0,p),f.length=g+1),f[g]=f[g].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const g=u.slice(0,f),v=u.slice(f+1).replace(/^[^']*'/,"");return r(g,v)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,g,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,A){return String.fromCharCode(parseInt(A,16))}),r(g,v);try{v=atob(v)}catch{}return r(g,v)})}return""}function _E(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Nm(i){return URL.parse(i)?.origin??null}function PE({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function TE(i){const t=i.get("Content-Disposition");if(t){let e=mL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ib(e))return e}return null}function Qp(i,t){return new nm(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function LE(i){return i===200||i===206}function NE(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function FE(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Cn(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}let vL=class{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=_E(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ri(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new bL(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}},yL=class{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,NE(n,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=Nm(s.url),!LE(s.status))throw Qp(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=PE({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=TE(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Lh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:FE(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},bL=class{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);const a=r.url;fetch(a,NE(s,this._withCredentials,this._abortController)).then(o=>{const l=Nm(o.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!LE(o.status))throw Qp(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:FE(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}};const u1=200,d1=206;function wL(i){const t=i.response;return typeof t!="string"?t:Yp(t).buffer}let AL=class{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=_E(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,a]of this.headers)e.setRequestHeader(s,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=d1):r.expectedStatus=u1,e.responseType="arraybuffer",Ri(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||u1;if(!(s===u1&&n.expectedStatus===d1)&&s!==n.expectedStatus){n.onError(r.status);return}const o=wL(r);if(s===d1){const l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:o}):(Cn('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}},xL=class{constructor(t){this._source=t,this._manager=new AL(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ri(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new SL(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new EL(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}},SL=class{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Nm(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=PE({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=TE(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Qp(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},EL=class{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Nm(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Qp(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}};const CL=/^[a-z][a-z0-9\-+.]+:/i;function kL(i){if(CL.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}let _L=class{constructor(t){this.source=t,this.url=kL(t.url),Ri(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ri(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new TL(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}},PL=class{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Qp(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Lh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},TL=class{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}};const Yf=Symbol("INITIAL_DATA");let RE=class{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Yf}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===Yf)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Yf}delete(t){const e=this.#t[t];return!e||e.data===Yf?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Yf&&(yield[t,e])}}};const LL=1e5,vA=30;let My=class mo{#t=Promise.withResolvers();#e=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#s=null;#i=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#w=new Map;static#A=new WeakMap;static#b=null;static#E=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(l){l.enqueue(t),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*Lu.pixelRatio,this.#d=n.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=n.rawDims;this.#y=[1,0,0,-1,-a,o+s],this.#o=r,this.#a=s,mo.#F(),Tu(e,n),this.#t.promise.finally(()=>{mo.#E.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=ms.platform;return Un(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#P(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),mo.#E.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Lu.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Tu(this.#l,{rotation:r})),n!==this.#h){e?.(),this.#h=n;const s={div:null,properties:null,ctx:mo.#N(this.#s)};for(const a of this.#u)s.properties=this.#m.get(a),s.div=a,this.#S(s)}}cancel(){const t=new Lh("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#P(t){if(this.#n)return;this.#i.ctx??=mo.#N(this.#s);const e=this.#u,n=this.#g;for(const r of t){if(e.length>LL){Cn("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),s.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#k(r)}}#k(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=Xe.transform(this.#y,t.transform);let s=Math.atan2(r[1],r[0]);const a=this.#f[t.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#r&&a.fontSubstitution||a.fontFamily;o=mo.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),c=l*mo.#I(o,a,this.#s);let u,f;s===0?(u=r[4],f=r[5]-c):(u=r[4]+c*Math.sin(s),f=r[5]-c*Math.cos(s));const g="calc(var(--total-scale-factor) *",p=e.style;this.#e===this.#l?(p.left=`${(100*u/this.#o).toFixed(2)}%`,p.top=`${(100*f/this.#a).toFixed(2)}%`):(p.left=`${g}${u.toFixed(2)}px)`,p.top=`${g}${f.toFixed(2)}px)`),p.fontSize=`${g}${(mo.#b*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#r&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),s!==0&&(n.angle=s*(180/Math.PI));let v=!1;if(t.str.length>1)v=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);y!==A&&Math.max(y,A)/Math.min(y,A)>1.5&&(v=!0)}if(v&&(n.canvasWidth=a.vertical?t.height:t.width),this.#m.set(e,n),this.#i.div=e,this.#i.properties=n,this.#S(this.#i),n.hasText&&this.#e.append(e),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#e.append(y)}}#S(t){const{div:e,properties:n,ctx:r}=t,{style:s}=e;let a="";if(mo.#b>1&&(a=`scale(${1/mo.#b})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=n;mo.#C(r,c*this.#h,o);const{width:u}=r.measureText(e.textContent);u>0&&(a=`scaleX(${l*this.#h/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#E.size>0)){this.#v.clear();for(const{canvas:t}of this.#w.values())t.remove();this.#w.clear()}}static#N(t=null){let e=this.#w.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#w.set(t,e),this.#A.set(e,{size:0,family:""})}return e}static#C(t,e,n){const r=this.#A.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#F(){if(this.#b!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#b=t.getBoundingClientRect().height,t.remove()}static#I(t,e,n){const r=this.#v.get(t);if(r)return r;const s=this.#N(n);s.canvas.width=s.canvas.height=vA,this.#C(s,vA,t);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(ms.platform.isFirefox&&Cn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?c=e.ascent:e.descent&&(c=1+e.descent)),this.#v.set(t,c),c}},Oy=class IE{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(IE.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&e.push({str:a}),!!s.children)for(const l of s.children)r(l)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}};const NL=100;function FL(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new RL,{docId:e}=t,n=i.url?j3(i.url):null,r=i.data?z3(i.data):null,s=i.httpHeaders||null,a=i.withCredentials===!0,o=i.password??null,l=i.range instanceof ME?i.range:null,c=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let u=i.worker instanceof By?i.worker:null;const f=i.verbosity,g=typeof i.docBaseUrl=="string"&&!Lm(i.docBaseUrl)?i.docBaseUrl:null,p=$g(i.cMapUrl),v=i.cMapPacked!==!1,y=i.CMapReaderFactory||(Ys?K3:sA),A=$g(i.iccUrl),w=$g(i.standardFontDataUrl),C=i.StandardFontDataFactory||(Ys?Y3:aA),E=$g(i.wasmUrl),k=i.WasmFactory||(Ys?Z3:oA),L=i.stopAtErrors!==!0,R=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,M=i.isEvalSupported!==!1,j=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Ys,B=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Ys&&(ms.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,D=typeof i.disableFontFace=="boolean"?i.disableFontFace:Ys,z=i.fontExtraProperties===!0,U=i.enableXfa===!0,Q=i.ownerDocument||globalThis.document,pt=i.disableRange===!0,Z=i.disableStream===!0,$=i.disableAutoFetch===!0,st=i.pdfBug===!0,rt=i.CanvasFactory||(Ys?X3:W3),ot=i.FilterFactory||(Ys?G3:V3),q=i.enableHWA===!0,I=i.useWasm!==!1,W=l?l.length:i.length??NaN,nt=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Ys&&!D,lt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(y===sA&&C===aA&&k===oA&&p&&w&&E&&dp(p,document.baseURI)&&dp(w,document.baseURI)&&dp(E,document.baseURI)),dt=null;p3(f);const mt={canvasFactory:new rt({ownerDocument:Q,enableHWA:q}),filterFactory:new ot({docId:e,ownerDocument:Q}),cMapReaderFactory:lt?null:new y({baseUrl:p,isCompressed:v}),standardFontDataFactory:lt?null:new C({baseUrl:w}),wasmFactory:lt?null:new k({baseUrl:E})};u||(u=By.create({verbosity:f,port:Yd.workerPort}),t._worker=u);const yt={docId:e,apiVersion:"5.3.93",data:r,password:o,disableAutoFetch:$,rangeChunkSize:c,length:W,docBaseUrl:g,enableXfa:U,evaluatorOptions:{maxImageSize:R,disableFontFace:D,ignoreErrors:L,isEvalSupported:M,isOffscreenCanvasSupported:j,isImageDecoderSupported:B,canvasMaxAreaInBytes:X,fontExtraProperties:z,useSystemFonts:nt,useWasm:I,useWorkerFetch:lt,cMapUrl:p,iccUrl:A,standardFontDataUrl:w,wasmUrl:E}},_t={ownerDocument:Q,pdfBug:st,styleElement:dt,loadingParams:{disableAutoFetch:$,enableXfa:U}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ot=u.messageHandler.sendWithPromise("GetDocRequest",yt,r?[r.buffer]:null);let Xt;if(l)Xt=new fL(l,{disableRange:pt,disableStream:Z});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ee=dp(n)?vL:Ys?_L:xL;Xt=new ee({url:n,length:W,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:pt,disableStream:Z})}return Ot.then(ee=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const le=new fp(e,ee,u.port),zt=new ML(le,t,Xt,_t,mt);t._transport=zt,le.send("Ready",null)})}).catch(t._capability.reject),t}let RL=class DE{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${DE.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}},ME=class{#t=Promise.withResolvers();#e=[];#n=[];#r=[];#s=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#r.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#s)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#r)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Ar("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},IL=class{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Un(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},DL=class{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new eA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new RE,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Fb({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Un(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=xh.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:f=!1}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(n,r,u,f),{renderingIntent:p,cacheKey:v}=g;this.#t=!1,o||=this._transport.getOptionalContentConfig(p);let y=this._intentStates.get(v);y||(y=Object.create(null),this._intentStates.set(v,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const A=!!(p&za.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const w=k=>{y.renderTasks.delete(C),A&&(this.#t=!0),this.#e(),k?(C.capability.reject(k),this._abortOperatorList({intentState:y,reason:k instanceof Error?k:new Error(k)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new BL({callback:w,params:{canvasContext:t,viewport:e,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||=new Set).add(C);const E=C.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([k,L])=>{if(this.destroyed){w();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:k,optionalContentConfig:L}),C.operatorListChanged()}).catch(w),E}getOperatorList({intent:t="display",annotationMode:e=xh.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(t,e,n,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Oy.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new eA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},a).getReader(),c=this._intentStates.get(e);c.streamReader=l;const u=()=>{l.read().then(({value:f,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),u())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();this.#e()}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Rb){let r=NL;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Lh(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}};var Eh,Jo,Pc,Au,_r,Sm,xu,Su,$s,M0,OE,BE,pp,rf,O0;let By=(_r=class{constructor({name:t=null,port:e=null,verbosity:n=g3()}={}){ji(this,$s);ji(this,Eh,Promise.withResolvers());ji(this,Jo,null);ji(this,Pc,null);ji(this,Au,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(pn(_r,Su).has(e))throw new Error("Cannot use more than one PDFWorker per port.");pn(_r,Su).set(e,this),zi(this,$s,OE).call(this,e)}else zi(this,$s,BE).call(this)}get promise(){return pn(this,Eh).promise}get port(){return pn(this,Pc)}get messageHandler(){return pn(this,Jo)}destroy(){this.destroyed=!0,pn(this,Au)?.terminate(),Fr(this,Au,null),pn(_r,Su).delete(pn(this,Pc)),Fr(this,Pc,null),pn(this,Jo)?.destroy(),Fr(this,Jo,null)}static create(t){const e=pn(this,Su).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new _r(t)}static get workerSrc(){if(Yd.workerSrc)return Yd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Un(this,"_setupFakeWorkerGlobal",(async()=>pn(this,rf,O0)?pn(this,rf,O0):(await import(this.workerSrc)).WorkerMessageHandler)())}},Eh=new WeakMap,Jo=new WeakMap,Pc=new WeakMap,Au=new WeakMap,Sm=new WeakMap,xu=new WeakMap,Su=new WeakMap,$s=new WeakSet,M0=function(){pn(this,Eh).resolve(),pn(this,Jo).send("configure",{verbosity:this.verbosity})},OE=function(t){Fr(this,Pc,t),Fr(this,Jo,new fp("main","worker",t)),pn(this,Jo).on("ready",()=>{}),zi(this,$s,M0).call(this)},BE=function(){if(pn(_r,xu)||pn(_r,rf,O0)){zi(this,$s,pp).call(this);return}let{workerSrc:t}=_r;try{_r._isSameOrigin(window.location,t)||(t=_r._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new fp("main","worker",e),r=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?pn(this,Eh).reject(new Error("Worker was destroyed")):zi(this,$s,pp).call(this)},s=new AbortController;e.addEventListener("error",()=>{pn(this,Au)||r()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}Fr(this,Jo,n),Fr(this,Pc,e),Fr(this,Au,e),zi(this,$s,M0).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{zi(this,$s,pp).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Tm("The worker has been disabled.")}zi(this,$s,pp).call(this)},pp=function(){pn(_r,xu)||(Cn("Setting up fake worker."),Fr(_r,xu,!0)),_r._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){pn(this,Eh).reject(new Error("Worker was destroyed"));return}const e=new q3;Fr(this,Pc,e);const n=`fake${Gv(_r,Sm)._++}`,r=new fp(n+"_worker",n,e);t.setup(r,e),Fr(this,Jo,new fp(n,n+"_worker",e)),zi(this,$s,M0).call(this)}).catch(t=>{pn(this,Eh).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},rf=new WeakSet,O0=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ji(_r,rf),ji(_r,Sm,0),ji(_r,xu,!1),ji(_r,Su,new WeakMap),Ys&&(Fr(_r,xu,!0),Yd.workerSrc||="./pdf.worker.mjs"),_r._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},_r._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},_r.fromPort=t=>{if(_3("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _r.create(t)},_r),ML=class{#t=new Map;#e=new Map;#n=new Map;#r=new Map;#s=null;constructor(t,e,n,r,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new RE,this.fontLoader=new O3({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Un(this,"annotationStorage",new Mb)}getRenderingIntent(t,e=xh.ENABLE,n=null,r=!1,s=!1){let a=za.DISPLAY,o=Ry;switch(t){case"any":a=za.ANY;break;case"display":break;case"print":a=za.PRINT;break;default:Cn(`getRenderingIntent - invalid intent: ${t}`)}const l=a&za.PRINT&&n instanceof bE?n:this.annotationStorage;switch(e){case xh.DISABLE:a+=za.ANNOTATIONS_DISABLE;break;case xh.ENABLE:break;case xh.ENABLE_FORMS:a+=za.ANNOTATIONS_FORMS;break;case xh.ENABLE_STORAGE:a+=za.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Cn(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(a+=za.IS_EDITING),s&&(a+=za.OPLIST);const{ids:c,hash:u}=l.modifiedIds,f=[a,o.hash,u];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),My.cleanup(),this._networkStream?.cancelAllRequests(new Lh("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Ri(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Ri(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{e.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),t.on("GetRangeReader",(n,r)=>{Ri(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Ri(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new IL(n,this))}),t.on("DocException",n=>{e._capability.reject(ya(n))}),t.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw ya(n);const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,n.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const c=s.error;Cn(`Error during font loading: ${c}`),this.commonObjs.resolve(n,c);break}const a=this._params.pdfBug&&globalThis.FontInspector?.enabled?(c,u)=>globalThis.FontInspector.fontAdded(c,u):null,o=new B3(s,a);this.fontLoader.bind(o).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(n,o)});break;case"CopyLocalImage":const{imageRef:l}=s;Ri(l,"The imageRef must be defined.");for(const c of this.#e.values())for(const[,u]of c.objs)if(u?.ref===l)return u.dataLen?(this.commonObjs.resolve(n,structuredClone(u)),u.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,s,a])=>{if(this.destroyed)return;const o=this.#e.get(r);if(!o.objs.has(n)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Cn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#n.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,t);const a=new DL(e,s,this,this._params.pdfBug);return this.#e.set(e,a),a});return this.#n.set(e,r),r}getPageIndex(t){return Iy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#i("GetOptionalContentConfig").then(e=>new dL(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new hL(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),My.cleanup()}}cachedPageNumber(t){if(!Iy(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#r.get(e)??null}},OL=class{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}},BL=class gp{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:g=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new OL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(gp.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");gp.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:a}=this.params;this.gfx=new D0(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),gp.#e.delete(this._canvas),t||=new Rb(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),gp.#e.delete(this._canvas),this.callback())))}};const jL="5.3.93",zL="cbeef3233";function yA(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Zf(i){return Math.max(0,Math.min(255,255*i))}let bA=class{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Zf(t),[t,t,t]}static G_HTML([t]){const e=yA(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Zf)}static RGB_HTML(t){return`#${t.map(yA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Zf(1-Math.min(1,t+r)),Zf(1-Math.min(1,n+r)),Zf(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,s=1-e,a=1-n,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}},UL=class{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ar("Abstract method `_createSVG` called.")}},rm=class extends UL{_createSVG(t){return document.createElementNS(Ac,t)}},jE=class{static setupStorage(t,e,n,r,s){const a=r.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",o=>{r.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:s}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:n});const o=s!=="richText",l=t.div;if(l.append(a),t.viewport){const f=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const f=document.createTextNode(r.value);a.append(f),o&&Oy.shouldBuildText(r.name)&&c.push(f)}return{textDivs:c}}const u=[[r,-1,a]];for(;u.length>0;){const[f,g,p]=u.at(-1);if(g+1===f.children.length){u.pop();continue}const v=f.children[++u.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const w=document.createTextNode(v.value);c.push(w),p.append(w);continue}const A=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(p.append(A),v.attributes&&this.setAttributes({html:A,element:v,storage:e,intent:s,linkService:n}),v.children?.length>0)u.push([v,-1,A]);else if(v.value){const w=document.createTextNode(v.value);o&&Oy.shouldBuildText(y)&&c.push(w),A.append(w)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}};const HL=9,Nu=new WeakSet;let wA=class{static create(t){switch(t.data.annotationType){case Pi.LINK:return new UE(t);case Pi.TEXT:return new qL(t);case Pi.WIDGET:switch(t.data.fieldType){case"Tx":return new WL(t);case"Btn":return t.data.radioButton?new HE(t):t.data.checkBox?new GL(t):new XL(t);case"Ch":return new KL(t);case"Sig":return new VL(t)}return new Ou(t);case Pi.POPUP:return new jy(t);case Pi.FREETEXT:return new qE(t);case Pi.LINE:return new ZL(t);case Pi.SQUARE:return new JL(t);case Pi.CIRCLE:return new QL(t);case Pi.POLYLINE:return new WE(t);case Pi.CARET:return new tN(t);case Pi.INK:return new jb(t);case Pi.POLYGON:return new $L(t);case Pi.HIGHLIGHT:return new VE(t);case Pi.UNDERLINE:return new eN(t);case Pi.SQUIGGLY:return new nN(t);case Pi.STRIKEOUT:return new rN(t);case Pi.STAMP:return new GE(t);case Pi.FILEATTACHMENT:return new iN(t);default:return new Wi(t)}}},Wi=class zE{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return zE._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#r(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#r(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#r(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-o)/s}%`,e.top=`${100*(a-t[3]+l)/a}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Ou||(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof jy){const{rotation:y}=e;return!e.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const y=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(y>0||A>0){const C=`calc(${y}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;a.borderRadius=C}else if(this instanceof HE){const C=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=C}switch(e.borderStyle.style){case Id.SOLID:a.borderStyle="solid";break;case Id.DASHED:a.borderStyle="dashed";break;case Id.BEVELED:Cn("Unimplemented border style: beveled");break;case Id.INSET:Cn("Unimplemented border style: inset");break;case Id.UNDERLINE:a.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,a.borderColor=Xe.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const c=Xe.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:f,pageX:g,pageY:p}=r.rawDims;a.left=`${100*(c[0]-g)/u}%`,a.top=`${100*(c[1]-p)/f}%`;const{rotation:v}=e;return e.hasOwnCanvas||v===0?(a.width=`${100*o/u}%`,a.height=`${100*l/f}%`):this.setRotation(v,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;t%180!==0&&([s,a]=[a,s]),e.style.width=`${100*s/n}%`,e.style.height=`${100*a/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const s=r.detail[e],a=s[0],o=s.slice(1);r.target.style[n]=bA[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:bA[`${a}_rgb`](o)})};return Un(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,s]of Object.entries(e)){const a=n[r];if(a){const o={detail:{[r]:s},target:t};a(o),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,s]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,A,w,C]=t.subarray(2,6);if(r===y&&s===A&&e===w&&n===C)return}const{style:a}=this.container;let o;if(this.#e){const{borderColor:y,borderWidth:A}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=r-e,c=s-n,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const g=u.createElement("defs");f.append(g);const p=u.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),g.append(p);for(let y=2,A=t.length;y<A;y+=8){const w=t[y],C=t[y+1],E=t[y+2],k=t[y+3],L=u.createElement("rect"),R=(E-e)/l,M=(s-C)/c,j=(w-E)/l,B=(C-k)/c;L.setAttribute("x",R),L.setAttribute("y",M),L.setAttribute("width",j),L.setAttribute("height",B),p.append(L),o?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${M}" width="${j}" height="${B}"/>`)}this.#e&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:t}=this,e=this.#n=new jy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Ar("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Nu.has(c)){Cn(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==e&&Nu.has(r)&&n.push({id:a,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}},UE=class extends Wi{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const s=n.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Cn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:s,include:a}=e,o=[];if(r.length!==0||s.length!==0){const u=new Set(s);for(const f of r){const g=this._fieldObjects[f]||[];for(const{id:p}of g)u.add(p)}for(const f of Object.values(this._fieldObjects))for(const g of f)u.has(g.id)===a&&o.push(g)}else for(const u of Object.values(this._fieldObjects))o.push(...u);const l=this.annotationStorage,c=[];for(const u of o){const{id:f}=u;switch(c.push(f),u.type){case"text":{const p=u.defaultValue||"";l.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=u.defaultValue===u.exportValues;l.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=u.defaultValue||"";l.setValue(f,{value:p});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!Nu.has(g)){Cn(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}},qL=class extends Wi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}},Ou=class extends Wi{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ms.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,s){n.includes("mouse")?t.addEventListener(n,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}})})}_setEventListeners(t,e,n,r){for(const[s,a]of n)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,a,r),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Xe.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||HL,s=t.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(s1*r))||1,f=c/u;a=Math.min(r,l(f/s1))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(c/s1))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Xe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}},WL=class extends Ou{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const s=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),s.setValue(a.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const a=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=r.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",o??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Nu.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const c=this.data.dateFormat||this.data.timeFormat;c&&(n.title=c),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue??"";n.value=l.userValue=g,l.formattedValue=null});let u=f=>{const{formattedValue:g}=l;g!=null&&(f.target.value=g),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{if(l.focused)return;const{target:p}=g;l.userValue&&(p.value=l.userValue),l.lastCommittedValue=p.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const p={value(v){l.userValue=v.detail.value??"",t.setValue(e,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){const{formattedValue:y}=v.detail;l.formattedValue=y,y!=null&&v.target!==document.activeElement&&(v.target.value=y),t.setValue(e,{formattedValue:y})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:y}=v.detail,{target:A}=v;if(y===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",y);let w=l.userValue;!w||w.length<=y||(w=w.slice(0,y),A.value=l.userValue=w,t.setValue(e,{value:w}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(p,g)}),n.addEventListener("keydown",g=>{l.commitKey=1;let p=-1;if(g.key==="Escape"?p=0:g.key==="Enter"&&!this.data.multiLine?p=2:g.key==="Tab"&&(l.commitKey=3),p===-1)return;const{value:v}=g.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:p,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const f=u;u=null,n.addEventListener("blur",g=>{if(!l.focused||!g.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:p}=g.target;l.userValue=p,l.lastCommittedValue!==p&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,willCommit:!0,commitKey:l.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),f(g)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",g=>{l.lastCommittedValue=null;const{data:p,target:v}=g,{value:y,selectionStart:A,selectionEnd:w}=v;let C=A,E=w;switch(g.inputType){case"deleteWordBackward":{const k=y.substring(0,A).match(/\w*[^\w]*$/);k&&(C-=k[0].length);break}case"deleteWordForward":{const k=y.substring(A).match(/^[^\w]*\w*/);k&&(E+=k[0].length);break}case"deleteContentBackward":A===w&&(C-=1);break;case"deleteContentForward":A===w&&(E+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,change:p||"",willCommit:!1,selStart:C,selEnd:E}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}},VL=class extends Ou{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}},GL=class extends Ou{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Nu.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},HE=class extends Ou{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const s=document.createElement("input");if(Nu.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))t.setValue(c.id,{value:!1});t.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const g=u&&f.id===n;f.domElement&&(f.domElement.checked=g),t.setValue(f.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},XL=class extends UE{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}},KL=class extends Ou{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Nu.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,n.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),r.append(f)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),a=()=>{u.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=u=>{const f=u?"value":"textContent",{options:g,multiple:p}=r;return p?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[f]):g.selectedIndex===-1?null:g[g.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const f={value(g){a?.();const p=g.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const y of r.options)y.selected=v.has(y.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const p=r.options,v=g.detail.remove;p[v].selected=!1,r.remove(v),p.length>0&&Array.prototype.findIndex.call(p,A=>A.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(g){const{index:p,displayValue:v,exportValue:y}=g.detail.insert,A=r.children[p],w=document.createElement("option");w.textContent=v,w.value=y,A?A.before(w):r.append(w),t.setValue(e,{value:o(!0),items:c(g)}),l=o(!1)},items(g){const{items:p}=g.detail;for(;r.length!==0;)r.remove(0);for(const v of p){const{displayValue:y,exportValue:A}=v,w=document.createElement("option");w.textContent=y,w.value=A,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(g)}),l=o(!1)},indices(g){const p=new Set(g.detail.indices);for(const v of g.target.options)v.selected=p.has(v.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(f,u)}),r.addEventListener("input",u=>{const f=o(!0),g=o(!1);t.setValue(e,{value:f}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:g,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},jy=class extends Wi{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Wi._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new YL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Nb}${r}`).join(",")),this.container}},YL=class{#t=this.#P.bind(this);#e=this.#C.bind(this);#n=this.#N.bind(this);#r=this.#S.bind(this);#s=null;#i=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u=null;#m=null;#y=null;#v=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:f}){this.#i=t,this.#m=r,this.#a=a,this.#u=o,this.#l=l,this.#s=e,this.#p=c,this.#d=u,this.#c=n,this.#o=dE.toDateObject(s),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",this.#r),g.addEventListener("mouseenter",this.#n),g.addEventListener("mouseleave",this.#e),g.classList.add("popupTriggerArea");for(const g of n)g.container?.addEventListener("keydown",this.#t);this.#i.hidden=!0,f&&this.#S()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#s){const s=t.style.outlineColor=Xe.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#m,t.append(e),this.#o){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),s.dateTime=this.#o.toISOString(),e.append(s)}const r=this.#w;if(r)jE.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#a);t.append(s)}this.#i.append(t)}get#w(){const t=this.#u,e=this.#a;return t?.str&&(!e?.str||e.str===t.str)&&this.#u.html||null}get#A(){return this.#w?.attributes?.style?.fontSize||0}get#b(){return this.#w?.attributes?.style?.color||null}#E(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#b,fontSize:this.#A?`calc(${this.#A}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}#P(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#h)&&this.#S()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#a,richText:this.#u},t&&(this.#g=null),e&&(this.#u=this.#E(e),this.#a=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#a,richText:this.#u}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#g=null)}#k(){if(this.#g!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:s}}}=this.#l;let a=!!this.#d,o=a?this.#d:this.#p;for(const v of this.#c)if(!o||Xe.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=Xe.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),u=a?o[2]-o[0]+5:0,f=l[0]+u,g=l[1];this.#g=[100*(f-r)/e,100*(g-s)/n];const{style:p}=this.#i;p.left=`${this.#g[0]}%`,p.top=`${this.#g[1]}%`}#S(){this.#h=!this.#h,this.#h?(this.#N(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#t)):(this.#C(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#t))}#N(){this.#f||this.render(),this.isVisible?this.#h&&this.#i.classList.add("focused"):(this.#k(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#C(){this.#i.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#i.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#N(),this.#v=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}},qE=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Sn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},ZL=class extends Wi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=this.#t=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},JL=class extends Wi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,a=this.#t=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",e-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},QL=class extends Wi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,a=this.#t=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},WE=class extends Wi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:s,height:a}=this;if(!e)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let u=0,f=e.length;u<f;u+=2){const g=e[u]-t[0],p=t[3]-e[u+1];l.push(`${g},${p}`)}l=l.join(" ");const c=this.#t=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},$L=class extends WE{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},tN=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},jb=class extends Wi{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Sn.HIGHLIGHT:Sn.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#n(e,t),c=this.svgFactory.create(o,l,!0),u=this.#t=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",a);for(let f=0,g=n.length;f<g;f++){const p=this.svgFactory.createElement(this.svgElementName);this.#e.push(p),p.setAttribute("points",n[f].join(",")),u.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,s=this.#t;if(e>=0&&s.setAttribute("stroke-width",e||1),n)for(let a=0,o=this.#e.length;a<o;a++)this.#e[a].setAttribute("points",n[a].join(","));if(r){const{transform:a,width:o,height:l}=this.#n(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},VE=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Sn.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}},eN=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}},nN=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}},rN=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}},GE=class extends Wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Sn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},iN=class extends Wi{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=ms.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},sN=class XE{#t=null;#e=null;#n=new Map;#r=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o}){this.div=t,this.#t=e,this.#e=n,this.#r=o||null,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#s(t,e,n){const r=t.firstChild||t,s=r.id=`${Nb}${e}`,a=await this.#r?.getAriaAttributes(s);if(a)for(const[o,l]of a)r.setAttribute(o,l);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Tu(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new rm,annotationStorage:t.annotationStorage||new Mb,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const o=a.annotationType===Pi.POPUP;if(o){const u=r.get(a.id);if(!u)continue;s.elements=u}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const l=wA.create(s);if(!l.isRenderable)continue;if(!o&&a.popupRef){const u=r.get(a.popupRef);u?u.push(l):r.set(a.popupRef,[l])}const c=l.render();a.hidden&&(c.style.visibility="hidden"),await this.#s(c,a.id,s.elements),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#i()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new rm,parent:this};for(const r of t){r.borderStyle||=XE._defaultBorderStyle,n.data=r;const s=wA.create(n);if(!s.isRenderable)continue;const a=s.render();await this.#s(a,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Tu(e,{rotation:t.rotation}),this.#i(),e.hidden=!1}#i(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const a=this.#n.get(e);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),a._hasNoCanvas=!1):a.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Un(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Id.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const r0=/\r\n?|\n/g;let aN=class rs extends Xr{#t;#e="";#n=`${this.id}-editor`;#r=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=rs.prototype,e=s=>s.isEmpty(),n=Dp.TRANSLATE_SMALL,r=Dp.TRANSLATE_BIG;return Un(this,"_keyboardManager",new Jp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Sn.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||rs._defaultColor||Xr._defaultLineColor,this.#s=t.fontSize||rs._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Xr.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case qn.FREETEXT_SIZE:rs._defaultFontSize=e;break;case qn.FREETEXT_COLOR:rs._defaultColor=e;break}}updateParams(t,e){switch(t){case qn.FREETEXT_SIZE:this.#i(e);break;case qn.FREETEXT_COLOR:this.#a(e);break}}static get defaultPropertiesToUpdate(){return[[qn.FREETEXT_SIZE,rs._defaultFontSize],[qn.FREETEXT_COLOR,rs._defaultColor||Xr._defaultLineColor]]}get propertiesToUpdate(){return[[qn.FREETEXT_SIZE,this.#s],[qn.FREETEXT_COLOR,this.#t]]}#i(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#c()},n=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(t){const e=r=>{this.#t=this.editorDiv.style.color=r},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-rs._internalPadding*t,-(rs._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const t=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(rs.#l(n)),e=n);return t.join(`
`)}#c(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#c()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){rs._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,u]=this.pageDimensions,[f,g]=this.pageTranslation;let p,v;switch(this.rotation){case 0:p=t+(a[0]-f)/c,v=e+this.height-(a[1]-g)/u;break;case 90:p=t+(a[0]-f)/c,v=e-(a[1]-g)/u,[o,l]=[l,-o];break;case 180:p=t-this.width+(a[0]-f)/c,v=e-(a[1]-g)/u,[o,l]=[-o,-l];break;case 270:p=t+(a[0]-f-this.height*u)/c,v=e+(a[1]-g-this.width*c)/u,[o,l]=[-l,o];break}this.setAt(p*r,v*s,o,l)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(r0,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=rs.#f(e.getData("text")||"").replaceAll(r0,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],u=[];if(o.nodeType===Node.TEXT_NODE){const p=o.parentElement;if(u.push(o.nodeValue.slice(l).replaceAll(r0,"")),p!==this.editorDiv){let v=c;for(const y of this.editorDiv.childNodes){if(y===p){v=u;continue}v.push(rs.#l(y))}}c.push(o.nodeValue.slice(0,l).replaceAll(r0,""))}else if(o===this.editorDiv){let p=c,v=0;for(const y of this.editorDiv.childNodes)v++===l&&(p=u),p.push(rs.#l(y))}this.#e=`${c.join(`
`)}${r}${u.join(`
`)}`,this.#d();const f=new Range;let g=Math.sumPrecise(c.map(p=>p.length));for(const{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){const v=p.nodeValue.length;if(g<=v){f.setStart(p,g),f.setEnd(p,g);break}g-=v}s.removeAllRanges(),s.addRange(f)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let r=null;if(t instanceof qE){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:u,popupRef:f},textContent:g,textPosition:p,parent:{page:{pageNumber:v}}}=t;if(!g||g.length===0)return null;r=t={annotationType:Sn.FREETEXT,color:Array.from(o),fontSize:a,value:g.join(`
`),position:p,pageIndex:v-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:f}}const s=await super.deserialize(t,e,n);return s.#s=t.fontSize,s.#t=Xe.makeHexColor(...t.color),s.#e=rs.#f(t.value),s._initialData=r,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=rs._internalPadding*this.parentScale,n=this.getRect(e,e),r=Xr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),s={annotationType:Sn.FREETEXT,color:r,fontSize:this.#s,value:this.#h(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(s.isCopy=!0,s):this.annotationElementId&&!this.#g(s)?null:(s.id=this.annotationElementId,s)}#g(t){const{value:e,fontSize:n,color:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((a,o)=>a!==r[o])||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const s of this.#e.split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),e.append(a)}const r=rs._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}},Te=class{static PRECISION=1e-4;toSVGPath(){Ar("Abstract method `toSVGPath` must be implemented.")}get box(){Ar("Abstract getter `box` must be implemented.")}serialize(t,e){Ar("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,s,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o]*r,a[o+1]=n+t[o+1]*s;return a}static _rescaleAndSwap(t,e,n,r,s,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o+1]*r,a[o+1]=n+t[o]*s;return a}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s+=2)r[s]=e+t[s],r[s+1]=n+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,s){switch(s){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,s,a){return[(t+5*n)/6,(e+5*r)/6,(5*n+s)/6,(5*r+a)/6,(n+s)/2,(r+a)/2]}},KE=class mp{#t;#e=[];#n;#r;#s=[];#i=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=mp.#g+mp.#p;constructor({x:t,y:e},n,r,s,a,o=0){this.#t=n,this.#h=s*r,this.#r=a,this.#i.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=o,this.#l=mp.#g*r,this.#c=mp.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#i[8])}#m(){const t=this.#i.subarray(4,6),e=this.#i.subarray(16,18),[n,r,s,a]=this.#t;return[(this.#a+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-r)/a,(this.#a+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-r)/a]}add({x:t,y:e}){this.#a=t,this.#o=e;const[n,r,s,a]=this.#t;let[o,l,c,u]=this.#i.subarray(8,12);const f=t-c,g=e-u,p=Math.hypot(f,g);if(p<this.#c)return!1;const v=p-this.#l,y=v/p,A=y*f,w=y*g;let C=o,E=l;o=c,l=u,c+=A,u+=w,this.#f?.push(t,e);const k=-w/v,L=A/v,R=k*this.#h,M=L*this.#h;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([c+R,u+M],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([c-R,u-M],16),isNaN(this.#i[6])?(this.#s.length===0&&(this.#i.set([o+R,l+M],2),this.#s.push(NaN,NaN,NaN,NaN,(o+R-n)/s,(l+M-r)/a),this.#i.set([o-R,l-M],14),this.#e.push(NaN,NaN,NaN,NaN,(o-R-n)/s,(l-M-r)/a)),this.#i.set([C,E,o,l,c,u],6),!this.isEmpty()):(this.#i.set([C,E,o,l,c,u],6),Math.abs(Math.atan2(E-l,C-o)-Math.atan2(w,A))<Math.PI/2?([o,l,c,u]=this.#i.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+u)/2-r)/a),[o,l,C,E]=this.#i.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+o)/2-n)/s,((E+l)/2-r)/a),!0):([C,E,o,l,c,u]=this.#i.subarray(0,6),this.#s.push(((C+5*o)/6-n)/s,((E+5*l)/6-r)/a,((5*o+c)/6-n)/s,((5*l+u)/6-r)/a,((o+c)/2-n)/s,((l+u)/2-r)/a),[c,u,o,l,C,E]=this.#i.subarray(12,18),this.#e.push(((C+5*o)/6-n)/s,((E+5*l)/6-r)/a,((5*o+c)/6-n)/s,((5*l+u)/6-r)/a,((o+c)/2-n)/s,((l+u)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#w(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[s,a,o,l]=this.#m();return`M${(this.#i[2]-t)/n} ${(this.#i[3]-e)/r} L${(this.#i[4]-t)/n} ${(this.#i[5]-e)/r} L${s} ${a} L${o} ${l} L${(this.#i[16]-t)/n} ${(this.#i[17]-e)/r} L${(this.#i[14]-t)/n} ${(this.#i[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#w(t){const[e,n,r,s]=this.#t,a=this.#i.subarray(4,6),o=this.#i.subarray(16,18),[l,c,u,f]=this.#m();t.push(`L${(a[0]-e)/r} ${(a[1]-n)/s} L${l} ${c} L${u} ${f} L${(o[0]-e)/r} ${(o[1]-n)/s}`)}newFreeDrawOutline(t,e,n,r,s,a){return new YE(t,e,n,r,s,a)}getOutlines(){const t=this.#s,e=this.#e,n=this.#i,[r,s,a,o]=this.#t,l=new Float32Array((this.#f?.length??0)+2);for(let f=0,g=l.length-2;f<g;f+=2)l[f]=(this.#f[f]-r)/a,l[f+1]=(this.#f[f+1]-s)/o;if(l[l.length-2]=(this.#a-r)/a,l[l.length-1]=(this.#o-s)/o,isNaN(n[6])&&!this.isEmpty())return this.#A(l);const c=new Float32Array(this.#s.length+24+this.#e.length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}u=this.#E(c,u);for(let f=e.length-6;f>=6;f-=6)for(let g=0;g<6;g+=2){if(isNaN(e[f+g])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=e[f+g],c[u+1]=e[f+g+1],u+=2}return this.#b(c,u),this.newFreeDrawOutline(c,l,this.#t,this.#d,this.#n,this.#r)}#A(t){const e=this.#i,[n,r,s,a]=this.#t,[o,l,c,u]=this.#m(),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-r)/a,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-r)/a,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-r)/a],0),this.newFreeDrawOutline(f,t,this.#t,this.#d,this.#n,this.#r)}#b(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#E(t,e){const n=this.#i.subarray(4,6),r=this.#i.subarray(16,18),[s,a,o,l]=this.#t,[c,u,f,g]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],e),e+=24}},YE=class extends Te{#t;#e=new Float32Array(4);#n;#r;#s;#i;#a;constructor(t,e,n,r,s,a){super(),this.#a=t,this.#s=e,this.#t=n,this.#i=r,this.#n=s,this.#r=a,this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,u]=this.#e;for(let f=0,g=t.length;f<g;f+=2)t[f]=(t[f]-o)/c,t[f+1]=(t[f+1]-l)/u;for(let f=0,g=e.length;f<g;f+=2)e[f]=(e[f]-o)/c,e[f+1]=(e[f+1]-l)/u}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,n=this.#a.length;e<n;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],s){const a=n-t,o=r-e;let l,c;switch(s){case 0:l=Te._rescale(this.#a,t,r,a,-o),c=Te._rescale(this.#s,t,r,a,-o);break;case 90:l=Te._rescaleAndSwap(this.#a,t,e,a,o),c=Te._rescaleAndSwap(this.#s,t,e,a,o);break;case 180:l=Te._rescale(this.#a,n,e,-a,o),c=Te._rescale(this.#s,n,e,-a,o);break;case 270:l=Te._rescaleAndSwap(this.#a,n,r,-a,-o),c=Te._rescaleAndSwap(this.#s,n,r,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(t){const e=this.#a;let n=e[4],r=e[5];const s=[n,r,n,r];let a=n,o=r;const l=t?Math.max:Math.min;for(let u=6,f=e.length;u<f;u+=6){const g=e[u+4],p=e[u+5];if(isNaN(e[u]))Xe.pointBoundingBox(g,p,s),o<p?(a=g,o=p):o===p&&(a=l(a,g));else{const v=[1/0,1/0,-1/0,-1/0];Xe.bezierBoundingBox(n,r,...e.slice(u,u+6),v),Xe.rectBoundingBox(...v,s),o<v[3]?(a=v[2],o=v[3]):o===v[3]&&(a=l(a,v[2]))}n=g,r=p}const c=this.#e;c[0]=s[0]-this.#n,c[1]=s[1]-this.#n,c[2]=s[2]-s[0]+2*this.#n,c[3]=s[3]-s[1]+2*this.#n,this.lastPoint=[a,o]}get box(){return this.#e}newOutliner(t,e,n,r,s,a=0){return new KE(t,e,n,r,s,a)}getNewOutline(t,e){const[n,r,s,a]=this.#e,[o,l,c,u]=this.#t,f=s*c,g=a*u,p=n*c+o,v=r*u+l,y=this.newOutliner({x:this.#s[0]*f+p,y:this.#s[1]*g+v},this.#t,this.#i,t,this.#r,e??this.#n);for(let A=2;A<this.#s.length;A+=2)y.add({x:this.#s[A]*f+p,y:this.#s[A+1]*g+v});return y.getOutlines()}},zy=class{#t;#e;#n=[];#r=[];constructor(t,e=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:v,width:y,height:A}of t){const w=Math.floor((p-e)/a)*a,C=Math.ceil((p+y+e)/a)*a,E=Math.floor((v-e)/a)*a,k=Math.ceil((v+A+e)/a)*a,L=[w,E,k,!0],R=[C,E,k,!1];this.#n.push(L,R),Xe.rectBoundingBox(w,E,C,k,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,c=s[0]-n,u=s[1]-n,f=this.#n.at(r?-1:-2),g=[f[0],f[2]];for(const p of this.#n){const[v,y,A]=p;p[0]=(v-c)/o,p[1]=(y-u)/l,p[2]=(A-u)/l}this.#t=new Float32Array([c,u,o,l]),this.#e=g}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#c(e)),this.#a(e)):(this.#o(e),t.push(...this.#c(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const a of t){const[o,l,c]=a;e.push([o,l,a],[o,c,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const l=e[a][2],c=e[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const r=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,u,f]=a;n.delete(a);let g=o,p=l;for(s=[o,c],r.push(s);;){let v;if(n.has(u))v=u;else if(n.has(f))v=f;else break;n.delete(v),[o,l,c,u,f]=v,g!==o&&(s.push(g,p,o,p===l?l:c),g=o),p=p===l?c:l}s.push(g,p)}return new oN(r,this.#t,this.#e)}#i(t){const e=this.#r;let n=0,r=e.length-1;for(;n<=r;){const s=n+r>>1,a=e[s][0];if(a===t)return s;a<t?n=s+1:r=s-1}return r+1}#a([,t,e]){const n=this.#i(t);this.#r.splice(n,0,[t,e])}#o([,t,e]){const n=this.#i(t);for(let r=n;r<this.#r.length;r++){const[s,a]=this.#r[r];if(s!==t)break;if(s===t&&a===e){this.#r.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,a]=this.#r[r];if(s!==t)break;if(s===t&&a===e){this.#r.splice(r,1);return}}}#c(t){const[e,n,r]=t,s=[[e,n,r]],a=this.#i(r);for(let o=0;o<a;o++){const[l,c]=this.#r[o];for(let u=0,f=s.length;u<f;u++){const[,g,p]=s[u];if(!(c<=g||p<=l)){if(g>=l){if(p>c)s[u][1]=c;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=l,p>c&&s.push([e,c,p])}}}return s}},oN=class extends Te{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let s=2;s<e.length;s+=2){const a=e[s],o=e[s+1];a===n?(t.push(`V${o}`),r=o):o===r&&(t.push(`H${a}`),n=a)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],s){const a=[],o=n-t,l=r-e;for(const c of this.#e){const u=new Array(c.length);for(let f=0;f<c.length;f+=2)u[f]=t+c[f]*o,u[f+1]=r-c[f+1]*l;a.push(u)}return a}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}},Uy=class extends KE{newFreeDrawOutline(t,e,n,r,s,a){return new lN(t,e,n,r,s,a)}},lN=class extends YE{newOutliner(t,e,n,r,s,a=0){return new Uy(t,e,n,r,s,a)}},ZE=class Pl{#t=null;#e=null;#n;#r=null;#s=!1;#i=!1;#a=null;#o;#c=null;#l=null;#d;static#h=null;static get _keyboardManager(){return Un(this,"_keyboardManager",new Jp([[["Escape","mac+Escape"],Pl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pl.prototype._moveToPrevious],[["Home","mac+Home"],Pl.prototype._moveToBeginning],[["End","mac+End"],Pl.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#i=!1,this.#d=qn.HIGHLIGHT_COLOR,this.#a=t):(this.#i=!0,this.#d=qn.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Pl.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#u.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){const t=this.#r=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",tl,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",Pl.#h[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===this.#n,s.addEventListener("click",this.#g.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#g(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#u(t);return}const e=t.target.getAttribute("data-color");e&&this.#g(e,t)}_moveToNext(t){if(!this.#y){this.#u(t);return}if(t.target===this.#t){this.#r.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#r?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#u(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#u(t);return}this.#r.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#u(t);return}this.#r.lastChild?.focus()}#p(t){Pl._keyboardManager.exec(this,t)}#u(t){if(this.#y){this.hideDropdown();return}if(this.#s=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const e=this.#r=this.#f();this.#t.append(e)}#m(t){this.#r?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#y(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#y){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#r)return;const e=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#r?.remove(),this.#r=null}},AA=class Ui extends Xr{#t=null;#e=0;#n;#r=null;#s=null;#i=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Sn.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ui.prototype;return Un(this,"_keyboardManager",new Jp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ui._defaultColor,this.#m=t.thickness||Ui._defaultThickness,this.#g=t.opacity||Ui._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#w(t),this.#k()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#k(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new zy(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new zy(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=e.getOutlines();const{lastPoint:n}=this.#i;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#w({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#i=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#d=e,this.#r=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Ui.#S(this.#l.box,(u-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ui.#S(this.#i.box,u),path:{d:this.#i.toSVGPath()}})}const[s,a,o,l]=t.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[u,f]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*f/u,this.height=l*u/f;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[u,f]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*f/u,this.height=l*u/f;break}}const{lastPoint:c}=this.#i;this.#f=[(c[0]-s)/o,(c[1]-a)/l]}static initialize(t,e){Xr.initialize(t,e),Ui._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case qn.HIGHLIGHT_DEFAULT_COLOR:Ui._defaultColor=e;break;case qn.HIGHLIGHT_THICKNESS:Ui._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case qn.HIGHLIGHT_COLOR:this.#A(e);break;case qn.HIGHLIGHT_THICKNESS:this.#b(e);break}}static get defaultPropertiesToUpdate(){return[[qn.HIGHLIGHT_DEFAULT_COLOR,Ui._defaultColor],[qn.HIGHLIGHT_THICKNESS,Ui._defaultThickness]]}get propertiesToUpdate(){return[[qn.HIGHLIGHT_COLOR,this.color||Ui._defaultColor],[qn.HIGHLIGHT_THICKNESS,this.#m||Ui._defaultThickness],[qn.HIGHLIGHT_FREE,this.#h]]}#A(t){const e=(s,a)=>{this.color=s,this.#g=a,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:s,"fill-opacity":a}}),this.#s?.updateColor(s)},n=this.color,r=this.#g;this.addCommands({cmd:e.bind(this,t,Ui._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#b(t){const e=this.#m,n=r=>{this.#m=r,this.#E(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new ZE({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#F())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#F())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#P(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#k(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#P():t&&(this.#k(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#E(t){if(!this.#h)return;this.#w({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#P(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#k(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#r}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#r))}static#S([t,e,n,r],s){switch(s){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=Ui.#S(this.#l.box,t)):n=Ui.#S([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:Ui.#S(this.#i.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#r;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),fE(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#N(t){Ui._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#C(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#F(){return this.#h?this.rotation:0}#I(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#n,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:u,height:f}of s){const g=l*t+n,p=(1-c)*e+r;a[o]=a[o+4]=g,a[o+1]=a[o+3]=p,a[o+2]=a[o+6]=g+u*t,a[o+5]=a[o+7]=p-f*e,o+=8}return a}#R(t){return this.#l.serialize(t,this.#F())}static startHighlighting(t,e,{target:n,x:r,y:s}){const{x:a,y:o,width:l,height:c}=n.getBoundingClientRect(),u=new AbortController,f=t.combinedSignal(u),g=p=>{u.abort(),this.#T(t,p)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",Li,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",tl,{signal:f}),n.addEventListener("pointermove",this.#D.bind(this,t),{signal:f}),this._freeHighlight=new Uy({x:r,y:s},[a,o,l,c],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#T(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof VE){const{data:{quadPoints:v,rect:y,rotation:A,id:w,color:C,opacity:E,popupRef:k},parent:{page:{pageNumber:L}}}=t;r=t={annotationType:Sn.HIGHLIGHT,color:Array.from(C),opacity:E,quadPoints:v,boxes:null,pageIndex:L-1,rect:y.slice(0),rotation:A,annotationElementId:w,id:w,deleted:!1,popupRef:k}}else if(t instanceof jb){const{data:{inkLists:v,rect:y,rotation:A,id:w,color:C,borderStyle:{rawWidth:E},popupRef:k},parent:{page:{pageNumber:L}}}=t;r=t={annotationType:Sn.HIGHLIGHT,color:Array.from(C),thickness:E,inkLists:v,boxes:null,pageIndex:L-1,rect:y.slice(0),rotation:A,annotationElementId:w,id:w,deleted:!1,popupRef:k}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=t,c=await super.deserialize(t,e,n);c.color=Xe.makeHexColor(...s),c.#g=l||1,o&&(c.#m=t.thickness),c._initialData=r;const[u,f]=c.pageDimensions,[g,p]=c.pageTranslation;if(a){const v=c.#n=[];for(let y=0;y<a.length;y+=8)v.push({x:(a[y]-g)/u,y:1-(a[y+1]-p)/f,width:(a[y+2]-a[y])/u,height:(a[y+1]-a[y+5])/f});c.#v(),c.#k(),c.rotate(c.rotation)}else if(o){c.#h=!0;const v=o[0],y={x:v[0]-g,y:f-(v[1]-p)},A=new Uy(y,[0,0,u,f],1,c.#m/2,!0,.001);for(let E=0,k=v.length;E<k;E+=2)y.x=v[E]-g,y.y=f-(v[E+1]-p),A.add(y);const{id:w,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);c.#w({highlightOutlines:A.getOutlines(),highlightId:w,clipPathId:C}),c.#k(),c.rotate(c.parentRotation)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=Xr._colorManager.convert(this.color),r={annotationType:Sn.HIGHLIGHT,color:n,opacity:this.#g,thickness:this.#m,quadPoints:this.#I(),outlines:this.#R(e),pageIndex:this.pageIndex,rect:e,rotation:this.#F(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#x(r)?null:(r.id=this.annotationElementId,r)}#x(t){const{color:e}=this._initialData;return t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},JE=class{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Ar("Not implemented")}},QE=class ln extends Xr{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#s=null;static#i=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(ln._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,s]of Object.entries(e))n.has(r)?Object.assign(t[r],s):t[r]=s;return t}static getDefaultDrawingOptions(t){Ar("Not implemented")}static get typesMap(){Ar("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(ln.#n.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,s=r[e],a=o=>{r.updateProperty(e,o);const l=this.#t.updateProperty(e,o);l&&this.#u(l),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ln._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ln._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ln._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,r]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[e,1-t,n*(a/s),r*(s/a)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(a/s),r*(s/a)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-e,t,n*(s/a),r*(a/s)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(s/a),r*(a/s)];default:return[t,e,n,r]}}#u(t){if([this.x,this.y,this.width,this.height]=this.#g(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(o/l),r*(l/o),n*(o/l)];case 5:return[1-e,t,n*(o/l),r*(l/o)];case 6:return[1-t-r*(l/o),1-e,r*(l/o),n*(o/l)];case 7:return[e-n*(o/l),1-t-r*(l/o),n*(o/l),r*(l/o)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(l/o),e,r*(l/o),n*(o/l)];case 13:return[1-e-n*(o/l),t-r*(l/o),n*(o/l),r*(l/o)];case 14:return[1-t,1-e-n*(o/l),r*(l/o),n*(o/l)];case 15:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ln._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,s){Ar("Not implemented")}static startDrawing(t,e,n,r){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=r;if(ln.#a&&ln.#a!==c)return;const{viewport:{rotation:u}}=t,{width:f,height:g}=s.getBoundingClientRect(),p=ln.#r=new AbortController,v=t.combinedSignal(p);if(ln.#i||=l,ln.#a??=c,window.addEventListener("pointerup",y=>{ln.#i===y.pointerId?this._endDraw(y):ln.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointercancel",y=>{ln.#i===y.pointerId?this._currentParent.endDrawingSession():ln.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointerdown",y=>{ln.#a===y.pointerType&&((ln.#o||=new Set).add(y.pointerId),ln.#n.isCancellable()&&(ln.#n.removeLastElement(),ln.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",tl,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",y=>{y.timeStamp===ln.#c&&Li(y)},{signal:v}),t.toggleDrawing(),e._editorUndoBar?.hide(),ln.#n){t.drawLayer.updateProperties(this._currentDrawId,ln.#n.startNew(a,o,f,g,u));return}e.updateUIForDefaultProperties(this),ln.#n=this.createDrawerInstance(a,o,f,g,u),ln.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(ln.#s.toSVGProperties(),ln.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(ln.#c=-1,!ln.#n)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(ln.#i===r){if(ln.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ln.#n.add(e,n)),ln.#c=t.timeStamp,Li(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,ln.#n=null,ln.#s=null,ln.#a=null,ln.#c=NaN),ln.#r&&(ln.#r.abort(),ln.#r=null,ln.#i=NaN,ln.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,ln.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=ln.#n,r=this._currentDrawId,s=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:qn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(qn.DRAW_STEP),!ln.#n.isEmpty()){const{pageDimensions:[n,r],scale:s}=e,a=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ln.#n.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:ln.#s,mustBeCommitted:!t});return this._cleanup(!0),a}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,s,a){Ar("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:o}}=e.viewport,l=this.deserializeDraw(a,o,r,s,this._INNER_MARGIN,t),c=await super.deserialize(t,e,n);return c.createDrawingOptions(t),c.#l({drawOutlines:l}),c.#f(),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[e,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#t.serialize([e,n,r,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},cN=class{#t=new Float64Array(6);#e;#n;#r;#s;#i;#a="";#o=0;#c=new $p;#l;#d;constructor(t,e,n,r,s,a){this.#l=n,this.#d=r,this.#r=s,this.#s=a,[t,e]=this.#h(t,e);const o=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e],this.#n=[{line:o,points:this.#i}],this.#t.set(o,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#h(t,e){return Te._normalizePoint(t,e,this.#l,this.#d,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,r,s,a]=this.#t.subarray(2,6),o=t-s,l=e-a;return Math.hypot(this.#l*o,this.#d*l)<=2?null:(this.#i.push(t,e),isNaN(n)?(this.#t.set([s,a,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,s,a,t,e],0),this.#e.push(...Te.createBezierPoints(n,r,s,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,s){this.#l=n,this.#d=r,this.#r=s,[t,e]=this.#h(t,e);const a=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:a,points:this.#i}),this.#t.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#i=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#a="";for(let t=0,e=this.#n.length;t<e;t++){const{line:n,points:r}=this.#n[t];this.#e=n,this.#i=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=Te.svgRound(this.#e[4]),e=Te.svgRound(this.#e[5]);if(this.#i.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#i.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#i.length===4){const r=Te.svgRound(this.#e[10]),s=Te.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${r} ${s}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,s=this.#e.length;r<s;r+=6){const[a,o,l,c,u,f]=this.#e.slice(r,r+6).map(Te.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${f}`)}return this.#a+=n.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,n,r){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,t,e,n,this.#r,this.#s,r),this.#t=null,this.#e=null,this.#n=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}},$p=class extends Te{#t;#e=0;#n;#r;#s;#i;#a;#o;#c;build(t,e,n,r,s,a,o){this.#s=e,this.#i=n,this.#a=r,this.#o=s,this.#c=a,this.#n=o??0,this.#r=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#r.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#r){if(t.push(`M${Te.svgRound(e[4])} ${Te.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${Te.svgRound(e[10])} ${Te.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[s,a,o,l,c,u]=e.subarray(n,n+6).map(Te.svgRound);t.push(`C${s} ${a} ${o} ${l} ${c} ${u}`)}}return t.join("")}serialize([t,e,n,r],s){const a=[],o=[],[l,c,u,f]=this.#d();let g,p,v,y,A,w,C,E,k;switch(this.#o){case 0:k=Te._rescale,g=t,p=e+r,v=n,y=-r,A=t+l*n,w=e+(1-c-f)*r,C=t+(l+u)*n,E=e+(1-c)*r;break;case 90:k=Te._rescaleAndSwap,g=t,p=e,v=n,y=r,A=t+c*n,w=e+l*r,C=t+(c+f)*n,E=e+(l+u)*r;break;case 180:k=Te._rescale,g=t+n,p=e,v=-n,y=r,A=t+(1-l-u)*n,w=e+c*r,C=t+(1-l)*n,E=e+(c+f)*r;break;case 270:k=Te._rescaleAndSwap,g=t+n,p=e+r,v=-n,y=-r,A=t+(1-c-f)*n,w=e+(1-l-u)*r,C=t+(1-c)*n,E=e+(1-l)*r;break}for(const{line:L,points:R}of this.#r)a.push(k(L,g,p,v,y,s?new Array(L.length):null)),o.push(k(R,g,p,v,y,s?new Array(R.length):null));return{lines:a,points:o,rect:[A,w,C,E]}}static deserialize(t,e,n,r,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const u=[];let f,g,p,v,y;switch(l){case 0:y=Te._rescale,f=-t/n,g=e/r+1,p=1/n,v=-1/r;break;case 90:y=Te._rescaleAndSwap,f=-e/r,g=-t/n,p=1/r,v=1/n;break;case 180:y=Te._rescale,f=t/n+1,g=-e/r,p=-1/n,v=1/r;break;case 270:y=Te._rescaleAndSwap,f=e/r+1,g=t/n+1,p=-1/r,v=-1/n;break}if(!a){a=[];for(const w of o){const C=w.length;if(C===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(C===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(C-2));a.push(E);let[k,L,R,M]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,k,L],0);for(let j=4;j<C;j+=2){const B=w[j],X=w[j+1];E.set(Te.createBezierPoints(k,L,R,M,B,X),(j-2)*3),[k,L,R,M]=[R,M,B,X]}}}for(let w=0,C=a.length;w<C;w++)u.push({line:y(a[w].map(E=>E??NaN),f,g,p,v),points:y(o[w].map(E=>E??NaN),f,g,p,v)});const A=new this.prototype.constructor;return A.build(u,n,r,1,l,c,s),A}#l(t=this.#c){const e=this.#n+t/2*this.#a;return this.#o%180===0?[e/this.#s,e/this.#i]:[e/this.#i,e/this.#s]}#d(){const[t,e,n,r]=this.#t,[s,a]=this.#l(0);return[t+s,e+a,n-2*s,r-2*a]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#r){if(r.length<=12){for(let o=4,l=r.length;o<l;o+=6)Xe.pointBoundingBox(r[o],r[o+1],t);continue}let s=r[4],a=r[5];for(let o=6,l=r.length;o<l;o+=6){const[c,u,f,g,p,v]=r.subarray(o,o+6);Xe.bezierBoundingBox(s,a,c,u,f,g,p,v,t),s=p,a=v}}const[e,n]=this.#l();t[0]=Zs(t[0]-e,0,1),t[1]=Zs(t[1]-n,0,1),t[2]=Zs(t[2]+e,0,1),t[3]=Zs(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[r,s]=this.#l(),[a,o]=[r-e,s-n],l=this.#t;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([t,e],n){const[r,s]=this.#l();this.#s=t,this.#i=e,this.#a=n;const[a,o]=this.#l(),l=a-r,c=o-s,u=this.#t;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Te.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,s=0,a=0,o=0,l=0;switch(this.#e){case 90:r=e/t,s=-t/e,o=t;break;case 180:n=-1,a=-1,o=t,l=e;break;case 270:r=-e/t,s=t/e,l=e;break;default:return""}return`matrix(${n} ${r} ${s} ${a} ${Te.svgRound(o)} ${Te.svgRound(l)})`}getPathResizingSVGProperties([t,e,n,r]){const[s,a]=this.#l(),[o,l,c,u]=this.#t;if(Math.abs(c-s)<=Te.PRECISION||Math.abs(u-a)<=Te.PRECISION){const y=t+n/2-(o+c/2),A=e+r/2-(l+u/2);return{path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(e)}`,transform:`${this.rotationTransform} translate(${y} ${A})`}}}const f=(n-2*s)/(c-2*s),g=(r-2*a)/(u-2*a),p=c/n,v=u/r;return{path:{"transform-origin":`${Te.svgRound(o)} ${Te.svgRound(l)}`,transform:`${this.rotationTransform} scale(${p} ${v}) translate(${Te.svgRound(s)} ${Te.svgRound(a)}) scale(${f} ${g}) translate(${Te.svgRound(-s)} ${Te.svgRound(-a)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[s,a]=this.#l(),o=this.#t,[l,c,u,f]=o;if(o[0]=t,o[1]=e,o[2]=n,o[3]=r,Math.abs(u-s)<=Te.PRECISION||Math.abs(f-a)<=Te.PRECISION){const A=t+n/2-(l+u/2),w=e+r/2-(c+f/2);for(const{line:C,points:E}of this.#r)Te._translate(C,A,w,C),Te._translate(E,A,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*s)/(u-2*s),p=(r-2*a)/(f-2*a),v=-g*(l+s)+t+s,y=-p*(c+a)+e+a;if(g!==1||p!==1||v!==0||y!==0)for(const{line:A,points:w}of this.#r)Te._rescale(A,v,y,g,p,A),Te._rescale(w,v,y,g,p,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,s]=n,a=this.#t,o=t-a[0],l=e-a[1];if(this.#s===r&&this.#i===s)for(const{line:c,points:u}of this.#r)Te._translate(c,o,l,c),Te._translate(u,o,l,u);else{const c=this.#s/r,u=this.#i/s;this.#s=r,this.#i=s;for(const{line:f,points:g}of this.#r)Te._rescale(f,o,l,c,u,f),Te._rescale(g,o,l,c,u,g);a[2]*=c,a[3]*=u}return a[0]=t,a[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Te.svgRound(t)} ${Te.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Te.svgRound(t[0])} ${Te.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}},$E=class tC extends JE{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Xr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new tC(this._viewParameters);return t.updateAll(this),t}},hN=class eC extends QE{static _type="ink";static _editorType=Sn.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Xr.initialize(t,e),this._defaultDrawingOptions=new $E(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Un(this,"typesMap",new Map([[qn.INK_THICKNESS,"stroke-width"],[qn.INK_COLOR,"stroke"],[qn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,s){return new cN(t,e,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,s,a){return $p.deserialize(t,e,n,r,s,a)}static async deserialize(t,e,n){let r=null;if(t instanceof jb){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:u,opacity:f,borderStyle:{rawWidth:g},popupRef:p},parent:{page:{pageNumber:v}}}=t;r=t={annotationType:Sn.INK,color:Array.from(u),thickness:g,opacity:f,paths:{points:a},boxes:null,pageIndex:v-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:p}}const s=await super.deserialize(t,e,n);return s._initialData=r,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=eC.getDefaultDrawingOptions({stroke:Xe.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l={annotationType:Sn.INK,color:Xr._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!this.#t(l)?null:(l.id=this.annotationElementId,l)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,o)=>a!==e[o])||t.thickness!==n||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}},Hy=class extends $p{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}};const i0=8,Jf=3;let Md=class{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(t,e,n,r,s,a,o){const l=this.#e(n,r,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,f=this.#n[2*u],g=this.#n[2*u+1];if(t[(n+f)*e+(r+g)]!==0)return u}return-1}static#s(t,e,n,r,s,a,o){const l=this.#e(n,r,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,f=this.#n[2*u],g=this.#n[2*u+1];if(t[(n+f)*e+(r+g)]!==0)return u}return-1}static#i(t,e,n,r){const s=t.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=t[u]<=r?1:0;for(let u=1;u<n-1;u++)a[u*e]=a[u*e+e-1]=0;for(let u=0;u<e;u++)a[u]=a[e*n-1-u]=0;let o=1,l;const c=[];for(let u=1;u<n-1;u++){l=1;for(let f=1;f<e-1;f++){const g=u*e+f,p=a[g];if(p===0)continue;let v=u,y=f;if(p===1&&a[g-1]===0)o+=1,y-=1;else if(p>=1&&a[g+1]===0)o+=1,y+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const A=[f,u],w=y===f+1,C={isHole:w,points:A,id:o,parent:0};c.push(C);let E;for(const D of c)if(D.id===l){E=D;break}E?E.isHole?C.parent=w?E.parent:l:C.parent=w?l:E.parent:C.parent=w?l:0;const k=this.#r(a,e,u,f,v,y,0);if(k===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let L=this.#n[2*k],R=this.#n[2*k+1];const M=u+L,j=f+R;v=M,y=j;let B=u,X=f;for(;;){const D=this.#s(a,e,B,X,v,y,1);L=this.#n[2*D],R=this.#n[2*D+1];const z=B+L,U=X+R;A.push(U,z);const Q=B*e+X;if(a[Q+1]===0?a[Q]=-o:a[Q]===1&&(a[Q]=o),z===u&&U===f&&B===M&&X===j){a[g]!==1&&(l=Math.abs(a[g]));break}else v=B,y=X,B=z,X=U}}}return c}static#a(t,e,n,r){if(n-e<=4){for(let M=e;M<n-2;M+=2)r.push(t[M],t[M+1]);return}const s=t[e],a=t[e+1],o=t[n-4]-s,l=t[n-3]-a,c=Math.hypot(o,l),u=o/c,f=l/c,g=u*a-f*s,p=l/o,v=1/c,y=Math.atan(p),A=Math.cos(y),w=Math.sin(y),C=v*(Math.abs(A)+Math.abs(w)),E=v*(1-C+C**2),k=Math.max(Math.atan(Math.abs(w+A)*E),Math.atan(Math.abs(w-A)*E));let L=0,R=e;for(let M=e+2;M<n-2;M+=2){const j=Math.abs(g-u*t[M+1]+f*t[M]);j>L&&(R=M,L=j)}L>(c*k)**2?(this.#a(t,e,R+2,r),this.#a(t,R,n,r)):r.push(s,a)}static#o(t){const e=[],n=t.length;return this.#a(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,c=a>>1;for(let y=0;y<a;y++){const A=(y-c)**2;for(let w=0;w<a;w++)o[y*a+w]=Math.exp((A+(w-c)**2)/l)}const u=new Float32Array(256),f=-2*s**2;for(let y=0;y<256;y++)u[y]=Math.exp(y**2/f);const g=t.length,p=new Uint8Array(g),v=new Uint32Array(256);for(let y=0;y<n;y++)for(let A=0;A<e;A++){const w=y*e+A,C=t[w];let E=0,k=0;for(let R=0;R<a;R++){const M=y+R-c;if(!(M<0||M>=n))for(let j=0;j<a;j++){const B=A+j-c;if(B<0||B>=e)continue;const X=t[M*e+B],D=o[R*a+j]*u[Math.abs(X-C)];E+=X*D,k+=D}}const L=p[w]=Math.round(E/k);v[L]++}return[p,v]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){if(t[(o<<2)+3]===0){r=n[o]=255;continue}const u=n[o]=t[o<<2];u>r&&(r=u),u<s&&(s=u)}const a=255/(r-s);for(let o=0;o<e;o++)n[o]=(n[o]-s)*a;return n}static#h(t){let e,n=-1/0,r=-1/0;const s=t.findIndex(l=>l!==0);let a=s,o=s;for(e=s;e<256;e++){const l=t[e];l>n&&(e-a>r&&(r=e-a,o=e-1),n=l,a=e)}for(e=o-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:s}=this.#t;let a=n,o=r;if(n>s||r>s){let g=n,p=r,v=Math.log2(Math.max(n,r)/s);const y=Math.floor(v);v=v===y?y-1:y;for(let w=0;w<v;w++){a=Math.ceil(g/2),o=Math.ceil(p/2);const C=new OffscreenCanvas(a,o);C.getContext("2d").drawImage(t,0,0,g,p,0,0,a,o),g=a,p=o,t!==e&&t.close(),t=C.transferToImageBitmap()}const A=Math.min(s/a,s/o);a=Math.round(a*A),o=Math.round(o*A)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[this.#d(u),a,o]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const f=200,g=u.font=`${n} ${r} ${f}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:y,actualBoundingBoxDescent:A,fontBoundingBoxAscent:w,fontBoundingBoxDescent:C,width:E}=u.measureText(t),k=1.5,L=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,E)*k),R=Math.ceil(Math.max(Math.abs(y)+Math.abs(A)||f,Math.abs(w)+Math.abs(C)||f)*k);c=new OffscreenCanvas(L,R),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=g,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,L,R),u.fillStyle="black",u.fillText(t,L*(k-1)/2,R*(3-k)/2);const M=this.#d(u.getImageData(0,0,L,R).data),j=this.#l(M),B=this.#h(j),X=this.#i(M,L,R,B);return this.processDrawnLines({lines:{curves:X,width:L,height:R},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,s){const[a,o,l]=this.#f(t),[c,u]=this.#c(a,o,l,Math.hypot(o,l)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),f=this.#h(u),g=this.#i(c,o,l,f);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([e,n]=[n,e]);const{curves:l,width:c,height:u}=t,f=t.thickness??0,g=[],p=Math.min(e/c,n/u),v=p/e,y=p/n,A=[];for(const{points:C}of l){const E=a?this.#o(C):C;if(!E)continue;A.push(E);const k=E.length,L=new Float32Array(k),R=new Float32Array(3*(k===2?2:k-2));if(g.push({line:R,points:L}),k===2){L[0]=E[0]*v,L[1]=E[1]*y,R.set([NaN,NaN,NaN,NaN,L[0],L[1]],0);continue}let[M,j,B,X]=E;M*=v,j*=y,B*=v,X*=y,L.set([M,j,B,X],0),R.set([NaN,NaN,NaN,NaN,M,j],0);for(let D=4;D<k;D+=2){const z=L[D]=E[D]*v,U=L[D+1]=E[D+1]*y;R.set(Te.createBezierPoints(M,j,B,X,z,U),(D-2)*3),[M,j,B,X]=[B,X,z,U]}}if(g.length===0)return null;const w=o?new Hy:new $p;return w.build(g,e,n,1,r,o?0:f,s),{outline:w,newCurves:A,areContours:o,thickness:f,width:c,height:u}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const E of t){l+=E.length;for(let k=2,L=E.length;k<L;k++){const R=E[k]-E[k-2];a=Math.min(a,R),o=Math.max(o,R)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=t.length,f=i0+Jf*u,g=new Uint32Array(f);let p=0;g[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,g[p++]=0,g[p++]=r,g[p++]=s,g[p++]=e?0:1,g[p++]=Math.max(0,Math.floor(n??0)),g[p++]=u,g[p++]=c.BYTES_PER_ELEMENT;for(const E of t)g[p++]=E.length-2,g[p++]=E[0],g[p++]=E[1];const v=new CompressionStream("deflate-raw"),y=v.writable.getWriter();await y.ready,y.write(g);const A=c.prototype.constructor;for(const E of t){const k=new A(E.length-2);for(let L=2,R=E.length;L<R;L++)k[L-2]=E[L]-E[L-2];y.write(k)}y.close();const w=await new Response(v.readable).arrayBuffer(),C=new Uint8Array(w);return hE(C)}static async decompressSignature(t){try{const e=E3(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const E of n)a||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),a.set(E,o),o+=E.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],f=l[3],g=l[4]===0,p=l[5],v=l[6],y=l[7],A=[],w=(i0+Jf*v)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(y){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(a.buffer,w);break}o=0;for(let E=0;E<v;E++){const k=l[Jf*E+i0],L=new Float32Array(k+2);A.push(L);for(let R=0;R<Jf-1;R++)L[R]=l[Jf*E+i0+R+1];for(let R=0;R<k;R++)L[R+2]=L[R]+C[o++]}return{areContours:g,thickness:p,outlines:A,width:u,height:f}}catch(e){return Cn(`decompressSignature: ${e}`),null}}},uN=class nC extends JE{constructor(){super(),super.updateProperties({fill:Xr._defaultLineColor,"stroke-width":0})}clone(){const t=new nC;return t.updateAll(this),t}},dN=class rC extends $E{constructor(t){super(t),super.updateProperties({stroke:Xr._defaultLineColor,"stroke-width":1})}clone(){const t=new rC(this._viewParameters);return t.updateAll(this),t}},fN=class xc extends QE{#t=!1;#e=null;#n=null;#r=null;static _type="signature";static _editorType=Sn.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Xr.initialize(t,e),this._defaultDrawingOptions=new uN,this._defaultDrawnSignatureOptions=new dN(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Un(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#n,{rawDims:{pageWidth:u,pageHeight:f},rotation:g}=this.parent.viewport,p=Md.processDrawnLines({lines:r,pageWidth:u,pageHeight:f,rotation:g,innerMargin:xc._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(p,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#r=t,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:s}=this.#n,a=Math.max(r,s),o=Md.processDrawnLines({lines:{curves:t.map(l=>({points:l})),thickness:n,width:r,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:s,y:a}=this,{outline:o}=this.#n=t;this.#t=o instanceof Hy,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let l;this.#t?l=xc.getDefaultDrawingOptions():(l=xc._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[c,u]=this.parentDimensions,[,f]=this.pageDimensions;let g=e/f;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(c*this.width,u*this.height),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Md.process(t,e,n,r,xc._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return Md.extractContoursFromText(t,e,n,r,s,xc._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Md.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:xc._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=xc.getDefaultDrawingOptions():(this._drawingOptions=xc._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a={annotationType:Sn.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.paths={lines:e,points:n},a.uuid=this.#r,a.isCopy=!0):a.lines=e,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,e,n,r,s,a){return a.areContours?Hy.deserialize(t,e,n,r,s,a):$p.deserialize(t,e,n,r,s,a)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#r=t.uuid,r}},pN=class extends Xr{#t=null;#e=null;#n=null;#r=null;#s=null;#i="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Sn.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#r=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Xr.initialize(t,e)}static isHandlingMimeForPasting(t){return Ny.includes(t)}static paste(t,e){e.pasteEditor({mode:Sn.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#i=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:a}=t||this.copyCanvas(null,null,!0).imageData,o=await n.guess({name:"altText",request:{data:r,width:s,height:a,channels:r.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),e&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Ny.join(",");const e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#r||this.#s||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,s]=this.pageDimensions,a=.75;if(this.width)e=this.width*r,n=this.height*s;else if(e>a*r||n>a*s){const u=Math.min(a*r/e,a*s/n);e*=u,n*=u}const[o,l]=this.parentDimensions;this.setDims(e*o/r,n*l/s),this._uiManager.enableWaiting(!1);const c=this.#a=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/r,this.height=n/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:s}=this.#t,a=new Lu;let o=this.#t,l=r,c=s,u=null;if(e){if(r>e||s>e){const R=Math.min(e/r,e/s);l=Math.floor(r*R),c=Math.floor(s*R)}u=document.createElement("canvas");const g=u.width=Math.ceil(l*a.sx),p=u.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(g,p));const v=u.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",A="#42414d");const w=15,C=w*a.sx,E=w*a.sy,k=new OffscreenCanvas(C*2,E*2),L=k.getContext("2d");L.fillStyle=y,L.fillRect(0,0,C*2,E*2),L.fillStyle=A,L.fillRect(0,0,C,E),L.fillRect(C,E,C,E),v.fillStyle=v.createPattern(k,"repeat"),v.fillRect(0,0,g,p),v.drawImage(o,0,0,o.width,o.height,0,0,g,p)}let f=null;if(n){let g,p;if(a.symmetric&&o.width<t&&o.height<t)g=o.width,p=o.height;else if(o=this.#t,r>t||s>t){const A=Math.min(t/r,t/s);g=Math.floor(r*A),p=Math.floor(s*A),this.#l||(o=this.#u(g,p))}const y=new OffscreenCanvas(g,p).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,g,p),f={width:g,height:p,data:y.getImageData(0,0,g,p).data}}return{canvas:u,width:l,height:c,imageData:f}}#u(t,e){const{width:n,height:r}=this.#t;let s=n,a=r,o=this.#t;for(;s>2*t||a>2*e;){const l=s,c=a;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const u=new OffscreenCanvas(s,a);u.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=u.transferToImageBitmap()}return o}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,s=new Lu,a=Math.ceil(n*t*s.sx),o=Math.ceil(r*e*s.sy),l=this.#a;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#t:this.#u(a,o),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*of.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*of.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,s);return a.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,s),a.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,s=!1;if(t instanceof GE){const{data:{rect:y,rotation:A,id:w,structParent:C,popupRef:E},container:k,parent:{page:{pageNumber:L}},canvas:R}=t;let M,j;R?(delete t.canvas,{id:M,bitmap:j}=n.imageManager.getFromCanvas(k.id,R),R.remove()):(s=!0,t._hasNoCanvas=!0);const B=(await e._structTree.getAriaAttributes(`${Nb}${w}`))?.get("aria-label")||"";r=t={annotationType:Sn.STAMP,bitmapId:M,bitmap:j,pageIndex:L-1,rect:y.slice(0),rotation:A,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:B},isSvg:!1,structParent:C,popupRef:E}}const a=await super.deserialize(t,e,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:f,accessibilityData:g}=t;s?(n.addMissingCanvas(t.id,a),a.#o=!0):u&&n.imageManager.isValidId(u)?(a.#e=u,l&&(a.#t=l)):a.#r=c,a.#l=f;const[p,v]=a.pageDimensions;return a.width=(o[2]-o[0])/p,a.height=(o[3]-o[1])/v,g&&(a.altTextData=g),a._initialData=r,a.#d=!!r,a}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Sn.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#v(n);if(o.isSame)return null;o.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const a=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:a,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const o=e.stamps.get(this.#e);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}},gN=class wh{#t;#e=!1;#n=null;#r=null;#s=null;#i=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([aN,hN,pN,AA,fN].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){const f=[...wh.#m.values()];if(!wh._initialized){wh._initialized=!0;for(const g of f)g.initialize(u,t)}t.registerEditorTypes(f),this.#u=t,this.pageIndex=e,this.div=n,this.#t=s,this.#n=a,this.viewport=c,this.#h=l,this.drawLayer=o,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Sn.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#b(),t){case Sn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Sn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Sn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of wh.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#i.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#n){this.#c=!1;return}const e=this.#n.getEditableAnnotations();for(const n of e){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#h&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,u=this.#p;if(c-u>500){this.#p=c;return}this.#p=-1;const{classList:f}=this.div;f.toggle("getElements",!0);const g=document.elementsFromPoint(o,l);if(f.toggle("getElements",!1),!this.div.contains(g[0]))return;let p;const v=new RegExp(`^${sE}[0-9]+$`);for(const A of g)if(v.test(A.id)){p=A.id;break}if(!p)return;const y=this.#i.get(p);y?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of this.#i.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const s of r){const{id:a}=s.data;if(this.#u.isDeletedAnnotationElement(a))continue;let o=e.get(a);if(o){o.resetAnnotationElement(s),o.show(!1),s.show();continue}o=t.get(a),o&&(this.#u.addChangedExistingAnnotation(o),o.renderAnnotationElement(s)&&o.show(!1)),s.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of wh.#m.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#y.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#y(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=ms.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),AA.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const t=this.#u.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#r?.abort(),this.#r=null}attach(t){this.#i.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#i.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),Xr.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#u.getId()}get#v(){return wh.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#w(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#A(),s=this.getNextId(),a=this.#w({parent:this,id:s,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});a&&this.add(a)}async deserialize(t){return await wh.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),s=this.#w({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return s&&this.add(s),s}#A(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+n),l=Math.min(window.innerHeight,e+r),c=(s+o)/2-t,u=(a+l)/2-e,[f,g]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:g}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=ms.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Sn.STAMP||n===Sn.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Sn.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=ms.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#i.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#i.clear(),this.#u.removeLayer(this)}#b(){for(const t of this.#i.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Tu(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#b();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Tu(this.div,{rotation:n}),e!==n)for(const r of this.#i.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}},mN=class Ms{#t=null;#e=new Map;#n=new Map;static#r=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Un(this,"_svgFactory",new rm)}static#s(t,[e,n,r,s]){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*r}%`,a.height=`${100*s}%`}#i(){const t=Ms._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const n=Ms._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Ms._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=Ms.#r++,s=this.#i(),a=Ms._svgFactory.createElement("defs");s.append(a);const o=Ms._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,o);const c=n?this.#a(a,l):null,u=Ms._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,t),this.#e.set(r,s),{id:r,clipPathId:`url(#${c})`}}drawOutline(t,e){const n=Ms.#r++,r=this.#i(),s=Ms._svgFactory.createElement("defs");r.append(s);const a=Ms._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const f=Ms._svgFactory.createElement("mask");s.append(f),l=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const g=Ms._svgFactory.createElement("rect");f.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const p=Ms._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=Ms._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:s,path:a}=e,o=typeof t=="number"?this.#e.get(t):t;if(o){if(n&&this.#o(o,n),r&&Ms.#s(o,r),s){const{classList:l}=o;for(const[c,u]of Object.entries(s))l.toggle(c,u)}if(a){const c=o.firstChild.firstChild;this.#o(c,a)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}};globalThis._pdfjsTestingUtils={HighlightOutliner:zy};globalThis.pdfjsLib={AbortException:Lh,AnnotationEditorLayer:gN,AnnotationEditorParamsType:qn,AnnotationEditorType:Sn,AnnotationEditorUIManager:Dp,AnnotationLayer:sN,AnnotationMode:xh,AnnotationType:Pi,build:zL,ColorPicker:ZE,createValidAbsoluteUrl:aE,DOMSVGFactory:rm,DrawLayer:mN,FeatureTest:ms,fetchData:Zp,getDocument:FL,getFilenameFromUrl:C3,getPdfFilenameFromUrl:k3,getUuid:cE,getXfaPageViewport:P3,GlobalWorkerOptions:Yd,ImageKind:R0,InvalidPDFException:Ty,isDataScheme:Lm,isPdfFile:Ib,isValidExplicitDest:H3,MathClamp:Zs,noContextMenu:tl,normalizeUnicode:x3,OPS:em,OutputScale:Lu,PasswordResponses:f3,PDFDataRangeTransport:ME,PDFDateString:dE,PDFWorker:By,PermissionFlag:d3,PixelsPerInch:of,RenderingCancelledException:Rb,ResponseException:nm,setLayerDimensions:Tu,shadow:Un,SignatureExtractor:Md,stopEvent:Li,SupportedImageMimeTypes:Ny,TextLayer:My,TouchManager:mE,updateUrlHash:oE,Util:Xe,VerbosityLevel:_m,version:jL,XfaLayer:jE};Yd.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();const Js=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),qy=[.001,0,0,.001,0,0],f1=1.35,Ua={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Sh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iC="pdfjs_internal_editor_",gn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Wn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},vN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},us={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},B0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ti={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Od={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fm={ERRORS:0,WARNINGS:1,INFOS:5},Mp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},s0={moveTo:0,lineTo:1,curveTo:2,closePath:3},yN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Rm=Fm.WARNINGS;function bN(i){Number.isInteger(i)&&(Rm=i)}function wN(){return Rm}function Im(i){Rm>=Fm.INFOS&&console.log(`Info: ${i}`)}function kn(i){Rm>=Fm.WARNINGS&&console.log(`Warning: ${i}`)}function xr(i){throw new Error(i)}function Ii(i,t){i||xr(t)}function AN(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sC(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=kN(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return AN(n)?n:null}function aC(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&sC(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Mn(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Bu=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class xA extends Bu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class p1 extends Bu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Wy extends Bu{constructor(t){super(t,"InvalidPDFException")}}class im extends Bu{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class xN extends Bu{constructor(t){super(t,"FormatError")}}class Nh extends Bu{constructor(t){super(t,"AbortException")}}function oC(i){(typeof i!="object"||i?.length===void 0)&&xr("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),a=i.subarray(r,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function tg(i){typeof i!="string"&&xr("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function SN(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function EN(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function CN(){try{return new Function(""),!0}catch{return!1}}class vs{static get isLittleEndian(){return Mn(this,"isLittleEndian",EN())}static get isEvalSupported(){return Mn(this,"isEvalSupported",CN())}static get isOffscreenCanvasSupported(){return Mn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Mn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Mn(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Mn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const g1=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class Oe{static makeHexColor(t,e,n){return`#${g1[t]}${g1[e]}${g1[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const r=t[n],s=t[n+1];t[n]=r*e[0]+s*e[2]+e[4],t[n+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],s=e[1],a=e[2],o=e[3],l=e[4],c=e[5];for(let u=0;u<6;u+=2){const f=t[n+u],g=t[n+u+1];t[n+u]=f*r+g*a+l,t[n+u+1]=f*s+g*o+c}}static applyInverseTransform(t,e){const n=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,n){const r=e[0],s=e[1],a=e[2],o=e[3],l=e[4],c=e[5],u=t[0],f=t[1],g=t[2],p=t[3];let v=r*u+l,y=v,A=r*g+l,w=A,C=o*f+c,E=C,k=o*p+c,L=k;if(s!==0||a!==0){const R=s*u,M=s*g,j=a*f,B=a*p;v+=j,w+=j,A+=B,y+=B,C+=R,L+=R,k+=M,E+=M}n[0]=Math.min(n[0],v,A,y,w),n[1]=Math.min(n[1],C,k,E,L),n[2]=Math.max(n[2],v,A,y,w),n[3]=Math.max(n[3],C,k,E,L)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],s=t[2],a=t[3],o=n**2+r**2,l=n*s+r*a,c=s**2+a**2,u=(o+c)/2,f=Math.sqrt(u**2-(o*c-l**2));e[0]=Math.sqrt(u+f||1),e[1]=Math.sqrt(u-f||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>a?null:[n,s,r,a]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,s){s[0]=Math.min(s[0],t,n),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,n),s[3]=Math.max(s[3],e,r)}static#t(t,e,n,r,s,a,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,g=c*c,p=g*c,v=f*(f*(f*t+3*c*e)+3*g*n)+p*r,y=f*(f*(f*s+3*c*a)+3*g*o)+p*l;u[0]=Math.min(u[0],v),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],v),u[3]=Math.max(u[3],y)}static#e(t,e,n,r,s,a,o,l,c,u,f,g){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#t(t,e,n,r,s,a,o,l,-f/u,g);return}const p=u**2-4*f*c;if(p<0)return;const v=Math.sqrt(p),y=2*c;this.#t(t,e,n,r,s,a,o,l,(-u+v)/y,g),this.#t(t,e,n,r,s,a,o,l,(-u-v)/y,g)}static bezierBoundingBox(t,e,n,r,s,a,o,l,c){c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l),this.#e(t,n,s,o,e,r,a,l,3*(-t+3*(n-s)+o),6*(t-2*n+s),3*(n-t),c),this.#e(t,n,s,o,e,r,a,l,3*(-e+3*(r-a)+l),6*(e-2*r+a),3*(r-e),c)}}function kN(i){return decodeURIComponent(escape(i))}let m1=null,SA=null;function _N(i){return m1||(m1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,SA=new Map([["","t"]])),i.replaceAll(m1,(t,e,n)=>e?e.normalize("NFKC"):SA.get(n))}function lC(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),oC(i)}const zb="pdfjs_internal_id_";function PN(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...s]=e;if(!i(n)&&!Number.isInteger(n)||!t(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Qs(i,t,e){return Math.min(Math.max(i,t),e)}function cC(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(oC(i))}function TN(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):tg(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});const Sc="http://www.w3.org/2000/svg";class lf{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function eg(i,t="text"){if(vp(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class ng{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=a,n*=e;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let u,f,g,p;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,f=0,g=0,p=1;break;case 90:u=0,f=1,g=1,p=0;break;case 270:u=0,f=-1,g=-1,p=0;break;case 0:u=1,f=0,g=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,p=-p);let v,y,A,w;u===0?(v=Math.abs(c-t[1])*n+s,y=Math.abs(l-t[0])*n+a,A=(t[3]-t[1])*n,w=(t[2]-t[0])*n):(v=Math.abs(l-t[0])*n+s,y=Math.abs(c-t[1])*n+a,A=(t[2]-t[0])*n,w=(t[3]-t[1])*n),this.transform=[u*n,f*n,g*n,p*n,v-u*n*l-g*n*c,y-f*n*l-p*n*c],this.width=A,this.height=w}get rawDims(){const t=this.viewBox;return Mn(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new ng({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const n=[t,e];return Oe.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Oe.applyTransform(e,this.transform);const n=[t[2],t[3]];return Oe.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Oe.applyInverseTransform(n,this.transform),n}}class Ub extends Bu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Dm(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Hb(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function LN(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function NN(i,t="document.pdf"){if(typeof i!="string")return t;if(Dm(i))return kn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return t;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return r(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(s.test(c))return r(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return r(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return r(l[0])}return t}class EA{started=Object.create(null);times=[];time(t){t in this.started&&kn(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||kn(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-r}ms
`);return t.join("")}}function vp(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function So(i){i.preventDefault()}function Ni(i){i.preventDefault(),i.stopPropagation()}function FN(i){console.log("Deprecated API usage: "+i)}class Vy{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(e[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=u,o+=f):c==="+"&&(a-=u,o-=f),new Date(Date.UTC(n,r,s,a,o,l))}}function RN(i,{scale:t=1,rotation:e=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new ng({viewBox:s,userUnit:1,scale:t,rotation:e})}function Mm(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(kn(`Not a valid color format: "${i}"`),[0,0,0])}function IN(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,Mm(n))}t.remove()}function ii(i){const{a:t,b:e,c:n,d:r,e:s,f:a}=i.getTransform();return[t,e,n,r,s,a]}function El(i){const{a:t,b:e,c:n,d:r,e:s,f:a}=i.getTransform().invertSelf();return[t,e,n,r,s,a]}function Fu(i,t,e=!1,n=!0){if(t instanceof ng){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:a}=i,o=vs.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!e||t.rotation%180===0?(a.width=u,a.height=f):(a.width=f,a.height=u)}n&&i.setAttribute("data-main-rotation",t.rotation)}class Il{constructor(){const{pixelRatio:t}=Il;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,s=-1){let a=1/0,o=1/0,l=1/0;n=Il.capPixels(n,s),n>0&&(a=Math.sqrt(n/(t*e))),r!==-1&&(o=r/t,l=r/e);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Gy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class kp{#t=null;#e=null;#n;#r=null;#s=null;#i=null;#a=null;static#o=null;constructor(t){this.#n=t,kp.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",So,{signal:e}),t.addEventListener("pointerdown",kp.#c,{signal:e}));const n=this.#r=document.createElement("div");n.className="buttons",t.append(n);const r=this.#n.toolbarPosition;if(r){const{style:s}=t,a=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#c(t){t.stopPropagation()}#l(t){this.#n._focusEventsAllowed=!1,Ni(t)}#d(t){this.#n._focusEventsAllowed=!0,Ni(t)}#h(t){const e=this.#n._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",So,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown(),this.#i?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",kp.#o[t]),this.#h(n)&&n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#r.append(n)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#h(e),this.#r.append(e,this.#f),this.#s=t}addComment(t){if(this.#i)return;const e=t.render();e&&(this.#h(e),this.#r.append(e,this.#f),this.#i=t,t.toolbar=this)}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#h(e),this.#r.append(e,this.#f)}async addEditSignatureButton(t){const e=this.#a=await t.renderEditButton(this.#n);this.#h(e),this.#r.append(e,this.#f)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}updateEditSignatureButton(t){this.#a&&(this.#a.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class DN{#t=null;#e=null;#n;constructor(t){this.#n=t}#r(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#n._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",So,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#n.hasCommentManager()&&this.#i("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#i("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),t}#s(t,e){let n=0,r=0;for(const s of t){const a=s.y+s.height;if(a<n)continue;const o=s.x+(e?s.width:0);if(a>n){r=o,n=a;continue}e?o>r&&(r=o):o<r&&(r=o)}return[e?1-r:r,n]}show(t,e,n){const[r,s]=this.#s(e,n),{style:a}=this.#e||=this.#r();t.append(this.#e),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#i(t,e,n,r){const s=document.createElement("button");s.classList.add("basic",t),s.tabIndex=0,s.setAttribute("data-l10n-id",e);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=this.#n._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",So,{signal:o}),s.addEventListener("click",r,{signal:o})),this.#t.append(s)}}function hC(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class MN{#t=0;get id(){return`${iC}${this.#t++}`}}class qb{#t=lC();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Mn(this,"_isSVGFittingCanvas",s)}async#r(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await eg(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=qb._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const f=n.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=u});a.readAsDataURL(r),await l}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){kn(r),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:s}=t;return this.#r(`${e}_${n}_${r}_${s}`,t)}async getFromUrl(t){return this.#r(t,t)}async getFromBlob(t,e){const n=await e;return this.#r(t,n)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class ON{#t=[];#e=!1;#n;#r=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&t(),this.#e)return;const l={cmd:t,undo:e,post:n,type:s};if(this.#r===-1){this.#t.length>0&&(this.#t.length=0),this.#r=0,this.#t.push(l);return}if(a&&this.#t[this.#r].type===s){o&&(l.undo=this.#t[this.#r].undo),this.#t[this.#r]=l;return}const c=this.#r+1;c===this.#n?this.#t.splice(0,1):(this.#r=c,c<this.#t.length&&this.#t.splice(c)),this.#t.push(l)}undo(){if(this.#r===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#r];t(),e?.(),this.#e=!1,this.#r-=1}redo(){if(this.#r<this.#t.length-1){this.#r+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#r];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#t.length-1}cleanType(t){if(this.#r!==-1){for(let e=this.#r;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#r-e),this.#r=e;return}this.#t.length=0,this.#r=-1}}destroy(){this.#t=null}}class rg{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=vs.platform;for(const[n,r,s={}]of t)for(const a of n){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(t,e)||(r.bind(t,...a,e)(),s||Ni(e))}}class Wb{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return IN(t),Mn(this,"_colors",t)}convert(t){const e=Mm(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((s,a)=>s===e[a]))return Wb._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Oe.makeHexColor(...e):t}}class Fh{#t=new AbortController;#e=null;#n=null;#r=new Map;#s=new Map;#i=null;#a=null;#o=null;#c=new ON;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#w=!1;#A=null;#b=null;#E=null;#P=null;#k=!1;#S=null;#N=new MN;#C=!1;#F=!1;#I=!1;#R=null;#D=null;#T=null;#x=null;#M=null;#L=gn.NONE;#_=new Set;#H=null;#W=null;#z=null;#q=null;#U=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#G=[0,0];#O=null;#Y=null;#tt=null;#et=null;#X=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Fh.prototype,e=a=>a.#Y.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Mn(this,"_keyboardManager",new rg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#Y.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#Y.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,r,s,a,o,l,c,u,f,g,p,v,y,A){const w=this._signal=this.#t.signal;this.#Y=t,this.#tt=e,this.#et=n,this.#i=r,this.#l=s,this.#W=a,this.#U=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:w}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),o._on("setpreference",this.onSetPreference.bind(this),{signal:w}),o._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#F=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#F=!1},{capture:!0,signal:w}),this.#ut(),this.#dt(),this.#st(),this.#a=l.annotationStorage,this.#A=l.filterFactory,this.#z=c,this.#P=u||null,this.#y=f,this.#v=g,this.#w=p,this.#M=v||null,this.viewParameters={realScale:lf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=A!==!1}destroy(){this.#X?.resolve(),this.#X=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#r.clear(),this.#m.clear(),this.#x?.clear(),this.#e=null,this.#_.clear(),this.#c.destroy(),this.#i?.destroy(),this.#l?.destroy(),this.#W?.destroy(),this.#S?.hide(),this.#S=null,this.#T?.destroy(),this.#T=null,this.#n=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy(),this.#U=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#M}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#w}get hcmFilter(){return Mn(this,"hcmFilter",this.#z?this.#A.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return Mn(this,"direction",getComputedStyle(this.#Y).direction)}get _highlightColors(){return Mn(this,"_highlightColors",this.#P?new Map(this.#P.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Mn(this,"highlightColors",null);const e=new Map,n=!!this.#z;for(const[r,s]of t){const a=r.endsWith("_HCM");if(n&&a){e.set(r.replace("_HCM",""),s);continue}!n&&!a&&e.set(r,s)}return Mn(this,"highlightColors",e)}get highlightColorNames(){return Mn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#T=t}editAltText(t,e=!1){this.#i?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e){this.#l?.open(this,t,e)}getSignature(t){this.#W?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#W}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#w=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#Y.focus()}findParent(t,e){for(const n of this.#s.values()){const{x:r,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(t>=r&&t<=r+a&&e>=s&&e<=s+o)return n}return null}disableUserSelect(t=!1){this.#tt.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*lf.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#J({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#nt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#s.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),u=this.#J(n).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;n.empty();const g=this.#nt(u),p=this.#L===gn.NONE,v=()=>{const y=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),e&&y?.editComment()};if(p){this.switchToMode(gn.HIGHLIGHT,v);return}v()}commentSelection(t=""){this.highlightSelection(t,!0)}#ct(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#J(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#S||=new DN(this),this.#S.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#et;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ht(){const t=document.getSelection();if(!t||t.isCollapsed){this.#H&&(this.#S?.hide(),this.#H=null,this.#B({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#H)return;const r=this.#J(t).closest(".textLayer");if(!r){this.#H&&(this.#S?.hide(),this.#H=null,this.#B({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#H=e,this.#B({hasSelectedText:!0}),!(this.#L!==gn.HIGHLIGHT&&this.#L!==gn.NONE)&&(this.#L===gn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#k=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#L===gn.HIGHLIGHT?this.#nt(r):null;if(s?.toggleDrawing(),this.#F){const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#Q("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else s?.toggleDrawing(!0),this.#Q("main_toolbar")}}#Q(t=""){this.#L===gn.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#ct()}#ut(){document.addEventListener("selectionchange",this.#ht.bind(this),{signal:this._signal})}#rt(){if(this.#E)return;this.#E=new AbortController;const t=this.combinedSignal(this.#E);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#it(){this.#E?.abort(),this.#E=null}blur(){if(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#Q("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#_)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#st(){if(this.#R)return;this.#R=new AbortController;const t=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#j(){this.#R?.abort(),this.#R=null}#K(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#at(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#st(),this.#K()}removeEditListeners(){this.#j(),this.#at()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#_){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){kn(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of n){const c=await r.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#ft(l);this.#pt(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){kn(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#L!==gn.NONE&&!this.isEditorHandlingKeyboard&&Fh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#Q("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#B(t){Object.entries(t).some(([n,r])=>this.#V[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#L===gn.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#Z([[Wn.HIGHLIGHT_FREE,!0]]))}#Z(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#K(),this.#B({isEditing:this.#L!==gn.NONE,isEmpty:this.#lt(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#it(),this.#at(),this.#B({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#Z(e.defaultPropertiesToUpdate)}}getId(){return this.#N.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#s.set(t.pageIndex,t),this.#C?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1,s=!1){if(this.#L!==t&&!(this.#X&&(await this.#X.promise,!this.#X))){if(this.#X=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#L===gn.POPUP&&this.#l?.hideSidebar(),this.#L=t,t===gn.NONE){this.setEditingState(!1),this.#ot(),this._editorUndoBar?.hide(),this.#X.resolve();return}t===gn.SIGNATURE&&await this.#W?.loadSignatures(),t===gn.POPUP&&(this.#n||=await this.#U.getAnnotationsByType(new Set(this.#u.map(a=>a._editorType))),this.#l?.showSidebar(this.#n)),this.setEditingState(!0),await this.#$(),this.unselectAll();for(const a of this.#s.values())a.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#X.resolve();return}for(const a of this.#r.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),s?a.editComment():r&&a.enterInEditMode()):a.unselect();this.#X.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#L&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Wn.CREATE:this.currentLayer.addNewEditor(e);return;case Wn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#_)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const s of this.#r.values())s.editorType===t&&s.show(e);(this.#q?.get(Wn.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#Z([[Wn.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#I!==t){this.#I=t;for(const e of this.#s.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#$(){if(!this.#C){this.#C=!0;const t=[];for(const e of this.#s.values())t.push(e.enable());await Promise.all(t);for(const e of this.#r.values())e.enable()}}#ot(){if(this.unselectAll(),this.#C){this.#C=!1;for(const t of this.#s.values())t.disable();for(const t of this.#r.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#r.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#r.get(t)}addEditor(t){this.#r.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#r.delete(t.id),t.annotationElementId&&this.#x?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#ft(t){const e=this.#s.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#Z(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#_);return t}updateUI(t){this.#gt===t&&this.#Z(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#Z(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#_.has(t)){this.#_.delete(t),t.unselect(),this.#B({hasSelectedEditor:this.hasSelection});return}this.#_.add(t),t.select(),this.#Z(t.propertiesToUpdate),this.#B({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#_)e!==t&&e.unselect();this.#_.clear(),this.#_.add(t),t.select(),this.#Z(t.propertiesToUpdate),this.#B({hasSelectedEditor:!0})}isSelected(t){return this.#_.has(t)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(t){t.unselect(),this.#_.delete(t),this.#B({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#B({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#lt()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#B({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#lt()})}addCommands(t){this.#c.add(t),this.#B({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#lt()})}cleanUndoStack(t){this.#c.cleanType(t)}#lt(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const t of this.#r.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#_],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const s of e)this.#ft(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#pt(t){for(const e of this.#_)e.unselect();this.#_.clear();for(const e of t)e.isEmpty()||(this.#_.add(e),e.select());this.#B({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#_)t.commit();this.#pt(this.#r.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#L!==gn.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#_)t.unselect();this.#_.clear(),this.#B({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#G[0]+=t,this.#G[1]+=e;const[r,s]=this.#G,a=[...this.#_],o=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#G[0]=this.#G[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#r.has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)this.#r.has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(t,e),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#_)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:s,pageIndex:a},o]of t)o.newX=r,o.newY=s,o.newPageIndex=a,e||=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!e)return!1;const n=(r,s,a,o)=>{if(this.#r.has(r.id)){const l=this.#s.get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of t)n(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of t)n(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#L}get imageManager(){return Mn(this,"imageManager",new qb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,u=e.rangeCount;c<u;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,u,f,g)=>({x:(u-r)/a,y:1-(c+f-n)/s,width:g/a,height:f/s});break;case"180":o=(c,u,f,g)=>({x:1-(c+f-n)/s,y:1-(u+g-r)/a,width:f/s,height:g/a});break;case"270":o=(c,u,f,g)=>({x:1-(u+g-r)/a,y:(c-n)/s,width:g/a,height:f/s});break;default:o=(c,u,f,g)=>({x:(c-n)/s,y:(u-r)/a,width:f/s,height:g/a});break}const l=[];for(let c=0,u=e.rangeCount;c<u;c++){const f=e.getRangeAt(c);if(!f.collapsed)for(const{x:g,y:p,width:v,height:y}of f.getClientRects())v===0||y===0||l.push(o(g,p,v,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#a.getRawValue(e);n&&(this.#L===gn.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#x?.get(t);r&&(r.setCanvas(e,n),this.#x.delete(t))}addMissingCanvas(t,e){(this.#x||=new Map).set(t,e)}}class Nl{#t=null;#e=!1;#n=null;#r=null;#s=null;#i=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Nl.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Nl._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#r=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Nl.#f.missing),e.setAttribute("data-l10n-id",Nl.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",So,{signal:n}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#a=!0,r(s))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Nl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(s||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Nl.#f[this.#g]),this.#r?.setAttribute("data-l10n-id",Nl.#f[`${this.#g}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")},{signal:s})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class a0{#t=null;#e=!1;#n=null;#r=null;#s=null;#i=null;#a=!1;constructor(t){this.#n=t,this.toolbar=null}render(){if(!this.#n._uiManager.hasCommentManager())return null;const t=this.#t=document.createElement("button");t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=this.#n._uiManager._signal;if(!(e instanceof AbortSignal)||e.aborted)return t;t.addEventListener("contextmenu",So,{signal:e}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:e});const n=r=>{r.preventDefault(),this.edit()};return t.addEventListener("click",n,{capture:!0,signal:e}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#e=!0,n(r))},{signal:e}),t}edit(){const{bottom:t,left:e,right:n}=this.#n.getClientDimensions(),r={top:t};this.#n._uiManager.direction==="ltr"?r.right=n:r.left=e,this.#n._uiManager.editComment(this.#n,r)}finish(){this.#t&&(this.#t.focus({focusVisible:this.#e}),this.#e=!1)}isDeleted(){return this.#a||this.#s===""}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#r}serialize(){return this.data}get data(){return{text:this.#s,date:this.#i,deleted:this.#a}}set data(t){if(t===null){this.#s="",this.#a=!0;return}this.#s=t,this.#i=new Date,this.#a=!1}setInitialText(t){this.#r=t,this.data=t}toggle(t=!1){this.#t&&(this.#t.disabled=!t)}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#s="",this.#i=null,this.#n=null,this.#e=!1,this.#a=!1}}class Om{#t;#e=!1;#n=null;#r;#s;#i;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#t=t,this.#n=n,this.#r=e,this.#s=r,this.#i=s,this.#a=a,this.#d=new AbortController,this.#c=AbortSignal.any([o,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Il.pixelRatio}#f(t){if(this.#r?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),a=this.#t,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(Ni(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),s=this.#t,a={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const o=this.#p.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",Ni,a),s.addEventListener("pointermove",Ni,a),s.addEventListener("pointercancel",Ni,a),s.addEventListener("pointerup",Ni,a),this.#s?.()}if(Ni(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;Ni(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:s}=e,{screenX:a,screenY:o}=n,l=this.#l,{touch0X:c,touch0Y:u,touch1X:f,touch1Y:g}=l,p=f-c,v=g-u,y=a-r,A=o-s,w=Math.hypot(y,A)||1,C=Math.hypot(p,v)||1;if(!this.#e&&Math.abs(C-w)<=Om.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#e){this.#e=!0;return}const E=[(r+a)/2,(s+o)/2];this.#i?.(E,C,w)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(Ni(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Qe{#t=null;#e=null;#n=null;#r=null;#s=!1;#i=null;#a="";#o=!1;#c=null;#l=null;#d=null;#h=null;#f="";#g=!1;#p=null;#u=!1;#m=!1;#y=!1;#v=null;#w=0;#A=0;#b=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#P=!1;#k=Qe._zIndex++;static _borderLineWidth=-1;static _colorManager=new Wb;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Qe.prototype._resizeWithKeyboard,e=Fh.TRANSLATE_SMALL,n=Fh.TRANSLATE_BIG;return Mn(this,"_resizerKeyboardManager",new rg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Qe.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Mn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new BN({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Qe._l10n??=t,Qe._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Qe._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Qe._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){xr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#P}set _isDraggable(t){this.#P=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#k}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#G(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[s,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/s,this.y=(e+r)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#S([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#S(this.parentDimensions,t,e)}translateInPage(t,e){this.#p||=[this.x,this.y,this.width,this.height],this.#S(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#p||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=n;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Qe,r=n/t,s=n/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=r,s*=n,a*=r,this._mustFixPosition)switch(t){case 0:s=Qs(s,0,n-o),a=Qs(a,0,r-l);break;case 90:s=Qs(s,0,n-l),a=Qs(a,o,r);break;case 180:s=Qs(s,o,n),a=Qs(a,l,r);break;case 270:s=Qs(s,l,n),a=Qs(a,0,r-o);break}this.x=s/=n,this.y=a/=r;const[c,u]=this.getBaseTranslation();s+=c,a+=u,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#N(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Qe.#N(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Qe.#N(t,e,360-this.parentRotation)}#C(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/n).toFixed(2)}%`,this.#o||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),s=!this.#o&&e.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!this.#o&&!s&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#I.bind(this,n),{signal:e}),r.addEventListener("contextmenu",So,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#I(t,e){e.preventDefault();const{isMac:n}=vs.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#T.bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Ni,{passive:!1,signal:a}),window.addEventListener("contextmenu",So,{signal:a}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#D()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#R(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[s,a]=this.parentDimensions;this.setDims(s*n,a*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#D(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#d;this.#d=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===t&&a===e&&o===n&&l===r||this.addCommands({cmd:this.#R.bind(this,s,a,o,l),undo:this.#R.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#T(t,e){const[n,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=Qe.MIN_SIZE/n,u=Qe.MIN_SIZE/r,f=this.#C(this.rotation),g=(Z,$)=>[f[0]*Z+f[2]*$,f[1]*Z+f[3]*$],p=this.#C(360-this.rotation),v=(Z,$)=>[p[0]*Z+p[2]*$,p[1]*Z+p[3]*$];let y,A,w=!1,C=!1;switch(t){case"topLeft":w=!0,y=(Z,$)=>[0,0],A=(Z,$)=>[Z,$];break;case"topMiddle":y=(Z,$)=>[Z/2,0],A=(Z,$)=>[Z/2,$];break;case"topRight":w=!0,y=(Z,$)=>[Z,0],A=(Z,$)=>[0,$];break;case"middleRight":C=!0,y=(Z,$)=>[Z,$/2],A=(Z,$)=>[0,$/2];break;case"bottomRight":w=!0,y=(Z,$)=>[Z,$],A=(Z,$)=>[0,0];break;case"bottomMiddle":y=(Z,$)=>[Z/2,$],A=(Z,$)=>[Z/2,0];break;case"bottomLeft":w=!0,y=(Z,$)=>[0,$],A=(Z,$)=>[Z,0];break;case"middleLeft":C=!0,y=(Z,$)=>[0,$/2],A=(Z,$)=>[Z,$/2];break}const E=y(o,l),k=A(o,l);let L=g(...k);const R=Qe._round(s+L[0]),M=Qe._round(a+L[1]);let j=1,B=1,X,D;if(e.fromKeyboard)({deltaX:X,deltaY:D}=e);else{const{screenX:Z,screenY:$}=e,[st,rt]=this.#l;[X,D]=this.screenToPageTranslation(Z-st,$-rt),this.#l[0]=Z,this.#l[1]=$}if([X,D]=v(X/n,D/r),w){const Z=Math.hypot(o,l);j=B=Math.max(Math.min(Math.hypot(k[0]-E[0]-X,k[1]-E[1]-D)/Z,1/o,1/l),c/o,u/l)}else C?j=Qs(Math.abs(k[0]-E[0]-X),c,1)/o:B=Qs(Math.abs(k[1]-E[1]-D),u,1)/l;const z=Qe._round(o*j),U=Qe._round(l*B);L=g(...A(z,U));const Q=R-L[0],pt=M-L[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=z,this.height=U,this.x=Q,this.y=pt,this.setDims(n*z,r*U),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#m)return this._editToolbar;this._editToolbar=new kp(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Nl.initialize(Qe._l10n),this.#n=new Nl(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}addCommentButton(){return this.#r?this.#r:this.#r=new a0(this)}get commentColor(){return null}get comment(){const t=this.#r;return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){this.#r||(this.#r=new a0(this)),this.#r.data=t}setCommentData(t){this.#r||(this.#r=new a0(this)),this.#r.setInitialText(t)}get hasEditedComment(){return this.#r?.hasBeenEdited()}async editComment(){this.#r||(this.#r=new a0(this)),this.#r.edit()}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,c=o+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,r]}}}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#W();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),hC(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Om({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#x.bind(this),onPinching:this.#M.bind(this),onPinchEnd:this.#L.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#x(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#M(t,e,n){let s=.7*(n/e)+1-.7;if(s===1)return;const a=this.#C(this.rotation),o=(R,M)=>[a[0]*R+a[2]*M,a[1]*R+a[3]*M],[l,c]=this.parentDimensions,u=this.x,f=this.y,g=this.width,p=this.height,v=Qe.MIN_SIZE/l,y=Qe.MIN_SIZE/c;s=Math.max(Math.min(s,1/g,1/p),v/g,y/p);const A=Qe._round(g*s),w=Qe._round(p*s);if(A===g&&w===p)return;this.#p||=[u,f,g,p];const C=o(g/2,p/2),E=Qe._round(u+C[0]),k=Qe._round(f+C[1]),L=o(A/2,w/2);this.x=E-L[0],this.y=k-L[1],this.width=A,this.height=w,this.setDims(l*A,c*w),this.fixAndSetPosition(),this._onResizing()}#L(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#D()}pointerdown(t){const{isMac:e}=vs.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#H(t);return}this.#_(t)}#_(t){const{isMac:e}=vs.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#H(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=c=>{r.abort(),this.#i=null,this.#g=!1,this._uiManager.endDragSession()||this.#_(c),n&&this._onStopDragging()};e&&(this.#w=t.clientX,this.#A=t.clientY,this.#i=t.pointerId,this.#a=t.pointerType,window.addEventListener("pointermove",c=>{n||(n=!0,this._onStartDragging());const{clientX:u,clientY:f,pointerId:g}=c;if(g!==this.#i){Ni(c);return}const[p,v]=this.screenToPageTranslation(u-this.#w,f-this.#A);this.#w=u,this.#A=f,this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",Ni,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#a&&(this.#E||c.isPrimary)&&o(c),Ni(c)},a));const l=c=>{if(!this.#i||this.#i===c.pointerId){o(c);return}Ni(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/r,u=e/r,f=this.x*s,g=this.y*a,p=this.width*s,v=this.height*a;switch(n){case 0:return[f+c+o,a-g-u-v+l,f+c+p+o,a-g-u+l];case 90:return[f+u+o,a-g+c+l,f+u+v+o,a-g+c+p+l];case 180:return[f-c-p+o,a-g+u+l,f-c+o,a-g+u+v+l];case 270:return[f-u-v+o,a-g-c-p+l,f-u+o,a-g-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,s,a]=t,o=s-n,l=a-r;switch(this.rotation){case 0:return[n,e-a,o,l];case 90:return[n,e-r,l,o];case 180:return[s,e-r,o,l];case 270:return[s,e-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return e<a&&r>0&&t<s&&n>0}#W(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#W()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){xr("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,c,u]=r.getRectInCurrentCoords(t.rect,a);return r.x=o/s,r.y=l/a,r.width=c/s,r.height=u/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#G(),this.removeEditToolbar(),this.#b){for(const t of this.#b.values())clearTimeout(t);this.#b=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const a=this.#z.bind(this),o=this.#q.bind(this),l=this._uiManager._signal;for(const c of this.#e){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#U.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Qe._l10nResizer[u])}}const n=this.#e[0];let r=0;for(const a of e){if(a===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)this.#c.append(this.#c.firstChild);else if(s>r)for(let o=0;o<s-r;o++)this.#c.firstChild.before(this.#c.lastChild);let a=0;for(const o of e){const c=this.#e[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Qe._l10nResizer[c])}}this.#V(0),this.#y=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#z(t){Qe._resizerKeyboardManager.exec(this,t)}#q(t){this.#y&&t.relatedTarget?.parentNode!==this.#c&&this.#G()}#U(t){this.#f=this.#y?t:""}#V(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#y&&this.#T(this.#f,{deltaX:t,deltaY:e,fromKeyboard:!0})}#G(){this.#y=!1,this.#V(-1),this.#D()}_stopResizingWithKeyboard(){this.#G(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#u}set isEditing(t){this.#u=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#b||=new Map;const{action:n}=t;let r=this.#b.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#b.delete(n),this.#b.size===0&&(this.#b=null)},Qe._telemetryTimeout),this.#b.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class BN extends Qe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CA=3285377520,fo=4294901760,Cl=65535;class uC{constructor(t){this.h1=t?t&4294967295:CA,this.h2=t?t&4294967295:CA}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let y=0,A=t.length;y<A;y++){const w=t.charCodeAt(y);w<=255?e[n++]=w:(e[n++]=w>>>8,e[n++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,a=new Uint32Array(e.buffer,0,r);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,g=461845907,p=f&Cl,v=g&Cl;for(let y=0;y<r;y++)y&1?(o=a[y],o=o*f&fo|o*p&Cl,o=o<<15|o>>>17,o=o*g&fo|o*v&Cl,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*f&fo|l*p&Cl,l=l<<15|l>>>17,l=l*g&fo|l*v&Cl,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=e[r*4+2]<<16;case 2:o^=e[r*4+1]<<8;case 1:o^=e[r*4],o=o*f&fo|o*p&Cl,o=o<<15|o>>>17,o=o*g&fo|o*v&Cl,r&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&fo|t*36045&Cl,e=e*4283543511&fo|((e<<16|t>>>16)*2950163797&fo)>>>16,t^=e>>>1,t=t*444984403&fo|t*60499&Cl,e=e*3301882366&fo|((e<<16|t>>>16)*3120437893&fo)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Xy=Object.freeze({map:null,hash:"",transfer:void 0});class Vb{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof Qe)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[s,a]of Object.entries(e))n[s]!==a&&(r=!0,n[s]=a);else r=!0,this.#n.set(t,e);r&&this.#r(),e instanceof Qe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dC(this)}get serializable(){if(this.#n.size===0)return Xy;const t=new Map,e=new uC,n=[],r=Object.create(null);let s=!1;for(const[a,o]of this.#n){const l=o instanceof Qe?o.serialize(!1,r):o;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Xy}get editorStats(){let t=null;const e=new Map;for(const n of this.#n.values()){if(!(n instanceof Qe))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const a=t[s]||=new Map;for(const[o,l]of Object.entries(r)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof Qe)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class dC extends Vb{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#t={map:s,hash:n,transfer:r}}get print(){xr("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Mn(this,"modifiedIds",{ids:new Set,hash:""})}}class jN{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Ii(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=t,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),this.#t.add(r),n?.(t)}catch{kn(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}xr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw kn(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Mn(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Mn(this,"isSyncFontLoadingSupported",Js||vs.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ii(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Mn(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,L){return k.charCodeAt(L)<<24|k.charCodeAt(L+1)<<16|k.charCodeAt(L+2)<<8|k.charCodeAt(L+3)&255}function r(k,L,R,M){const j=k.substring(0,L),B=k.substring(L+R);return j+M+B}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(k,L){if(++c>30){kn("Load test font never loaded."),L();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(u.bind(null,k,L))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,f.length,f);const v=16,y=1482184792;let A=n(g,v);for(s=0,a=f.length-3;s<a;s+=4)A=A-y+n(f,s)|0;s<f.length&&(A=A-y+n(f+"XXX",s)|0),g=r(g,v,4,SN(A));const w=`url(data:font/opentype;base64,${btoa(g)});`,C=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(C);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const k of[t.loadedName,f]){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=k,E.append(L)}this._document.body.append(E),u(f,()=>{E.remove(),e.complete()})}}class zN{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${cC(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(a){kn(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}}function UN(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Js)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HN(i){if(Js&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return tg(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function o0(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const Ky=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,qN=i=>typeof i=="object"&&typeof i?.name=="string",WN=PN.bind(null,Ky,qN);class VN{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){kn("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const l0={DATA:1,ERROR:2},_i={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function kA(){}function ba(i){if(i instanceof Nh||i instanceof Wy||i instanceof xA||i instanceof im||i instanceof p1)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||xr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Nh(i.message);case"InvalidPDFException":return new Wy(i.message);case"PasswordException":return new xA(i.message,i.code);case"ResponseException":return new im(i.message,i.status,i.missing);case"UnknownErrorException":return new p1(i.message,i.details)}return new p1(i.message,i.toString())}class yp{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#r(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===l0.DATA)r.resolve(t.data);else if(t.callback===l0.ERROR)r.reject(ba(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(a){s.postMessage({sourceName:n,targetName:r,callback:l0.DATA,callbackId:t.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:r,callback:l0.ERROR,callbackId:t.callbackId,reason:ba(a)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(t,e,n,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:s,data:e,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:_i.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ii(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:_i.CANCEL,streamId:s,reason:ba(c)}),u.promise}},n)}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,a=this,o=this.actionHandler[t.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=u,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:_i.ENQUEUE,streamId:e,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:_i.CLOSE,streamId:e}),delete a.streamSinks[e])},error(c){Ii(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:_i.ERROR,streamId:e,reason:ba(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(o,t.data,l).then(function(){s.postMessage({sourceName:n,targetName:r,stream:_i.START_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:_i.START_COMPLETE,streamId:e,reason:ba(c)})})}#r(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case _i.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(ba(t.reason));break;case _i.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(ba(t.reason));break;case _i.PULL:if(!o){s.postMessage({sourceName:n,targetName:r,stream:_i.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||kA).then(function(){s.postMessage({sourceName:n,targetName:r,stream:_i.PULL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:_i.PULL_COMPLETE,streamId:e,reason:ba(c)})});break;case _i.ENQUEUE:if(Ii(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case _i.CLOSE:if(Ii(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#s(a,e);break;case _i.ERROR:Ii(a,"error should have stream controller"),a.controller.error(ba(t.reason)),this.#s(a,e);break;case _i.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(ba(t.reason)),this.#s(a,e);break;case _i.CANCEL:if(!o)break;const l=ba(t.reason);Promise.try(o.onCancel||kA,l).then(function(){s.postMessage({sourceName:n,targetName:r,stream:_i.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:_i.CANCEL_COMPLETE,streamId:e,reason:ba(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class fC{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){xr("Abstract method `_createCanvas` called.")}}class GN extends fC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class pC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){xr("Abstract method `_fetch` called.")}}class _A extends pC{async _fetch(t){const e=await eg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):tg(e)}}class gC{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,s){return"none"}destroy(t=!1){}}class XN extends gC{#t;#e;#n;#r;#s;#i;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#r=t,this.#s=e}get#o(){return this.#e||=new Map}get#c(){return this.#i||=new Map}get#l(){if(!this.#n){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#s.createElementNS(Sc,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Sc,"defs"),t.append(n),n.append(this.#n),this.#s.body.append(t)}return this.#n}#d(t){if(t.length===1){const l=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=l[f]/255;const u=c.join(",");return[u,u,u]}const[e,n,r]=t,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=e[l]/255,a[l]=n[l]/255,o[l]=r[l]/255;return[s.join(","),a.join(","),o.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(Dm(e)?kn('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=aC(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,s]=this.#d(t),a=t.length===1?n:`${n}${r}${s}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#r}_transfer_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(a,l);const c=this.#p(o);return this.#m(n,r,s,c),l}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let s=this.#c.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(r,s)),!t||!e))return s.url;const a=this.#v(t);t=Oe.makeHexColor(...a);const o=this.#v(e);if(e=Oe.makeHexColor(...o),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;const l=new Array(256);for(let p=0;p<=255;p++){const v=p/255;l[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#r}_hcm_filter`,f=s.filter=this.#p(u);this.#m(c,c,c,f),this.#g(f);const g=(p,v)=>{const y=a[p]/255,A=o[p]/255,w=new Array(v+1);for(let C=0;C<=v;C++)w[C]=y+C/v*(A-y);return w.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),f),s.url=this.#h(u),s.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#r}_alpha_map_${this.#a++}`,a=this.#h(s);this.#o.set(t,a),this.#o.set(r,a);const o=this.#p(s);return this.#y(n,o),a}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#r}_luminosity_map_${this.#a++}`,a=this.#h(s);this.#o.set(t,a),this.#o.set(r,a);const o=this.#p(s);return this.#f(o),t&&this.#y(n,o),a}addHighlightHCMFilter(t,e,n,r,s){const a=`${e}-${n}-${r}-${s}`;let o=this.#c.get(t);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(t,o)),!e||!n))return o.url;const[l,c]=[e,n].map(this.#v.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[g,p]=[r,s].map(this.#v.bind(this));f<u&&([u,f,g,p]=[f,u,p,g]),this.#l.style.color="";const v=(w,C,E)=>{const k=new Array(256),L=(f-u)/E,R=w/255,M=(C-w)/(255*E);let j=0;for(let B=0;B<=E;B++){const X=Math.round(u+B*L),D=R+B*M;for(let z=j;z<=X;z++)k[z]=D;j=X+1}for(let B=j;B<256;B++)k[B]=k[j-1];return k.join(",")},y=`g_${this.#r}_hcm_${t}_filter`,A=o.filter=this.#p(y);return this.#g(A),this.#m(v(g[0],p[0],5),v(g[1],p[1],5),v(g[2],p[2],5),A),o.url=this.#h(y),o.url}destroy(t=!1){t&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#i?.clear(),this.#i=null,this.#a=0)}#f(t){const e=this.#s.createElementNS(Sc,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#s.createElementNS(Sc,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#s.createElementNS(Sc,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#s.createElementNS(Sc,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const s=this.#s.createElementNS(Sc,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",t),this.#u(s,"feFuncG",e),this.#u(s,"feFuncB",n)}#y(t,e){const n=this.#s.createElementNS(Sc,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,Mm(getComputedStyle(this.#l).getPropertyValue("color"))}}class mC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){xr("Abstract method `_fetch` called.")}}class PA extends mC{async _fetch(t){const e=await eg(t,"arraybuffer");return new Uint8Array(e)}}class vC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){xr("Abstract method `_fetch` called.")}}class TA extends vC{async _fetch(t){const e=await eg(t,"arraybuffer");return new Uint8Array(e)}}Js&&kn("Please use the `legacy` build in Node.js environments.");async function Gb(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class KN extends gC{}class YN extends fC{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class ZN extends pC{async _fetch(t){return Gb(t)}}class JN extends mC{async _fetch(t){return Gb(t)}}class QN extends vC{async _fetch(t){return Gb(t)}}const Ed="__forcedDependency";class $N{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ed]:[]};#n=new Map;#r=[];#s=[];#i=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;constructor(t){this.#f=t.width,this.#g=t.height}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Ed]:{__proto__:this.#e[Ed]}},this.#a={__proto__:this.#a},this.#r.push([t,null]),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const n=this.#r.pop();return n!==void 0&&(n[1]=t),this}recordOpenMarker(t){return this.#r.push([t,null]),this}getOpenMarker(){return this.#r.length===0?null:this.#r.at(-1)[0]}recordCloseMarker(t){const e=this.#r.pop();return e!==void 0&&(e[1]=t),this}beginMarkedContent(t){return this.#s.push([t,null]),this}endMarkedContent(t){const e=this.#s.pop();return e!==void 0&&(e[1]=t),this}pushBaseTransform(t){return this.#i.push(Oe.multiplyByDOMMatrix(this.#i.at(-1),t.getTransform())),this}popBaseTransform(){return this.#i.length>1&&this.#i.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#n.set(t,e),this}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ed,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Ed,t);return this}resetBBox(t){return this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0,this}get hasPendingBBox(){return this.#c!==-1}recordClipBox(t,e,n,r,s,a){const o=Oe.multiplyByDOMMatrix(this.#i.at(-1),e.getTransform()),l=[1/0,1/0,-1/0,-1/0];Oe.axialAlignedBoundingBox([n,s,r,a],o,l);const c=Oe.intersect(this.#a,l);return c?(this.#a[0]=c[0],this.#a[1]=c[1],this.#a[2]=c[2],this.#a[3]=c[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,n,r,s,a){const o=this.#a;if(o[0]===1/0)return this;const l=Oe.multiplyByDOMMatrix(this.#i.at(-1),e.getTransform());if(o[0]===-1/0)return Oe.axialAlignedBoundingBox([n,s,r,a],l,this.#o),this;const c=[1/0,1/0,-1/0,-1/0];return Oe.axialAlignedBoundingBox([n,s,r,a],l,c),this.#o[0]=Math.min(this.#o[0],Math.max(c[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(c[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(c[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(c[3],o[3])),this}recordCharacterBBox(t,e,n,r=1,s=0,a=0,o){const l=n.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#h.get(n),c!==!1&&(u=[0,0,0,0],Oe.axialAlignedBoundingBox(l,n.fontMatrix,u),(r!==1||s!==0||a!==0)&&Oe.scaleMinMax([r,0,0,-r,s,a],u),c)))return this.recordBBox(t,e,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(t);const f=o();return l&&u&&c===void 0&&(c=u[0]<=s-f.actualBoundingBoxLeft&&u[2]>=s+f.actualBoundingBoxRight&&u[1]<=a-f.actualBoundingBoxAscent&&u[3]>=a+f.actualBoundingBoxDescent,this.#h.set(n,c),c)?this.recordBBox(t,e,u[0],u[2],u[1],u[3]):this.recordBBox(t,e,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,a-f.actualBoundingBoxAscent,a+f.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,r=this.#t,s=this.#e;for(const a of e)a in this.#t?n.add(r[a]):a in s&&s[a].forEach(n.add,n);return this}copyDependenciesFromIncrementalOperation(t,e){const n=this.#d,r=this.#l;for(const s of this.#e[e])n.get(s).dependencies.forEach(r.add,r.add(s));return this}recordNamedDependency(t,e){return this.#n.has(e)&&this.#l.add(this.#n.get(e)),this}recordOperation(t,e=!1){this.recordDependencies(t,[Ed]);const n=new Set(this.#l),r=this.#r.concat(this.#s),s=this.#c===t?{minX:this.#o[0],minY:this.#o[1],maxX:this.#o[2],maxY:this.#o[3]}:null;return this.#d.set(t,{bbox:s,pairs:r,dependencies:n}),e||(this.#c=-1),this.#l.clear(),this}bboxToClipBoxDropOperation(t){return this.#c!==-1&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3])),this.#l.clear(),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),Array.from(this.#d,([t,{bbox:e,pairs:n,dependencies:r}])=>(n.forEach(s=>s.forEach(r.add,r)),r.delete(t),{minX:(e?.minX??0)/this.#f,maxX:(e?.maxX??this.#f)/this.#f,minY:(e?.minY??0)/this.#g,maxY:(e?.maxY??this.#g)/this.#g,dependencies:Array.from(r).sort((s,a)=>s-a),idx:t}))}}class sm{#t;#e;#n=0;#r;#s=0;constructor(t,e){if(t instanceof sm)return t;this.#t=t,this.#r=t._takePendingDependencies(),this.#e=e}save(t){return this.#s++,this.#t.save(this.#e),this}restore(t){return this.#s>0&&(this.#t.restore(this.#e),this.#s--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#t.hasPendingBBox||this.#t.resetBBox(this.#e),this}get hasPendingBBox(){return this.#t.hasPendingBBox}recordClipBox(t,e,n,r,s,a){return this.#t.recordClipBox(this.#e,e,n,r,s,a),this}recordBBox(t,e,n,r,s,a){return this.#t.recordBBox(this.#e,e,n,r,s,a),this}recordCharacterBBox(t,e,n,r,s,a,o){return this.#t.recordCharacterBBox(this.#e,e,n,r,s,a,o),this}recordFullPageBBox(t){return this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}copyDependenciesFromIncrementalOperation(t,e){return this.#t.copyDependenciesFromIncrementalOperation(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){this.#t.recordOperation(this.#e,!0);const e=this.#t._extractOperation(this.#e);for(const n of e.dependencies)this.#r.add(n);return this.#r.delete(this.#e),this.#r.delete(null),this}bboxToClipBoxDropOperation(t){return this.#t.bboxToClipBoxDropOperation(this.#e),this}recordNestedDependencies(){this.#t._pushPendingDependencies(this.#r)}take(){throw new Error("Unreachable")}}const po={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],transform:["transform"],transformAndFill:["transform","fillColor"]},ps={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Yy(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),i.clip(r)}class Xb{isModifyingCurrentTransform(){return!1}getPattern(){xr("Abstract method `getPattern` called.")}}class tF extends Xb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let s;if(r===ps.STROKE||r===ps.FILL){const a=e.current.getClippedPathBoundingBox(r,ii(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=Oe.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),Yy(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=t.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else Yy(t,this._bbox),s=this._createGradient(t);return s}}function v1(i,t,e,n,r,s,a,o){const l=t.coords,c=t.colors,u=i.data,f=i.width*4;let g;l[e+1]>l[n+1]&&(g=e,e=n,n=g,g=s,s=a,a=g),l[n+1]>l[r+1]&&(g=n,n=r,r=g,g=a,a=o,o=g),l[e+1]>l[n+1]&&(g=e,e=n,n=g,g=s,s=a,a=g);const p=(l[e]+t.offsetX)*t.scaleX,v=(l[e+1]+t.offsetY)*t.scaleY,y=(l[n]+t.offsetX)*t.scaleX,A=(l[n+1]+t.offsetY)*t.scaleY,w=(l[r]+t.offsetX)*t.scaleX,C=(l[r+1]+t.offsetY)*t.scaleY;if(v>=C)return;const E=c[s],k=c[s+1],L=c[s+2],R=c[a],M=c[a+1],j=c[a+2],B=c[o],X=c[o+1],D=c[o+2],z=Math.round(v),U=Math.round(C);let Q,pt,Z,$,st,rt,ot,q;for(let I=z;I<=U;I++){if(I<A){const mt=I<v?0:(v-I)/(v-A);Q=p-(p-y)*mt,pt=E-(E-R)*mt,Z=k-(k-M)*mt,$=L-(L-j)*mt}else{let mt;I>C?mt=1:A===C?mt=0:mt=(A-I)/(A-C),Q=y-(y-w)*mt,pt=R-(R-B)*mt,Z=M-(M-X)*mt,$=j-(j-D)*mt}let W;I<v?W=0:I>C?W=1:W=(v-I)/(v-C),st=p-(p-w)*W,rt=E-(E-B)*W,ot=k-(k-X)*W,q=L-(L-D)*W;const nt=Math.round(Math.min(Q,st)),lt=Math.round(Math.max(Q,st));let dt=f*I+nt*4;for(let mt=nt;mt<=lt;mt++)W=(Q-mt)/(Q-st),W<0?W=0:W>1&&(W=1),u[dt++]=pt-(pt-rt)*W|0,u[dt++]=Z-(Z-ot)*W|0,u[dt++]=$-($-q)*W|0,u[dt++]=255}}function eF(i,t,e){const n=t.coords,r=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let f=0;f<c;f++,u++)v1(i,e,n[u],n[u+1],n[u+o],r[u],r[u+1],r[u+o]),v1(i,e,n[u+o+1],n[u+1],n[u+o],r[u+o+1],r[u+1],r[u+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)v1(i,e,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class nF extends Xb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=c/f,v=u/g,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/v},A=f+4,w=g+4,C=n.getCanvas("mesh",A,w),E=C.context,k=E.createImageData(f,g);if(e){const R=k.data;for(let M=0,j=R.length;M<j;M+=4)R[M]=e[0],R[M+1]=e[1],R[M+2]=e[2],R[M+3]=255}for(const R of this._figures)eF(k,R,y);return E.putImageData(k,2,2),{canvas:C.canvas,offsetX:o-2*p,offsetY:l-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){Yy(t,this._bbox);const s=new Float32Array(2);if(r===ps.SHADING)Oe.singularValueDecompose2dScale(ii(t),s);else if(this.matrix){Oe.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Oe.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=o,s[1]*=l}else Oe.singularValueDecompose2dScale(e.baseTransform,s);const a=this._createMeshCanvas(s,r===ps.SHADING?null:this._background,e.cachedCanvases);return r!==ps.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class rF extends Xb{getPattern(){return"hotpink"}}function iF(i){switch(i[0]){case"RadialAxial":return new tF(i);case"Mesh":return new nF(i);case"Dummy":return new rF}throw new Error(`Unknown IR type: ${i[0]}`)}const LA={COLORED:1,UNCOLORED:2};class Kb{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Im("TilingType: "+s);const u=e[0],f=e[1],g=e[2],p=e[3],v=g-u,y=p-f,A=new Float32Array(2);Oe.singularValueDecompose2dScale(this.matrix,A);const[w,C]=A;Oe.singularValueDecompose2dScale(this.baseTransform,A);const E=w*A[0],k=C*A[1];let L=v,R=y,M=!1,j=!1;const B=Math.ceil(l*E),X=Math.ceil(c*k),D=Math.ceil(v*E),z=Math.ceil(y*k);B>=D?L=l:M=!0,X>=z?R=c:j=!0;const U=this.getSizeAndScale(L,this.ctx.canvas.width,E),Q=this.getSizeAndScale(R,this.ctx.canvas.height,k),pt=t.cachedCanvases.getCanvas("pattern",U.size,Q.size),Z=pt.context,$=o.createCanvasGraphics(Z);if($.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext($,r,a),Z.translate(-U.scale*u,-Q.scale*f),$.transform(0,U.scale,0,0,Q.scale,0,0),Z.save(),$.dependencyTracker?.save(),this.clipBbox($,u,f,g,p),$.baseTransform=ii($.ctx),$.executeOperatorList(n),$.endDrawing(),$.dependencyTracker?.restore().recordNestedDependencies?.(),Z.restore(),M||j){const st=pt.canvas;M&&(L=l),j&&(R=c);const rt=this.getSizeAndScale(L,this.ctx.canvas.width,E),ot=this.getSizeAndScale(R,this.ctx.canvas.height,k),q=rt.size,I=ot.size,W=t.cachedCanvases.getCanvas("pattern-workaround",q,I),nt=W.context,lt=M?Math.floor(v/l):0,dt=j?Math.floor(y/c):0;for(let mt=0;mt<=lt;mt++)for(let yt=0;yt<=dt;yt++)nt.drawImage(st,q*mt,I*yt,q,I,0,0,q,I);return{canvas:W.canvas,scaleX:rt.scale,scaleY:ot.scale,offsetX:u,offsetY:f}}return{canvas:pt.canvas,scaleX:U.scale,scaleY:Q.scale,offsetX:u,offsetY:f}}getSizeAndScale(t,e,n){const r=Math.max(Kb.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=r?s=r:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,r,s){const a=r-e,o=s-n;t.ctx.rect(e,n,a,o),Oe.axialAlignedBoundingBox([e,n,r,s],ii(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,s=t.current;switch(e){case LA.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case LA.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new xN(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let s=n;r!==ps.SHADING&&(s=Oe.transform(s,e.baseTransform),this.matrix&&(s=Oe.transform(s,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}}function sF({src:i,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=vs.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=n>>3,f=n&7,g=i.length;e=new Uint32Array(e.buffer);let p=0;for(let v=0;v<r;v++){for(const A=t+u;t<A;t++){const w=t<g?i[t]:255;e[p++]=w&128?c:l,e[p++]=w&64?c:l,e[p++]=w&32?c:l,e[p++]=w&16?c:l,e[p++]=w&8?c:l,e[p++]=w&4?c:l,e[p++]=w&2?c:l,e[p++]=w&1?c:l}if(f===0)continue;const y=t<g?i[t++]:255;for(let A=0;A<f;A++)e[p++]=y&1<<7-A?c:l}return{srcPos:t,destPos:p}}const NA=16,FA=100,aF=15,RA=10,Aa=16,y1=new DOMMatrix,qa=new Float32Array(2),qd=new Float32Array([1/0,1/0,-1/0,-1/0]);function oF(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,r,s,a,o){t.transform(e,n,r,s,a,o),this.__originalTransform(e,n,r,s,a,o)},i.setTransform=function(e,n,r,s,a,o){t.setTransform(e,n,r,s,a,o),this.__originalSetTransform(e,n,r,s,a,o)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,r,s,a,o){t.bezierCurveTo(e,n,r,s,a,o),this.__originalBezierCurveTo(e,n,r,s,a,o)},i.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class lF{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function c0(i,t,e,n,r,s,a,o,l,c){const[u,f,g,p,v,y]=ii(i);if(f===0&&g===0){const C=a*u+v,E=Math.round(C),k=o*p+y,L=Math.round(k),R=(a+l)*u+v,M=Math.abs(Math.round(R)-E)||1,j=(o+c)*p+y,B=Math.abs(Math.round(j)-L)||1;return i.setTransform(Math.sign(u),0,0,Math.sign(p),E,L),i.drawImage(t,e,n,r,s,0,0,M,B),i.setTransform(u,f,g,p,v,y),[M,B]}if(u===0&&p===0){const C=o*g+v,E=Math.round(C),k=a*f+y,L=Math.round(k),R=(o+c)*g+v,M=Math.abs(Math.round(R)-E)||1,j=(a+l)*f+y,B=Math.abs(Math.round(j)-L)||1;return i.setTransform(0,Math.sign(f),Math.sign(g),0,E,L),i.drawImage(t,e,n,r,s,0,0,B,M),i.setTransform(u,f,g,p,v,y),[B,M]}i.drawImage(t,e,n,r,s,a,o,l,c);const A=Math.hypot(u,f),w=Math.hypot(g,p);return[A*l,w*c]}class IA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=qy;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=us.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=qd.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ps.FILL,e=null){const n=this.minMax.slice();if(t===ps.STROKE){e||xr("Stroke bounding box must include transform."),Oe.singularValueDecompose2dScale(e,qa);const r=qa[0]*this.lineWidth/2,s=qa[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const t=Oe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(qd,0)}getClippedPathBoundingBox(t=ps.FILL,e=null){return Oe.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function DA(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Aa,s=(e-r)/Aa,a=r===0?s:s+1,o=i.createImageData(n,Aa);let l=0,c;const u=t.data,f=o.data;let g,p,v,y;if(t.kind===B0.GRAYSCALE_1BPP){const A=u.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),C=w.length,E=n+7>>3,k=4294967295,L=vs.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(v=g<s?Aa:r,c=0,p=0;p<v;p++){const R=A-l;let M=0;const j=R>E?n:R*8-7,B=j&-8;let X=0,D=0;for(;M<B;M+=8)D=u[l++],w[c++]=D&128?k:L,w[c++]=D&64?k:L,w[c++]=D&32?k:L,w[c++]=D&16?k:L,w[c++]=D&8?k:L,w[c++]=D&4?k:L,w[c++]=D&2?k:L,w[c++]=D&1?k:L;for(;M<j;M++)X===0&&(D=u[l++],X=128),w[c++]=D&X?k:L,X>>=1}for(;c<C;)w[c++]=0;i.putImageData(o,0,g*Aa)}}else if(t.kind===B0.RGBA_32BPP){for(p=0,y=n*Aa*4,g=0;g<s;g++)f.set(u.subarray(l,l+y)),l+=y,i.putImageData(o,0,p),p+=Aa;g<a&&(y=n*r*4,f.set(u.subarray(l,l+y)),i.putImageData(o,0,p))}else if(t.kind===B0.RGB_24BPP)for(v=Aa,y=n*v,g=0;g<a;g++){for(g>=s&&(v=r,y=n*v),c=0,p=y;p--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;i.putImageData(o,0,g*Aa)}else throw new Error(`bad image kind: ${t.kind}`)}function MA(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Aa,s=(e-r)/Aa,a=r===0?s:s+1,o=i.createImageData(n,Aa);let l=0;const c=t.data,u=o.data;for(let f=0;f<a;f++){const g=f<s?Aa:r;({srcPos:l}=sF({src:c,srcPos:l,dest:u,width:n,height:g,nonBlackColor:0})),i.putImageData(o,0,f*Aa)}}function Qf(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function h0(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function OA(i,t){if(t)return!0;Oe.singularValueDecompose2dScale(i,qa);const e=Math.fround(Il.pixelRatio*lf.PDF_TO_CSS_UNITS);return qa[0]<=e&&qa[1]<=e}const cF=["butt","round","square"],hF=["miter","round","bevel"],uF={},BA={};class Zd{constructor(t,e,n,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){this.ctx=t,this.current=new IA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new lF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...ii(this.compositeCtx))}this.ctx.save(),h0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ii(this.ctx)}executeOperatorList(t,e,n,r,s){const a=t.argsArray,o=t.fnArray;let l=e||0;const c=a.length;if(c===l)return l;const u=c-l>RA&&typeof n=="function",f=u?Date.now()+aF:0;let g=0;const p=this.commonObjs,v=this.objs;let y,A;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,n),l;if(!s||s.has(l))if(y=o[l],A=a[l]??null,y!==Mp.dependency)A===null?this[y](l):this[y](l,...A);else for(const w of A){this.dependencyTracker?.recordNamedData(w,l);const C=w.startsWith("g_")?p:v;if(!C.has(w))return C.get(w,n),l}if(l++,l===c)return l;if(u&&++g>RA){if(Date.now()>f)return n(),l;g=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=n,l=r,c="prescale1",u,f;for(;s>2&&o>1||a>2&&l>1;){let g=o,p=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,g,p),f=u.context,f.clearRect(0,0,g,p),f.drawImage(t,0,0,o,l,0,0,g,p),t=u.canvas,o=g,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t,e){const n=this.ctx,{width:r,height:s}=e,a=this.current.fillColor,o=this.current.patternFill,l=ii(n);let c,u,f,g;if((e.bitmap||e.data)&&e.count>1){const X=e.bitmap||e.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(X),c||(c=new Map,this._cachedBitmapsMap.set(X,c));const D=c.get(u);if(D&&!o){const z=Math.round(Math.min(l[0],l[2])+l[4]),U=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(t,po.transformAndFill),{canvas:D,offsetX:z,offsetY:U}}f=D}f||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),MA(g.context,e));let p=Oe.transform(l,[1/r,0,0,-1/s,0,0]);p=Oe.transform(p,[1,0,0,1,0,-s]);const v=qd.slice();Oe.axialAlignedBoundingBox([0,0,r,s],p,v);const[y,A,w,C]=v,E=Math.round(w-y)||1,k=Math.round(C-A)||1,L=this.cachedCanvases.getCanvas("fillCanvas",E,k),R=L.context,M=y,j=A;R.translate(-M,-j),R.transform(...p),f||(f=this._scaleImage(g.canvas,El(R)),f=f.img,c&&o&&c.set(u,f)),R.imageSmoothingEnabled=OA(ii(R),e.interpolate),c0(R,f,0,0,f.width,f.height,0,0,r,s),R.globalCompositeOperation="source-in";const B=Oe.transform(El(R),[1,0,0,1,-M,-j]);return R.fillStyle=o?a.getPattern(n,this,B,ps.FILL):a,R.fillRect(0,0,r,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,L.canvas)),this.dependencyTracker?.recordDependencies(t,po.transformAndFill),{canvas:L.canvas,offsetX:Math.round(M),offsetY:Math.round(j)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=cF[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=hF[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Qf(this.suspendedCtx,a),oF(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Qf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(e.context,n,o,l,e.subtype,e.backdrop,e.transferMap,s,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,s,a,o,l,c,u,f){let g=t.canvas,p=l-u,v=c-f;if(a)if(p<0||v<0||p+n>g.width||v+r>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,r),w=A.context;w.drawImage(g,-p,-v),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,n,r),w.globalCompositeOperation="source-over",g=A.canvas,p=v=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(p,v,n,r),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(p,v,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,n,r),e.clip(y),e.globalCompositeOperation="destination-in",e.drawImage(g,p,v,n,r,l,c,n,r),e.restore()}save(t){this.inSMaskMode&&Qf(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Qf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,s,a,o){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,r){let[s]=n;if(!r){s||=n[0]=new Path2D,this[e](t,s);return}if(this.dependencyTracker!==null){const a=e===Mp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(t,["transform"])}if(!(s instanceof Path2D)){const a=n[0]=new Path2D;for(let o=0,l=s.length;o<l;)switch(s[o++]){case s0.moveTo:a.moveTo(s[o++],s[o++]);break;case s0.lineTo:a.lineTo(s[o++],s[o++]);break;case s0.curveTo:a.bezierCurveTo(s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case s0.closePath:a.closePath();break;default:kn(`Unrecognized drawing path operator: ${s[o-1]}`);break}s=a}Oe.axialAlignedBoundingBox(r,ii(this.ctx),this.current.minMax),this[e](t,s),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,El(r),ps.STROKE),a){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(a)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,po.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(ps.STROKE,ii(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const c=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=s.getPattern(r,this,El(r),ps.FILL),c){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(c)),e=u}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,po.fill),o&&(r.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,l)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,po.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=uF}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=BA}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of e)u&&r.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordNamedDependency(t,e);const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||qy,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&kn("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=r.systemFontInfo?.css||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let u=n;n<NA?u=NA:n>FA&&(u=FA),this.current.fontSizeScale=n/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#n(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,s,a){const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,g=u&us.FILL_STROKE_MASK,p=!!(u&us.ADD_TO_PATH_FLAG),v=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let A;if((c.disableFontFace||p||v||y)&&!c.missingFile&&(A=c.getPathGenerator(this.commonObjs,e)),A&&(c.disableFontFace||v||y)){o.save(),o.translate(n,r),o.scale(f,-f),this.dependencyTracker?.recordCharacterBBox(t,o,c);let w;if(g===us.FILL||g===us.FILL_STROKE)if(s){w=o.getTransform(),o.setTransform(...s);const C=this.#n(A,w,s);o.fill(C)}else o.fill(A);if(g===us.STROKE||g===us.FILL_STROKE)if(a){w||=o.getTransform(),o.setTransform(...a);const{a:C,b:E,c:k,d:L}=w,R=Oe.inverseTransform(a),M=Oe.transform([C,E,k,L,0,0],R);Oe.singularValueDecompose2dScale(M,qa),o.lineWidth*=Math.max(qa[0],qa[1])/f,o.stroke(this.#n(A,w,a))}else o.lineWidth/=f,o.stroke(A);o.restore()}else(g===us.FILL||g===us.FILL_STROKE)&&(o.fillText(e,n,r),this.dependencyTracker?.recordCharacterBBox(t,o,c,f,n,r,()=>o.measureText(e))),(g===us.STROKE||g===us.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,o,c,f,n,r,()=>o.measureText(e)).recordDependencies(t,po.stroke),o.strokeText(e,n,r));p&&((this.pendingTextPaths||=[]).push({transform:ii(o),x:n,y:r,fontSize:f,path:A}),this.dependencyTracker?.recordCharacterBBox(t,o,c,f,n,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Mn(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,po.showText).copyDependenciesFromIncrementalOperation(t,"sameLineText").resetBBox(t),this.current.textRenderingMode&us.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordOperation(t).recordIncrementalData("sameLineText",t);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(t);return}const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,u=n.fontDirection,f=n.textHScale*u,g=e.length,p=r.vertical,v=p?1:-1,y=r.defaultVMetrics,A=s*n.fontMatrix[0],w=n.textRenderingMode===us.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(f,-1):a.scale(f,1);let C,E;if(n.patternFill){a.save();const j=n.fillColor.getPattern(a,this,El(a),ps.FILL);C=ii(a),a.restore(),a.fillStyle=j}if(n.patternStroke){a.save();const j=n.strokeColor.getPattern(a,this,El(a),ps.STROKE);E=ii(a),a.restore(),a.strokeStyle=j}let k=n.lineWidth;const L=n.textMatrixScale;if(L===0||k===0){const j=n.textRenderingMode&us.FILL_STROKE_MASK;(j===us.STROKE||j===us.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=L;if(o!==1&&(a.scale(o,o),k/=o),a.lineWidth=k,r.isInvalidPDFjsFont){const j=[];let B=0;for(const D of e)j.push(D.unicode),B+=D.width;const X=j.join("");if(a.fillText(X,0,0),this.dependencyTracker!==null){const D=a.measureText(X);this.dependencyTracker.recordBBox(t,this.ctx,-D.actualBoundingBoxLeft,D.actualBoundingBoxRight,-D.actualBoundingBoxAscent,D.actualBoundingBoxDescent).recordOperation(t).recordIncrementalData("sameLineText",t)}n.x+=B*A*f,a.restore(),this.compose();return}let R=0,M;for(M=0;M<g;++M){const j=e[M];if(typeof j=="number"){R+=v*j*s/1e3;continue}let B=!1;const X=(j.isSpace?c:0)+l,D=j.fontChar,z=j.accent;let U,Q,pt=j.width;if(p){const st=j.vmetric||y,rt=-(j.vmetric?st[1]:pt*.5)*A,ot=st[2]*A;pt=st?-st[0]:pt,U=rt/o,Q=(R+ot)/o}else U=R/o,Q=0;let Z;if(r.remeasure&&pt>0){Z=a.measureText(D);const st=Z.width*1e3/s*o;if(pt<st&&this.isFontSubpixelAAEnabled){const rt=pt/st;B=!0,a.save(),a.scale(rt,1),U/=rt}else pt!==st&&(U+=(pt-st)/2e3*s/o)}if(this.contentVisible&&(j.isInFont||r.missingFile)){if(w&&!z)a.fillText(D,U,Q),this.dependencyTracker?.recordCharacterBBox(t,a,Z?{bbox:null}:r,s/o,U,Q,()=>Z??a.measureText(D));else if(this.paintChar(t,D,U,Q,C,E),z){const st=U+s*z.offset.x/o,rt=Q-s*z.offset.y/o;this.paintChar(t,z.fontChar,st,rt,C,E)}}const $=p?pt*A-X*u:pt*A+X*u;R+=$,B&&a.restore()}p?n.y-=R:n.x+=R*f,a.restore(),this.compose(),this.dependencyTracker?.recordOperation(t).recordIncrementalData("sameLineText",t)}showType3Text(t,e){const n=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,f=r.textHScale*o,g=r.fontMatrix||qy,p=e.length,v=r.textRenderingMode===us.INVISIBLE;let y,A,w,C;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(f,o);const E=this.dependencyTracker;for(this.dependencyTracker=E?new sm(E,t):null,y=0;y<p;++y){if(A=e[y],typeof A=="number"){C=l*A*a/1e3,this.ctx.translate(C,0),r.x+=C*f;continue}const k=(A.isSpace?u:0)+c,L=s.charProcOperatorList[A.operatorListId];L?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...g),this.executeOperatorList(L),this.restore()):kn(`Type3 character "${A.operatorListId}" is not available.`);const R=[A.width,0];Oe.applyTransform(R,g),w=R[0]*a+k,n.translate(w,0),r.x+=w*f}n.restore(),E&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=E)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,r,s,a,o){const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),this.dependencyTracker?.recordBBox(t,this.ctx,r,a,s,o).recordClipBox(t,this.ctx,r,a,s,o),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||ii(this.ctx),s={createCanvasGraphics:a=>new Zd(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new sm(this.dependencyTracker,t):null)};n=new Kb(e,this.ctx,s,r)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=iF(this.getObject(t,e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const r=this._getPattern(t,e);n.fillStyle=r.getPattern(n,this,El(n),ps.SHADING);const s=El(n);if(s){const{width:a,height:o}=n.canvas,l=qd.slice();Oe.axialAlignedBoundingBox([0,0,a,o],s,l);const[c,u,f,g]=l;this.ctx.fillRect(c,u,f-c,g-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,po.transform).recordDependencies(t,po.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){xr("Should not call beginInlineImage")}beginImageData(){xr("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=ii(this.ctx),n)){Oe.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,s,a,o]=n,l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(t,this.ctx,r,a,s,o),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Im("TODO: Support non-isolated groups."),e.knockout&&kn("Knockout groups not supported.");const r=ii(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=qd.slice();Oe.axialAlignedBoundingBox(e.bbox,ii(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=Oe.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,c,u),p=g.context;p.translate(-o,-l),p.transform(...r);let v=new Path2D;const[y,A,w,C]=e.bbox;if(v.rect(y,A,w-y,C-A),e.matrix){const E=new Path2D;E.addPath(v,new DOMMatrix(e.matrix)),v=E}p.clip(v),e.smask&&this.smaskStack.push({canvas:g.canvas,context:p,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),Qf(n,p),this.ctx=p,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=ii(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...s);const a=qd.slice();Oe.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,a),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,r,s,a){if(this.#t(),h0(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,Oe.singularValueDecompose2dScale(ii(this.ctx),qa);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:g,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(qa[0],0,0,-qa[1],0,l*qa[1]),h0(this.ctx)}else{h0(this.ctx),this.endPath(t);const c=new Path2D;c.rect(n[0],n[1],o,l),this.ctx.clip(c)}}this.current=new IA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...s)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const r=this.ctx,s=this._createMaskCanvas(t,e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,r=0,s=0,a,o){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const l=this.ctx;l.save();const c=ii(l);l.transform(n,r,s,a,0,0);const u=this._createMaskCanvas(t,e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),this.dependencyTracker?.resetBBox(t);for(let f=0,g=o.length;f<g;f+=2){const p=Oe.transform(c,[n,r,s,a,o[f],o[f+1]]);l.drawImage(u.canvas,p[4],p[5]),this.dependencyTracker?.recordBBox(t,this.ctx,p[4],p[4]+u.canvas.width,p[5],p[5]+u.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,po.transformAndFill);for(const a of e){const{data:o,width:l,height:c,transform:u}=a,f=this.cachedCanvases.getCanvas("maskCanvas",l,c),g=f.context;g.save();const p=this.getObject(t,o,a);MA(g,p),g.globalCompositeOperation="source-in",g.fillStyle=s?r.getPattern(g,this,El(n),ps.FILL):r,g.fillRect(0,0,l,c),g.restore(),n.save(),n.transform(...u),n.scale(1,-1),c0(n,f.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,l,0,c),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){kn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,r,s){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a){kn("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,f=s.length;u<f;u+=2)c.push({transform:[n,0,0,r,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(t,a,c)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",s.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,r=e.height,s=this.ctx;this.save(t);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",n,r).context;DA(u,e),o=this.applyTransferMapsToCanvas(u)}const l=this._scaleImage(o,El(s));s.imageSmoothingEnabled=OA(ii(s),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,s,0,n,-r,0).recordDependencies(t,po.imageXObject).recordOperation(t),c0(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,n,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const a=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;DA(c,e),s=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(t);for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),c0(r,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,po.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===BA?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ii(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:s}=this.ctx.getTransform();let a,o;if(n===0&&r===0){const l=Math.abs(e),c=Math.abs(s);if(l===c)if(t===0)a=o=1/l;else{const u=l*t;a=o=u<1?1/u:1}else if(t===0)a=1/l,o=1/c;else{const u=l*t,f=c*t;a=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(e*s-n*r),c=Math.hypot(e,n),u=Math.hypot(r,s);if(t===0)a=u/l,o=c/l;else{const f=t*l;a=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(r||1)*s,n.stroke(t);return}const o=n.getLineDash();e&&n.save(),n.scale(s,a),y1.a=1/s,y1.d=1/a;const l=new Path2D;if(l.addPath(t,y1),o.length>0){const c=Math.max(s,a);n.setLineDash(o.map(u=>u/c)),n.lineDashOffset/=c}n.lineWidth=r||1,n.stroke(l),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in Mp)Zd.prototype[i]!==void 0&&(Zd.prototype[Mp[i]]=Zd.prototype[i]);class Jd{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class dF{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Bd=Symbol("INTERNAL");class fF{#t=!1;#e=!1;#n=!1;#r=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:s}){this.#t=!!(t&Ua.DISPLAY),this.#e=!!(t&Ua.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Bd&&xr("Internal method `_setVisible` called."),this.#n=n,this.#r=e}}class pF{#t=null;#e=new Map;#n=null;#r=null;constructor(t,e=Ua.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#r=t.order;for(const n of t.groups)this.#e.set(n.id,new fF(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Bd,!1);for(const n of t.on)this.#e.get(n)._setVisible(Bd,!0);for(const n of t.off)this.#e.get(n)._setVisible(Bd,!1);this.#n=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const s=t[r];let a;if(Array.isArray(s))a=this.#s(s);else if(this.#e.has(s))a=this.#e.get(s).visible;else return kn(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Im("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(kn(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return kn(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return kn(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return kn(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return kn(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return kn(`Unknown optional content policy ${t.policy}.`),!0}return kn(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){kn(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const s of r.rbGroups)for(const a of s)a!==t&&this.#e.get(a)?._setVisible(Bd,!1,!0);r._setVisible(Bd,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#e.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#r?this.#r.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new uC;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class gF{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ii(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(n),!0)});Ii(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ii(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new mF(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new vF(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class mF{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Hb(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class vF{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function yF(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let u=o(e);return u=unescape(u),u=l(u),u=c(u),s(u)}if(e=a(i),e){const u=c(e);return s(u)}if(e=n("filename","i").exec(i),e){e=e[1];let u=o(e);return u=c(u),s(u)}function n(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const g=new TextDecoder(u,{fatal:!0}),p=tg(f);f=g.decode(p),t=!1}catch{}}return f}function s(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function a(u){const f=[];let g;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=p.exec(u))!==null;){let[,y,A,w]=g;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[A,w]}const v=[];for(let y=0;y<f.length&&y in f;++y){let[A,w]=f[y];w=o(w),A&&(w=unescape(w),y===0&&(w=l(w))),v.push(w)}return v.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let g=0;g<f.length;++g){const p=f[g].indexOf('"');p!==-1&&(f[g]=f[g].slice(0,p),f.length=g+1),f[g]=f[g].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const g=u.slice(0,f),v=u.slice(f+1).replace(/^[^']*'/,"");return r(g,v)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,g,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,A){return String.fromCharCode(parseInt(A,16))}),r(g,v);try{v=atob(v)}catch{}return r(g,v)})}return""}function yC(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Bm(i){return URL.parse(i)?.origin??null}function bC({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function wC(i){const t=i.get("Content-Disposition");if(t){let e=yF(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Hb(e))return e}return null}function ig(i,t){return new im(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function AC(i){return i===200||i===206}function xC(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function SC(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(kn(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class bF{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=yC(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ii(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new AF(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class wF{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,xC(n,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=Bm(s.url),!AC(s.status))throw ig(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=bC({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=wC(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Nh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:SC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class AF{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);const a=r.url;fetch(a,xC(s,this._withCredentials,this._abortController)).then(o=>{const l=Bm(o.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!AC(o.status))throw ig(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:SC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const b1=200,w1=206;function xF(i){const t=i.response;return typeof t!="string"?t:tg(t).buffer}class SF{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=yC(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,a]of this.headers)e.setRequestHeader(s,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=w1):r.expectedStatus=b1,e.responseType="arraybuffer",Ii(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||b1;if(!(s===b1&&n.expectedStatus===w1)&&s!==n.expectedStatus){n.onError(r.status);return}const o=xF(r);if(s===w1){const l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:o}):(kn('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class EF{constructor(t){this._source=t,this._manager=new SF(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ii(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new CF(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new kF(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class CF{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Bm(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=bC({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=wC(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ig(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class kF{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Bm(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=ig(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _F=/^[a-z][a-z0-9\-+.]+:/i;function PF(i){if(_F.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class TF{constructor(t){this.source=t,this.url=PF(t.url),Ii(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ii(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new LF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new NF(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class LF{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=ig(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Nh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class NF{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const $f=Symbol("INITIAL_DATA");class EC{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:$f}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===$f)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==$f}delete(t){const e=this.#t[t];return!e||e.data===$f?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==$f&&(yield[t,e])}}}const FF=1e5,jA=30;class Ks{#t=Promise.withResolvers();#e=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#s=null;#i=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#w=new Map;static#A=new WeakMap;static#b=null;static#E=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(l){l.enqueue(t),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*Il.pixelRatio,this.#d=n.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=n.rawDims;this.#y=[1,0,0,-1,-a,o+s],this.#o=r,this.#a=s,Ks.#F(),Fu(e,n),this.#t.promise.finally(()=>{Ks.#E.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=vs.platform;return Mn(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#P(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),Ks.#E.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Il.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Fu(this.#l,{rotation:r})),n!==this.#h){e?.(),this.#h=n;const s={div:null,properties:null,ctx:Ks.#N(this.#s)};for(const a of this.#u)s.properties=this.#m.get(a),s.div=a,this.#S(s)}}cancel(){const t=new Nh("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#P(t){if(this.#n)return;this.#i.ctx??=Ks.#N(this.#s);const e=this.#u,n=this.#g;for(const r of t){if(e.length>FF){kn("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),s.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#k(r)}}#k(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=Oe.transform(this.#y,t.transform);let s=Math.atan2(r[1],r[0]);const a=this.#f[t.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#r&&a.fontSubstitution||a.fontFamily;o=Ks.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),c=l*Ks.#I(o,a,this.#s);let u,f;s===0?(u=r[4],f=r[5]-c):(u=r[4]+c*Math.sin(s),f=r[5]-c*Math.cos(s));const g="calc(var(--total-scale-factor) *",p=e.style;this.#e===this.#l?(p.left=`${(100*u/this.#o).toFixed(2)}%`,p.top=`${(100*f/this.#a).toFixed(2)}%`):(p.left=`${g}${u.toFixed(2)}px)`,p.top=`${g}${f.toFixed(2)}px)`),p.fontSize=`${g}${(Ks.#b*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#r&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),s!==0&&(n.angle=s*(180/Math.PI));let v=!1;if(t.str.length>1)v=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);y!==A&&Math.max(y,A)/Math.min(y,A)>1.5&&(v=!0)}if(v&&(n.canvasWidth=a.vertical?t.height:t.width),this.#m.set(e,n),this.#i.div=e,this.#i.properties=n,this.#S(this.#i),n.hasText&&this.#e.append(e),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#e.append(y)}}#S(t){const{div:e,properties:n,ctx:r}=t,{style:s}=e;let a="";if(Ks.#b>1&&(a=`scale(${1/Ks.#b})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=n;Ks.#C(r,c*this.#h,o);const{width:u}=r.measureText(e.textContent);u>0&&(a=`scaleX(${l*this.#h/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#E.size>0)){this.#v.clear();for(const{canvas:t}of this.#w.values())t.remove();this.#w.clear()}}static#N(t=null){let e=this.#w.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#w.set(t,e),this.#A.set(e,{size:0,family:""})}return e}static#C(t,e,n){const r=this.#A.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#F(){if(this.#b!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#b=t.getBoundingClientRect().height,t.remove()}static#I(t,e,n){const r=this.#v.get(t);if(r)return r;const s=this.#N(n);s.canvas.width=s.canvas.height=jA,this.#C(s,jA,t);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(vs.platform.isFirefox&&kn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?c=e.ascent:e.descent&&(c=1+e.descent)),this.#v.set(t,c),c}}class Op{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Op.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&e.push({str:a}),!!s.children)for(const l of s.children)r(l)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const RF=100;function Zy(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new Yb,{docId:e}=t,n=i.url?UN(i.url):null,r=i.data?HN(i.data):null,s=i.httpHeaders||null,a=i.withCredentials===!0,o=i.password??null,l=i.range instanceof CC?i.range:null,c=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let u=i.worker instanceof Bp?i.worker:null;const f=i.verbosity,g=typeof i.docBaseUrl=="string"&&!Dm(i.docBaseUrl)?i.docBaseUrl:null,p=o0(i.cMapUrl),v=i.cMapPacked!==!1,y=i.CMapReaderFactory||(Js?ZN:_A),A=o0(i.iccUrl),w=o0(i.standardFontDataUrl),C=i.StandardFontDataFactory||(Js?JN:PA),E=o0(i.wasmUrl),k=i.WasmFactory||(Js?QN:TA),L=i.stopAtErrors!==!0,R=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,M=i.isEvalSupported!==!1,j=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Js,B=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Js&&(vs.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,D=typeof i.disableFontFace=="boolean"?i.disableFontFace:Js,z=i.fontExtraProperties===!0,U=i.enableXfa===!0,Q=i.ownerDocument||globalThis.document,pt=i.disableRange===!0,Z=i.disableStream===!0,$=i.disableAutoFetch===!0,st=i.pdfBug===!0,rt=i.CanvasFactory||(Js?YN:GN),ot=i.FilterFactory||(Js?KN:XN),q=i.enableHWA===!0,I=i.useWasm!==!1,W=l?l.length:i.length??NaN,nt=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Js&&!D,lt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(y===_A&&C===PA&&k===TA&&p&&w&&E&&vp(p,document.baseURI)&&vp(w,document.baseURI)&&vp(E,document.baseURI)),dt=null;bN(f);const mt={canvasFactory:new rt({ownerDocument:Q,enableHWA:q}),filterFactory:new ot({docId:e,ownerDocument:Q}),cMapReaderFactory:lt?null:new y({baseUrl:p,isCompressed:v}),standardFontDataFactory:lt?null:new C({baseUrl:w}),wasmFactory:lt?null:new k({baseUrl:E})};u||(u=Bp.create({verbosity:f,port:Jd.workerPort}),t._worker=u);const yt={docId:e,apiVersion:"5.4.149",data:r,password:o,disableAutoFetch:$,rangeChunkSize:c,length:W,docBaseUrl:g,enableXfa:U,evaluatorOptions:{maxImageSize:R,disableFontFace:D,ignoreErrors:L,isEvalSupported:M,isOffscreenCanvasSupported:j,isImageDecoderSupported:B,canvasMaxAreaInBytes:X,fontExtraProperties:z,useSystemFonts:nt,useWasm:I,useWorkerFetch:lt,cMapUrl:p,iccUrl:A,standardFontDataUrl:w,wasmUrl:E}},_t={ownerDocument:Q,pdfBug:st,styleElement:dt,loadingParams:{disableAutoFetch:$,enableXfa:U}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ot=u.messageHandler.sendWithPromise("GetDocRequest",yt,r?[r.buffer]:null);let Xt;if(l)Xt=new gF(l,{disableRange:pt,disableStream:Z});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ee=vp(n)?bF:Js?TF:EF;Xt=new ee({url:n,length:W,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:pt,disableStream:Z})}return Ot.then(ee=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const le=new yp(e,ee,u.port),zt=new MF(le,t,Xt,_t,mt,q);t._transport=zt,le.send("Ready",null)})}).catch(t._capability.reject),t}class Yb{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Yb.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class CC{#t=Promise.withResolvers();#e=[];#n=[];#r=[];#s=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#r.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#s)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#r)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){xr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class IF{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Mn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class DF{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new EA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new EC,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new ng({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Mn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:r="display",annotationMode:s=Sh.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:f=null,isEditing:g=!1,recordOperations:p=!1,filteredOperationIndexes:v=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(r,s,f,g),{renderingIntent:A,cacheKey:w}=y;this.#t=!1,l||=this._transport.getOptionalContentConfig(A);let C=this._intentStates.get(w);C||(C=Object.create(null),this._intentStates.set(w,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const E=!!(A&Ua.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const k=!this.recordedGroups&&(p||this._pdfBug&&globalThis.StepperManager?.enabled),L=j=>{if(C.renderTasks.delete(R),k){const B=R.gfx?.dependencyTracker.take();B?(R.stepper?.setOperatorGroups(B),p&&(this.recordedGroups=B)):p&&(this.recordedGroups=[])}E&&(this.#t=!0),this.#e(),j?(R.capability.reject(j),this._abortOperatorList({intentState:C,reason:j instanceof Error?j:new Error(j)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Wd({callback:L,params:{canvas:e,canvasContext:t,dependencyTracker:k?new $N(e):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,filteredOperationIndexes:v});(C.renderTasks||=new Set).add(R);const M=R.task;return Promise.all([C.displayReadyCapability.promise,l]).then(([j,B])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!(B.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:j,optionalContentConfig:B}),R.operatorListChanged()}).catch(L),M}getOperatorList({intent:t="display",annotationMode:e=Sh.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(t,e,n,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Op.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new EA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},a).getReader(),c=this._intentStates.get(e);c.streamReader=l;const u=()=>{l.read().then(({value:f,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),u())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();this.#e()}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Ub){let r=RF;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Nh(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Ch,Qo,Tc,Eu,Em,Cu,ku,ta,j0,kC,_C,bp,sf,z0;const Gr=class Gr{constructor({name:t=null,port:e=null,verbosity:n=wN()}={}){ji(this,ta);ji(this,Ch,Promise.withResolvers());ji(this,Qo,null);ji(this,Tc,null);ji(this,Eu,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(pn(Gr,ku).has(e))throw new Error("Cannot use more than one PDFWorker per port.");pn(Gr,ku).set(e,this),zi(this,ta,kC).call(this,e)}else zi(this,ta,_C).call(this)}get promise(){return pn(this,Ch).promise}get port(){return pn(this,Tc)}get messageHandler(){return pn(this,Qo)}destroy(){this.destroyed=!0,pn(this,Eu)?.terminate(),Fr(this,Eu,null),pn(Gr,ku).delete(pn(this,Tc)),Fr(this,Tc,null),pn(this,Qo)?.destroy(),Fr(this,Qo,null)}static create(t){const e=pn(this,ku).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Gr(t)}static get workerSrc(){if(Jd.workerSrc)return Jd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Mn(this,"_setupFakeWorkerGlobal",(async()=>pn(this,sf,z0)?pn(this,sf,z0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ch=new WeakMap,Qo=new WeakMap,Tc=new WeakMap,Eu=new WeakMap,Em=new WeakMap,Cu=new WeakMap,ku=new WeakMap,ta=new WeakSet,j0=function(){pn(this,Ch).resolve(),pn(this,Qo).send("configure",{verbosity:this.verbosity})},kC=function(t){Fr(this,Tc,t),Fr(this,Qo,new yp("main","worker",t)),pn(this,Qo).on("ready",()=>{}),zi(this,ta,j0).call(this)},_C=function(){if(pn(Gr,Cu)||pn(Gr,sf,z0)){zi(this,ta,bp).call(this);return}let{workerSrc:t}=Gr;try{Gr._isSameOrigin(window.location,t)||(t=Gr._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new yp("main","worker",e),r=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?pn(this,Ch).reject(new Error("Worker was destroyed")):zi(this,ta,bp).call(this)},s=new AbortController;e.addEventListener("error",()=>{pn(this,Eu)||r()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}Fr(this,Qo,n),Fr(this,Tc,e),Fr(this,Eu,e),zi(this,ta,j0).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{zi(this,ta,bp).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Im("The worker has been disabled.")}zi(this,ta,bp).call(this)},bp=function(){pn(Gr,Cu)||(kn("Setting up fake worker."),Fr(Gr,Cu,!0)),Gr._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){pn(this,Ch).reject(new Error("Worker was destroyed"));return}const e=new VN;Fr(this,Tc,e);const n=`fake${Gv(Gr,Em)._++}`,r=new yp(n+"_worker",n,e);t.setup(r,e),Fr(this,Qo,new yp(n,n+"_worker",e)),zi(this,ta,j0).call(this)}).catch(t=>{pn(this,Ch).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},sf=new WeakSet,z0=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ji(Gr,sf),ji(Gr,Em,0),ji(Gr,Cu,!1),ji(Gr,ku,new WeakMap),Js&&(Fr(Gr,Cu,!0),Jd.workerSrc||="./pdf.worker.mjs"),Gr._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},Gr._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Gr.fromPort=t=>{if(FN("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Gr.create(t)};let Bp=Gr;class MF{#t=new Map;#e=new Map;#n=new Map;#r=new Map;#s=null;constructor(t,e,n,r,s,a){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new EC,this.fontLoader=new jN({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#i(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Mn(this,"annotationStorage",new Vb)}getRenderingIntent(t,e=Sh.ENABLE,n=null,r=!1,s=!1){let a=Ua.DISPLAY,o=Xy;switch(t){case"any":a=Ua.ANY;break;case"display":break;case"print":a=Ua.PRINT;break;default:kn(`getRenderingIntent - invalid intent: ${t}`)}const l=a&Ua.PRINT&&n instanceof dC?n:this.annotationStorage;switch(e){case Sh.DISABLE:a+=Ua.ANNOTATIONS_DISABLE;break;case Sh.ENABLE:break;case Sh.ENABLE_FORMS:a+=Ua.ANNOTATIONS_FORMS;break;case Sh.ENABLE_STORAGE:a+=Ua.ANNOTATIONS_STORAGE,o=l.serializable;break;default:kn(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(a+=Ua.IS_EDITING),s&&(a+=Ua.OPLIST);const{ids:c,hash:u}=l.modifiedIds,f=[a,o.hash,u];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Ks.cleanup(),this._networkStream?.cancelAllRequests(new Nh("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Ii(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Ii(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{e.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),t.on("GetRangeReader",(n,r)=>{Ii(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Ii(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new IF(n,this))}),t.on("DocException",n=>{e._capability.reject(ba(n))}),t.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw ba(n);const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,n.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const c=s.error;kn(`Error during font loading: ${c}`),this.commonObjs.resolve(n,c);break}const a=this._params.pdfBug&&globalThis.FontInspector?.enabled?(c,u)=>globalThis.FontInspector.fontAdded(c,u):null,o=new zN(s,a);this.fontLoader.bind(o).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(n,o)});break;case"CopyLocalImage":const{imageRef:l}=s;Ii(l,"The imageRef must be defined.");for(const c of this.#e.values())for(const[,u]of c.objs)if(u?.ref===l)return u.dataLen?(this.commonObjs.resolve(n,structuredClone(u)),u.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,s,a])=>{if(this.destroyed)return;const o=this.#e.get(r);if(!o.objs.has(n)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&kn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#n.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,t);const a=new DF(e,s,this,this._params.pdfBug);return this.#e.set(e,a),a});return this.#n.set(e,r),r}getPageIndex(t){return Ky(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#i("GetOptionalContentConfig").then(e=>new pF(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new dF(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Ks.cleanup()}}cachedPageNumber(t){if(!Ky(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#r.get(e)??null}}class OF{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Wd{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:g=null,enableHWA:p=!1,filteredOperationIndexes:v=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new OF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=p,this._dependencyTracker=e.dependencyTracker,this._filteredOperationIndexes=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Wd.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Wd.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Zd(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:n,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Wd.#e.delete(this._canvas),t||=new Ub(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Wd.#e.delete(this._canvas),this.callback())))}}const BF="5.4.149",jF="9e2e9e209";class yo{#t=null;#e=null;#n;#r=null;#s=!1;#i=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Mn(this,"_keyboardManager",new rg([[["Escape","mac+Escape"],yo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yo.prototype._moveToPrevious],[["Home","mac+Home"],yo.prototype._moveToBeginning],[["End","mac+End"],yo.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#i=!1,this.#a=t):this.#i=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",yo.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){const t=this.#r=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",So,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",yo.#d[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===this.#n,s.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Wn.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#r.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#r?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#r.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#r.lastChild?.focus()}#g(t){yo._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#s=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const e=this.#r=this.#h();this.#t.append(e)}#u(t){this.#r?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#r)return;const e=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#r?.remove(),this.#r=null}}class jp{#t=null;#e=null;#n=null;static#r=null;constructor(t){this.#e=t,this.#n=t._uiManager,jp.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",jp.#r[t]),r.addEventListener("input",()=>{this.#n.updateParams(e,r.value)},{signal:this.#n._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function zA(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function tp(i){return Math.max(0,Math.min(255,255*i))}class UA{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=tp(t),[t,t,t]}static G_HTML([t]){const e=zA(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(tp)}static RGB_HTML(t){return`#${t.map(zA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[tp(1-Math.min(1,t+r)),tp(1-Math.min(1,n+r)),tp(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,s=1-e,a=1-n,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class zF{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){xr("Abstract method `_createSVG` called.")}}class am extends zF{_createSVG(t){return document.createElementNS(Sc,t)}}class PC{static setupStorage(t,e,n,r,s){const a=r.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",o=>{r.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:s}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:n});const o=s!=="richText",l=t.div;if(l.append(a),t.viewport){const f=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const f=document.createTextNode(r.value);a.append(f),o&&Op.shouldBuildText(r.name)&&c.push(f)}return{textDivs:c}}const u=[[r,-1,a]];for(;u.length>0;){const[f,g,p]=u.at(-1);if(g+1===f.children.length){u.pop();continue}const v=f.children[++u.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const w=document.createTextNode(v.value);c.push(w),p.append(w);continue}const A=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(p.append(A),v.attributes&&this.setAttributes({html:A,element:v,storage:e,intent:s,linkService:n}),v.children?.length>0)u.push([v,-1,A]);else if(v.value){const w=document.createTextNode(v.value);o&&Op.shouldBuildText(y)&&c.push(w),A.append(w)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const UF=9,Ru=new WeakSet,HF=new Date().getTimezoneOffset()*60*1e3;class HA{static create(t){switch(t.data.annotationType){case Ti.LINK:return new Zb(t);case Ti.TEXT:return new qF(t);case Ti.WIDGET:switch(t.data.fieldType){case"Tx":return new WF(t);case"Btn":return t.data.radioButton?new TC(t):t.data.checkBox?new GF(t):new XF(t);case"Ch":return new KF(t);case"Sig":return new VF(t)}return new ju(t);case Ti.POPUP:return new Jy(t);case Ti.FREETEXT:return new LC(t);case Ti.LINE:return new ZF(t);case Ti.SQUARE:return new JF(t);case Ti.CIRCLE:return new QF(t);case Ti.POLYLINE:return new NC(t);case Ti.CARET:return new tR(t);case Ti.INK:return new Jb(t);case Ti.POLYGON:return new $F(t);case Ti.HIGHLIGHT:return new FC(t);case Ti.UNDERLINE:return new eR(t);case Ti.SQUIGGLY:return new nR(t);case Ti.STRIKEOUT:return new rR(t);case Ti.STAMP:return new RC(t);case Ti.FILEATTACHMENT:return new iR(t);default:return new Ai(t)}}}class Ai{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ai._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:t,rect:e}=this.data;let n=-1/0,r=-1/0;if(t?.length>=8){for(let s=0;s<t.length;s+=8)t[s+1]>r?(r=t[s+1],n=t[s+2]):t[s+1]===r&&(n=Math.max(n,t[s+2]));return[n,r]}return e?[e[2],e[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[t,e,n]=this.data.color,s=255*(1-(this.data.opacity??1));return this.#r(Math.min(t+s,255),Math.min(e+s,255),Math.min(n+s,255))}#r(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),s=Math.min(t,e,n),a=(r+s)/2,o=((1+Math.sqrt(a))/2*100).toFixed(2);if(r===s)return`hsl(0, 0%, ${o}%)`;const l=r-s;let c;r===t?c=(e-n)/l+(e<n?6:0):r===e?c=(n-t)/l+2:c=(t-e)/l+4,c=(c*60).toFixed(2);const u=(l/(1-Math.abs(2*a-1))*100).toFixed(2);return`hsl(${c}, ${u}%, ${o}%)`}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-s)/n,t[1]=100*(t[1]-a)/r,t}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#s(e);let r=this.#n?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#n.popup),r&&(r.updateEdited(t),n?.deleted&&(r.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#t&&(this.#s(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#s(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-o)/s}%`,e.top=`${100*(a-t[3]+l)/a}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),!(this instanceof ju)&&!(this instanceof Zb)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof Jy){const{rotation:y}=e;return!e.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const y=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(y>0||A>0){const C=`calc(${y}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;a.borderRadius=C}else if(this instanceof TC){const C=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=C}switch(e.borderStyle.style){case Od.SOLID:a.borderStyle="solid";break;case Od.DASHED:a.borderStyle="dashed";break;case Od.BEVELED:kn("Unimplemented border style: beveled");break;case Od.INSET:kn("Unimplemented border style: inset");break;case Od.UNDERLINE:a.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,a.borderColor=Oe.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const c=Oe.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:f,pageX:g,pageY:p}=r.rawDims;a.left=`${100*(c[0]-g)/u}%`,a.top=`${100*(c[1]-p)/f}%`;const{rotation:v}=e;return e.hasOwnCanvas||v===0?(a.width=`${100*o/u}%`,a.height=`${100*l/f}%`):this.setRotation(v,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;t%180!==0&&([s,a]=[a,s]),e.style.width=`${100*s/n}%`,e.style.height=`${100*a/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const s=r.detail[e],a=s[0],o=s.slice(1);r.target.style[n]=UA[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:UA[`${a}_rgb`](o)})};return Mn(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,s]of Object.entries(e)){const a=n[r];if(a){const o={detail:{[r]:s},target:t};a(o),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,s]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,A,w,C]=t.subarray(2,6);if(r===y&&s===A&&e===w&&n===C)return}const{style:a}=this.container;let o;if(this.#e){const{borderColor:y,borderWidth:A}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=r-e,c=s-n,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const g=u.createElement("defs");f.append(g);const p=u.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),g.append(p);for(let y=2,A=t.length;y<A;y+=8){const w=t[y],C=t[y+1],E=t[y+2],k=t[y+3],L=u.createElement("rect"),R=(E-e)/l,M=(s-C)/c,j=(w-E)/l,B=(C-k)/c;L.setAttribute("x",R),L.setAttribute("y",M),L.setAttribute("width",j),L.setAttribute("height",B),p.append(L),o?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${M}" width="${j}" height="${B}"/>`)}this.#e&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(t=null){const{data:e}=this;let n,r;t?(n={str:t.text},r=t.date):(n=e.contentsObj,r=e.modificationDate);const s=this.#n=new Jy({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}render(){xr("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Ru.has(c)){kn(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==e&&Ru.has(r)&&n.push({id:a,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Zb extends Ai{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#n(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const s=n.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){kn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:s,include:a}=e,o=[];if(r.length!==0||s.length!==0){const u=new Set(s);for(const f of r){const g=this._fieldObjects[f]||[];for(const{id:p}of g)u.add(p)}for(const f of Object.values(this._fieldObjects))for(const g of f)u.has(g.id)===a&&o.push(g)}else for(const u of Object.values(this._fieldObjects))o.push(...u);const l=this.annotationStorage,c=[];for(const u of o){const{id:f}=u;switch(c.push(f),u.type){case"text":{const p=u.defaultValue||"";l.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=u.defaultValue===u.exportValues;l.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=u.defaultValue||"";l.setValue(f,{value:p});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!Ru.has(g)){kn(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class qF extends Ai{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ju extends Ai{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return vs.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,s){n.includes("mouse")?t.addEventListener(n,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}})})}_setEventListeners(t,e,n,r){for(const[s,a]of n)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,a,r),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Oe.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||UF,s=t.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(f1*r))||1,f=c/u;a=Math.min(r,l(f/f1))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(c/f1))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Oe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class WF extends ju{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const s=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),s.setValue(a.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const a=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=r.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",o??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ru.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:c,datetimeType:u,timeStep:f}=this.data,g=!!u&&this.enableScripting;c&&(n.title=c),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",v=>{const y=this.data.defaultFieldValue??"";n.value=l.userValue=y,l.formattedValue=null});let p=v=>{const{formattedValue:y}=l;y!=null&&(v.target.value=y),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{if(l.focused)return;const{target:A}=y;if(g&&(A.type=u,f&&(A.step=f)),l.userValue){const w=l.userValue;if(g)if(u==="time"){const C=new Date(w),E=[C.getHours(),C.getMinutes(),C.getSeconds()];A.value=E.map(k=>k.toString().padStart(2,"0")).join(":")}else A.value=new Date(w-HF).toISOString().split(u==="date"?"T":".",1)[0];else A.value=w}l.lastCommittedValue=A.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const A={value(w){l.userValue=w.detail.value??"",g||t.setValue(e,{value:l.userValue.toString()}),w.target.value=l.userValue},formattedValue(w){const{formattedValue:C}=w.detail;l.formattedValue=C,C!=null&&w.target!==document.activeElement&&(w.target.value=C);const E={formattedValue:C};g&&(E.value=C),t.setValue(e,E)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:C}=w.detail,{target:E}=w;if(C===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",C);let k=l.userValue;!k||k.length<=C||(k=k.slice(0,C),E.value=l.userValue=k,t.setValue(e,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(A,y)}),n.addEventListener("keydown",y=>{l.commitKey=1;let A=-1;if(y.key==="Escape"?A=0:y.key==="Enter"&&!this.data.multiLine?A=2:y.key==="Tab"&&(l.commitKey=3),A===-1)return;const{value:w}=y.target;l.lastCommittedValue!==w&&(l.lastCommittedValue=w,l.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:A,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const v=p;p=null,n.addEventListener("blur",y=>{if(!l.focused||!y.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:A}=y;let{value:w}=A;if(g){if(w&&u==="time"){const C=w.split(":").map(E=>parseInt(E,10));w=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),A.step=""}else w=new Date(w).valueOf();A.type="text"}l.userValue=w,l.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:l.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),v(y)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",y=>{l.lastCommittedValue=null;const{data:A,target:w}=y,{value:C,selectionStart:E,selectionEnd:k}=w;let L=E,R=k;switch(y.inputType){case"deleteWordBackward":{const M=C.substring(0,E).match(/\w*[^\w]*$/);M&&(L-=M[0].length);break}case"deleteWordForward":{const M=C.substring(E).match(/^[^\w]*\w*/);M&&(R+=M[0].length);break}case"deleteContentBackward":E===k&&(L-=1);break;case"deleteContentForward":E===k&&(R+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:L,selEnd:R}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class VF extends ju{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class GF extends ju{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ru.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class TC extends ju{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const s=document.createElement("input");if(Ru.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))t.setValue(c.id,{value:!1});t.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const g=u&&f.id===n;f.domElement&&(f.domElement.checked=g),t.setValue(f.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class XF extends Zb{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class KF extends ju{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Ru.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,n.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),r.append(f)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),a=()=>{u.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=u=>{const f=u?"value":"textContent",{options:g,multiple:p}=r;return p?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[f]):g.selectedIndex===-1?null:g[g.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const f={value(g){a?.();const p=g.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const y of r.options)y.selected=v.has(y.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const p=r.options,v=g.detail.remove;p[v].selected=!1,r.remove(v),p.length>0&&Array.prototype.findIndex.call(p,A=>A.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(g){const{index:p,displayValue:v,exportValue:y}=g.detail.insert,A=r.children[p],w=document.createElement("option");w.textContent=v,w.value=y,A?A.before(w):r.append(w),t.setValue(e,{value:o(!0),items:c(g)}),l=o(!1)},items(g){const{items:p}=g.detail;for(;r.length!==0;)r.remove(0);for(const v of p){const{displayValue:y,exportValue:A}=v,w=document.createElement("option");w.textContent=y,w.value=A,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(g)}),l=o(!1)},indices(g){const p=new Set(g.detail.indices);for(const v of g.target.options)v.selected=p.has(v.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(f,u)}),r.addEventListener("input",u=>{const f=o(!0),g=o(!1);t.setValue(e,{value:f}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:g,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Jy extends Ai{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Ai._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new YF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${zb}${r}`).join(",")),this.container}}class YF{#t=this.#D.bind(this);#e=this.#L.bind(this);#n=this.#M.bind(this);#r=this.#x.bind(this);#s=null;#i=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#w=null;#A=null;#b=null;#E=null;#P=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:f,eventBus:g=null}){this.#i=t,this.#b=r,this.#a=a,this.#A=o,this.#d=l,this.#s=e,this.#w=c,this.#h=u,this.#c=n,this.#l=g,this.#o=Vy.toDateObject(s),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup()),this.#k(),this.#i.hidden=!0,f&&this.#x()}#k(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("mouseenter",this.#n,{signal:t}),e.addEventListener("mouseleave",this.#e,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#c)e.container?.addEventListener("keydown",this.#t,{signal:t});this.#N()}#S(){const t=this.#c.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition),this.#v=t.commentButtonColor)}#N(){if(this.#m||(this.#y||this.#S(),!this.#y))return;const t=this.#m=document.createElement("button");t.className="annotationCommentButton";const e=this.#c[0].container;t.style.zIndex=e.style.zIndex+1,t.tabIndex=0;const{signal:n}=this.#p;t.addEventListener("hover",this.#r,{signal:n}),t.addEventListener("keydown",this.#t,{signal:n}),t.addEventListener("click",()=>{const[{data:{id:s},annotationEditorType:a}]=this.#c;this.#l?.dispatch("switchannotationeditormode",{source:this,editId:s,mode:a,editComment:!0})},{signal:n});const{style:r}=t;r.left=`calc(${this.#y[0]}%)`,r.top=`calc(${this.#y[1]}% - var(--comment-button-dim))`,this.#v&&(r.backgroundColor=this.#v),e.after(t)}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const r=t.style.outlineColor=Oe.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#b?.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=this.#b}if(t.append(e),this.#o){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),r.dateTime=this.#o.toISOString(),e.append(r)}const n=this.#C;if(n)PC.render({xfaHtml:n,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(this.#a);t.append(r)}this.#i.append(t)}get#C(){const t=this.#A,e=this.#a;return t?.str&&(!e?.str||e.str===t.str)&&this.#A.html||null}get#F(){return this.#C?.attributes?.style?.fontSize||0}get#I(){return this.#C?.attributes?.style?.color||null}#R(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#I,fontSize:this.#F?`calc(${this.#F}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}#D(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#x()}updateEdited({rect:t,popup:e,deleted:n}){if(n||e?.deleted){this.remove();return}this.#k(),this.#E||={contentsObj:this.#a,richText:this.#A},t&&(this.#u=null),e&&(this.#A=this.#R(e.text),this.#o=Vy.toDateObject(e.date),this.#a=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#E&&({contentsObj:this.#a,richText:this.#A}=this.#E,this.#E=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#P=!1,this.#f=!1;for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:s}}}=this.#d;let a=!!this.#h,o=a?this.#h:this.#w;for(const v of this.#c)if(!o||Oe.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=Oe.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),u=a?o[2]-o[0]+5:0,f=l[0]+u,g=l[1];this.#u=[100*(f-r)/e,100*(g-s)/n];const{style:p}=this.#i;p.left=`${this.#u[0]}%`,p.top=`${this.#u[1]}%`}#x(){this.#f=!this.#f,this.#f?(this.#M(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#t)):(this.#L(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#t))}#M(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#T(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#L(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#P=this.isVisible,this.#P&&(this.#i.hidden=!0)}maybeShow(){this.#k(),this.#P&&(this.#g||this.#M(),this.#P=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class LC extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=gn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ZF extends Ai{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=this.#t=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class JF extends Ai{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,a=this.#t=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",e-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class QF extends Ai{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,a=this.#t=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class NC extends Ai{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:s,height:a}=this;if(!e)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let u=0,f=e.length;u<f;u+=2){const g=e[u]-t[0],p=t[3]-e[u+1];l.push(`${g},${p}`)}l=l.join(" ");const c=this.#t=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class $F extends NC{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tR extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Jb extends Ai{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?gn.HIGHLIGHT:gn.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#n(e,t),c=this.svgFactory.create(o,l,!0),u=this.#t=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",a);for(let f=0,g=n.length;f<g;f++){const p=this.svgFactory.createElement(this.svgElementName);this.#e.push(p),p.setAttribute("points",n[f].join(",")),u.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,s=this.#t;if(e>=0&&s.setAttribute("stroke-width",e||1),n)for(let a=0,o=this.#e.length;a<o;a++)this.#e[a].setAttribute("points",n[a].join(","));if(r){const{transform:a,width:o,height:l}=this.#n(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:t,rect:e}=this.data;if(t?.length>=1){let n=-1/0,r=-1/0;for(const s of t)for(let a=0,o=s.length;a<o;a+=2)s[a+1]>r?(r=s[a+1],n=s[a]):s[a+1]===r&&(n=Math.max(n,s[a]));if(n!==1/0)return[n,r]}return e?[e[2],e[3]]:null}}class FC extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=gn.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class eR extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class nR extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class rR extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class RC extends Ai{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=gn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class iR extends Ai{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=vs.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Qb{#t=null;#e=null;#n=new Map;#r=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o}){this.div=t,this.#t=e,this.#e=n,this.#r=o||null,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#s(t,e,n){const r=t.firstChild||t,s=r.id=`${zb}${e}`,a=await this.#r?.getAriaAttributes(s);if(a)for(const[o,l]of a)r.setAttribute(o,l);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Fu(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new am,annotationStorage:t.annotationStorage||new Vb,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const o=a.annotationType===Ti.POPUP;if(o){const u=r.get(a.id);if(!u)continue;s.elements=u}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const l=HA.create(s);if(!l.isRenderable)continue;if(!o&&a.popupRef){const u=r.get(a.popupRef);u?u.push(l):r.set(a.popupRef,[l])}const c=l.render();a.hidden&&(c.style.visibility="hidden"),await this.#s(c,a.id,s.elements),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#i()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new am,parent:this};for(const r of t){r.borderStyle||=Qb._defaultBorderStyle,n.data=r;const s=HA.create(n);if(!s.isRenderable)continue;const a=s.render();await this.#s(a,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Fu(e,{rotation:t.rotation}),this.#i(),e.hidden=!1}#i(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const a=this.#n.get(e);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),a._hasNoCanvas=!1):a.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Mn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Od.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const u0=/\r\n?|\n/g;class is extends Qe{#t;#e="";#n=`${this.id}-editor`;#r=null;#s;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=is.prototype,e=s=>s.isEmpty(),n=Fh.TRANSLATE_SMALL,r=Fh.TRANSLATE_BIG;return Mn(this,"_keyboardManager",new rg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=gn.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||is._defaultColor||Qe._defaultLineColor,this.#s=t.fontSize||is._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Qe.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Wn.FREETEXT_SIZE:is._defaultFontSize=e;break;case Wn.FREETEXT_COLOR:is._defaultColor=e;break}}updateParams(t,e){switch(t){case Wn.FREETEXT_SIZE:this.#i(e);break;case Wn.FREETEXT_COLOR:this.#a(e);break}}static get defaultPropertiesToUpdate(){return[[Wn.FREETEXT_SIZE,is._defaultFontSize],[Wn.FREETEXT_COLOR,is._defaultColor||Qe._defaultLineColor]]}get propertiesToUpdate(){return[[Wn.FREETEXT_SIZE,this.#s],[Wn.FREETEXT_COLOR,this.#t]]}get toolbarButtons(){return this._colorPicker||=new jp(this),[["colorPicker",this._colorPicker]]}get colorType(){return Wn.FREETEXT_COLOR}get colorValue(){return this.#t}#i(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#c()},n=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(t){const e=r=>{this.#t=this.editorDiv.style.color=r,this._colorPicker?.update(r)},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-is._internalPadding*t,-(is._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const t=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(is.#l(n)),e=n);return t.join(`
`)}#c(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#c()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){is._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,u]=this.pageDimensions,[f,g]=this.pageTranslation;let p,v;switch(this.rotation){case 0:p=t+(a[0]-f)/c,v=e+this.height-(a[1]-g)/u;break;case 90:p=t+(a[0]-f)/c,v=e-(a[1]-g)/u,[o,l]=[l,-o];break;case 180:p=t-this.width+(a[0]-f)/c,v=e-(a[1]-g)/u,[o,l]=[-o,-l];break;case 270:p=t+(a[0]-f-this.height*u)/c,v=e+(a[1]-g-this.width*c)/u,[o,l]=[-l,o];break}this.setAt(p*r,v*s,o,l)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(u0,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=is.#f(e.getData("text")||"").replaceAll(u0,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],u=[];if(o.nodeType===Node.TEXT_NODE){const p=o.parentElement;if(u.push(o.nodeValue.slice(l).replaceAll(u0,"")),p!==this.editorDiv){let v=c;for(const y of this.editorDiv.childNodes){if(y===p){v=u;continue}v.push(is.#l(y))}}c.push(o.nodeValue.slice(0,l).replaceAll(u0,""))}else if(o===this.editorDiv){let p=c,v=0;for(const y of this.editorDiv.childNodes)v++===l&&(p=u),p.push(is.#l(y))}this.#e=`${c.join(`
`)}${r}${u.join(`
`)}`,this.#d();const f=new Range;let g=Math.sumPrecise(c.map(p=>p.length));for(const{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){const v=p.nodeValue.length;if(g<=v){f.setStart(p,g),f.setEnd(p,g);break}g-=v}s.removeAllRanges(),s.addRange(f)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=is._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let r=null;if(t instanceof LC){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:u,popupRef:f,contentsObj:g},textContent:p,textPosition:v,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;r=t={annotationType:gn.FREETEXT,color:Array.from(o),fontSize:a,value:p.join(`
`),position:v,pageIndex:y-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:f,comment:g?.str||null}}const s=await super.deserialize(t,e,n);return s.#s=t.fontSize,s.#t=Oe.makeHexColor(...t.color),s.#e=is.#f(t.value),s._initialData=r,t.comment&&s.setCommentData(t.comment),s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=this.getPDFRect(),n=Qe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),r={annotationType:gn.FREETEXT,color:n,fontSize:this.#s,value:this.#h(),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!this.#g(r)?null:(r.id=this.annotationElementId,r)}#g(t){const{value:e,fontSize:n,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((a,o)=>a!==r[o])||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const s of this.#e.split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),e.append(a)}const r={rect:this.getPDFRect()};return r.popup=this.hasEditedComment?this.comment:{text:this.#e},t.updateEdited(r),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Le{static PRECISION=1e-4;toSVGPath(){xr("Abstract method `toSVGPath` must be implemented.")}get box(){xr("Abstract getter `box` must be implemented.")}serialize(t,e){xr("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,s,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o]*r,a[o+1]=n+t[o+1]*s;return a}static _rescaleAndSwap(t,e,n,r,s,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o+1]*r,a[o+1]=n+t[o]*s;return a}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s+=2)r[s]=e+t[s],r[s+1]=n+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,s){switch(s){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,s,a){return[(t+5*n)/6,(e+5*r)/6,(5*n+s)/6,(5*r+a)/6,(n+s)/2,(r+a)/2]}}class wu{#t;#e=[];#n;#r;#s=[];#i=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=wu.#g+wu.#p;constructor({x:t,y:e},n,r,s,a,o=0){this.#t=n,this.#h=s*r,this.#r=a,this.#i.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=o,this.#l=wu.#g*r,this.#c=wu.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#i[8])}#m(){const t=this.#i.subarray(4,6),e=this.#i.subarray(16,18),[n,r,s,a]=this.#t;return[(this.#a+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-r)/a,(this.#a+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-r)/a]}add({x:t,y:e}){this.#a=t,this.#o=e;const[n,r,s,a]=this.#t;let[o,l,c,u]=this.#i.subarray(8,12);const f=t-c,g=e-u,p=Math.hypot(f,g);if(p<this.#c)return!1;const v=p-this.#l,y=v/p,A=y*f,w=y*g;let C=o,E=l;o=c,l=u,c+=A,u+=w,this.#f?.push(t,e);const k=-w/v,L=A/v,R=k*this.#h,M=L*this.#h;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([c+R,u+M],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([c-R,u-M],16),isNaN(this.#i[6])?(this.#s.length===0&&(this.#i.set([o+R,l+M],2),this.#s.push(NaN,NaN,NaN,NaN,(o+R-n)/s,(l+M-r)/a),this.#i.set([o-R,l-M],14),this.#e.push(NaN,NaN,NaN,NaN,(o-R-n)/s,(l-M-r)/a)),this.#i.set([C,E,o,l,c,u],6),!this.isEmpty()):(this.#i.set([C,E,o,l,c,u],6),Math.abs(Math.atan2(E-l,C-o)-Math.atan2(w,A))<Math.PI/2?([o,l,c,u]=this.#i.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+u)/2-r)/a),[o,l,C,E]=this.#i.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+o)/2-n)/s,((E+l)/2-r)/a),!0):([C,E,o,l,c,u]=this.#i.subarray(0,6),this.#s.push(((C+5*o)/6-n)/s,((E+5*l)/6-r)/a,((5*o+c)/6-n)/s,((5*l+u)/6-r)/a,((o+c)/2-n)/s,((l+u)/2-r)/a),[c,u,o,l,C,E]=this.#i.subarray(12,18),this.#e.push(((C+5*o)/6-n)/s,((E+5*l)/6-r)/a,((5*o+c)/6-n)/s,((5*l+u)/6-r)/a,((o+c)/2-n)/s,((l+u)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#w(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[s,a,o,l]=this.#m();return`M${(this.#i[2]-t)/n} ${(this.#i[3]-e)/r} L${(this.#i[4]-t)/n} ${(this.#i[5]-e)/r} L${s} ${a} L${o} ${l} L${(this.#i[16]-t)/n} ${(this.#i[17]-e)/r} L${(this.#i[14]-t)/n} ${(this.#i[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#w(t){const[e,n,r,s]=this.#t,a=this.#i.subarray(4,6),o=this.#i.subarray(16,18),[l,c,u,f]=this.#m();t.push(`L${(a[0]-e)/r} ${(a[1]-n)/s} L${l} ${c} L${u} ${f} L${(o[0]-e)/r} ${(o[1]-n)/s}`)}newFreeDrawOutline(t,e,n,r,s,a){return new IC(t,e,n,r,s,a)}getOutlines(){const t=this.#s,e=this.#e,n=this.#i,[r,s,a,o]=this.#t,l=new Float32Array((this.#f?.length??0)+2);for(let f=0,g=l.length-2;f<g;f+=2)l[f]=(this.#f[f]-r)/a,l[f+1]=(this.#f[f+1]-s)/o;if(l[l.length-2]=(this.#a-r)/a,l[l.length-1]=(this.#o-s)/o,isNaN(n[6])&&!this.isEmpty())return this.#A(l);const c=new Float32Array(this.#s.length+24+this.#e.length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}u=this.#E(c,u);for(let f=e.length-6;f>=6;f-=6)for(let g=0;g<6;g+=2){if(isNaN(e[f+g])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=e[f+g],c[u+1]=e[f+g+1],u+=2}return this.#b(c,u),this.newFreeDrawOutline(c,l,this.#t,this.#d,this.#n,this.#r)}#A(t){const e=this.#i,[n,r,s,a]=this.#t,[o,l,c,u]=this.#m(),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-r)/a,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-r)/a,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-r)/a],0),this.newFreeDrawOutline(f,t,this.#t,this.#d,this.#n,this.#r)}#b(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#E(t,e){const n=this.#i.subarray(4,6),r=this.#i.subarray(16,18),[s,a,o,l]=this.#t,[c,u,f,g]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],e),e+=24}}class IC extends Le{#t;#e=new Float32Array(4);#n;#r;#s;#i;#a;constructor(t,e,n,r,s,a){super(),this.#a=t,this.#s=e,this.#t=n,this.#i=r,this.#n=s,this.#r=a,this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,u]=this.#e;for(let f=0,g=t.length;f<g;f+=2)t[f]=(t[f]-o)/c,t[f+1]=(t[f+1]-l)/u;for(let f=0,g=e.length;f<g;f+=2)e[f]=(e[f]-o)/c,e[f+1]=(e[f+1]-l)/u}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,n=this.#a.length;e<n;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],s){const a=n-t,o=r-e;let l,c;switch(s){case 0:l=Le._rescale(this.#a,t,r,a,-o),c=Le._rescale(this.#s,t,r,a,-o);break;case 90:l=Le._rescaleAndSwap(this.#a,t,e,a,o),c=Le._rescaleAndSwap(this.#s,t,e,a,o);break;case 180:l=Le._rescale(this.#a,n,e,-a,o),c=Le._rescale(this.#s,n,e,-a,o);break;case 270:l=Le._rescaleAndSwap(this.#a,n,r,-a,-o),c=Le._rescaleAndSwap(this.#s,n,r,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(t){const e=this.#a;let n=e[4],r=e[5];const s=[n,r,n,r];let a=n,o=r;const l=t?Math.max:Math.min;for(let u=6,f=e.length;u<f;u+=6){const g=e[u+4],p=e[u+5];if(isNaN(e[u]))Oe.pointBoundingBox(g,p,s),o<p?(a=g,o=p):o===p&&(a=l(a,g));else{const v=[1/0,1/0,-1/0,-1/0];Oe.bezierBoundingBox(n,r,...e.slice(u,u+6),v),Oe.rectBoundingBox(...v,s),o<v[3]?(a=v[2],o=v[3]):o===v[3]&&(a=l(a,v[2]))}n=g,r=p}const c=this.#e;c[0]=s[0]-this.#n,c[1]=s[1]-this.#n,c[2]=s[2]-s[0]+2*this.#n,c[3]=s[3]-s[1]+2*this.#n,this.lastPoint=[a,o]}get box(){return this.#e}newOutliner(t,e,n,r,s,a=0){return new wu(t,e,n,r,s,a)}getNewOutline(t,e){const[n,r,s,a]=this.#e,[o,l,c,u]=this.#t,f=s*c,g=a*u,p=n*c+o,v=r*u+l,y=this.newOutliner({x:this.#s[0]*f+p,y:this.#s[1]*g+v},this.#t,this.#i,t,this.#r,e??this.#n);for(let A=2;A<this.#s.length;A+=2)y.add({x:this.#s[A]*f+p,y:this.#s[A+1]*g+v});return y.getOutlines()}}class Qy{#t;#e;#n=[];#r=[];constructor(t,e=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:v,width:y,height:A}of t){const w=Math.floor((p-e)/a)*a,C=Math.ceil((p+y+e)/a)*a,E=Math.floor((v-e)/a)*a,k=Math.ceil((v+A+e)/a)*a,L=[w,E,k,!0],R=[C,E,k,!1];this.#n.push(L,R),Oe.rectBoundingBox(w,E,C,k,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,c=s[0]-n,u=s[1]-n,f=this.#n.at(r?-1:-2),g=[f[0],f[2]];for(const p of this.#n){const[v,y,A]=p;p[0]=(v-c)/o,p[1]=(y-u)/l,p[2]=(A-u)/l}this.#t=new Float32Array([c,u,o,l]),this.#e=g}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#c(e)),this.#a(e)):(this.#o(e),t.push(...this.#c(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const a of t){const[o,l,c]=a;e.push([o,l,a],[o,c,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const l=e[a][2],c=e[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const r=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,u,f]=a;n.delete(a);let g=o,p=l;for(s=[o,c],r.push(s);;){let v;if(n.has(u))v=u;else if(n.has(f))v=f;else break;n.delete(v),[o,l,c,u,f]=v,g!==o&&(s.push(g,p,o,p===l?l:c),g=o),p=p===l?c:l}s.push(g,p)}return new sR(r,this.#t,this.#e)}#i(t){const e=this.#r;let n=0,r=e.length-1;for(;n<=r;){const s=n+r>>1,a=e[s][0];if(a===t)return s;a<t?n=s+1:r=s-1}return r+1}#a([,t,e]){const n=this.#i(t);this.#r.splice(n,0,[t,e])}#o([,t,e]){const n=this.#i(t);for(let r=n;r<this.#r.length;r++){const[s,a]=this.#r[r];if(s!==t)break;if(s===t&&a===e){this.#r.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,a]=this.#r[r];if(s!==t)break;if(s===t&&a===e){this.#r.splice(r,1);return}}}#c(t){const[e,n,r]=t,s=[[e,n,r]],a=this.#i(r);for(let o=0;o<a;o++){const[l,c]=this.#r[o];for(let u=0,f=s.length;u<f;u++){const[,g,p]=s[u];if(!(c<=g||p<=l)){if(g>=l){if(p>c)s[u][1]=c;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=l,p>c&&s.push([e,c,p])}}}return s}}class sR extends Le{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let s=2;s<e.length;s+=2){const a=e[s],o=e[s+1];a===n?(t.push(`V${o}`),r=o):o===r&&(t.push(`H${a}`),n=a)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],s){const a=[],o=n-t,l=r-e;for(const c of this.#e){const u=new Array(c.length);for(let f=0;f<c.length;f+=2)u[f]=t+c[f]*o,u[f+1]=r-c[f+1]*l;a.push(u)}return a}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class $y extends wu{newFreeDrawOutline(t,e,n,r,s,a){return new aR(t,e,n,r,s,a)}}class aR extends IC{newOutliner(t,e,n,r,s,a=0){return new $y(t,e,n,r,s,a)}}class vi extends Qe{#t=null;#e=0;#n;#r=null;#s=null;#i=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=gn.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=vi.prototype;return Mn(this,"_keyboardManager",new rg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||vi._defaultColor,this.#m=t.thickness||vi._defaultThickness,this.#g=t.opacity||vi._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#w(t),this.#k()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#k(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new Qy(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Qy(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=e.getOutlines();const{lastPoint:n}=this.#i;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#w({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#i=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#d=e,this.#r=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:vi.#S(this.#l.box,(u-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:vi.#S(this.#i.box,u),path:{d:this.#i.toSVGPath()}})}const[s,a,o,l]=t.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[u,f]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*f/u,this.height=l*u/f;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[u,f]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*f/u,this.height=l*u/f;break}}const{lastPoint:c}=this.#i;this.#f=[(c[0]-s)/o,(c[1]-a)/l]}static initialize(t,e){Qe.initialize(t,e),vi._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Wn.HIGHLIGHT_COLOR:vi._defaultColor=e;break;case Wn.HIGHLIGHT_THICKNESS:vi._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case Wn.HIGHLIGHT_COLOR:this.#A(e);break;case Wn.HIGHLIGHT_THICKNESS:this.#b(e);break}}static get defaultPropertiesToUpdate(){return[[Wn.HIGHLIGHT_COLOR,vi._defaultColor],[Wn.HIGHLIGHT_THICKNESS,vi._defaultThickness]]}get propertiesToUpdate(){return[[Wn.HIGHLIGHT_COLOR,this.color||vi._defaultColor],[Wn.HIGHLIGHT_THICKNESS,this.#m||vi._defaultThickness],[Wn.HIGHLIGHT_FREE,this.#h]]}#A(t){const e=(s,a)=>{this.color=s,this.#g=a,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:s,"fill-opacity":a}}),this.#s?.updateColor(s)},n=this.color,r=this.#g;this.addCommands({cmd:e.bind(this,t,vi._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#b(t){const e=this.#m,n=r=>{this.#m=r,this.#E(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new yo({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#F())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#F())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#P(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#k(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#P():t&&(this.#k(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#E(t){if(!this.#h)return;this.#w({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#P(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#k(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#r}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#r))}static#S([t,e,n,r],s){switch(s){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=vi.#S(this.#l.box,t)):n=vi.#S([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:vi.#S(this.#i.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#r;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),hC(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#N(t){vi._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#C(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#F(){return this.#h?this.rotation:0}#I(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#n,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:u,height:f}of s){const g=l*t+n,p=(1-c)*e+r;a[o]=a[o+4]=g,a[o+1]=a[o+3]=p,a[o+2]=a[o+6]=g+u*t,a[o+5]=a[o+7]=p-f*e,o+=8}return a}#R(t){return this.#l.serialize(t,this.#F())}static startHighlighting(t,e,{target:n,x:r,y:s}){const{x:a,y:o,width:l,height:c}=n.getBoundingClientRect(),u=new AbortController,f=t.combinedSignal(u),g=p=>{u.abort(),this.#T(t,p)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",Ni,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",So,{signal:f}),n.addEventListener("pointermove",this.#D.bind(this,t),{signal:f}),this._freeHighlight=new $y({x:r,y:s},[a,o,l,c],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#T(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof FC){const{data:{quadPoints:v,rect:y,rotation:A,id:w,color:C,opacity:E,popupRef:k,contentsObj:L},parent:{page:{pageNumber:R}}}=t;r=t={annotationType:gn.HIGHLIGHT,color:Array.from(C),opacity:E,quadPoints:v,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:A,annotationElementId:w,id:w,deleted:!1,popupRef:k,comment:L?.str||null}}else if(t instanceof Jb){const{data:{inkLists:v,rect:y,rotation:A,id:w,color:C,borderStyle:{rawWidth:E},popupRef:k,contentsObj:L},parent:{page:{pageNumber:R}}}=t;r=t={annotationType:gn.HIGHLIGHT,color:Array.from(C),thickness:E,inkLists:v,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:A,annotationElementId:w,id:w,deleted:!1,popupRef:k,comment:L?.str||null}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=t,c=await super.deserialize(t,e,n);c.color=Oe.makeHexColor(...s),c.#g=l||1,o&&(c.#m=t.thickness),c._initialData=r,t.comment&&c.setCommentData(t.comment);const[u,f]=c.pageDimensions,[g,p]=c.pageTranslation;if(a){const v=c.#n=[];for(let y=0;y<a.length;y+=8)v.push({x:(a[y]-g)/u,y:1-(a[y+1]-p)/f,width:(a[y+2]-a[y])/u,height:(a[y+1]-a[y+5])/f});c.#v(),c.#k(),c.rotate(c.rotation)}else if(o){c.#h=!0;const v=o[0],y={x:v[0]-g,y:f-(v[1]-p)},A=new $y(y,[0,0,u,f],1,c.#m/2,!0,.001);for(let E=0,k=v.length;E<k;E+=2)y.x=v[E]-g,y.y=f-(v[E+1]-p),A.add(y);const{id:w,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);c.#w({highlightOutlines:A.getOutlines(),highlightId:w,clipPathId:C}),c.#k(),c.rotate(c.parentRotation)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getPDFRect(),n=Qe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r={annotationType:gn.HIGHLIGHT,color:n,opacity:this.#g,thickness:this.#m,quadPoints:this.#I(),outlines:this.#R(e),pageIndex:this.pageIndex,rect:e,rotation:this.#F(),structTreeParentId:this._structTreeParentId};return this.addComment(r),this.annotationElementId&&!this.#x(r)?null:(r.id=this.annotationElementId,r)}#x(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const e={rect:this.getPDFRect()};return this.hasEditedComment&&(e.popup=this.comment),t.updateEdited(e),null}static canCreateNewEmptyEditor(){return!1}}class DC{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){xr("Not implemented")}}class en extends Qe{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#s=null;static#i=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(en._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,s]of Object.entries(e))n.has(r)?Object.assign(t[r],s):t[r]=s;return t}static getDefaultDrawingOptions(t){xr("Not implemented")}static get typesMap(){xr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(en.#n.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,s=r[e],a=o=>{r.updateProperty(e,o);const l=this.#t.updateProperty(e,o);l&&this.#u(l),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this._colorPicker?.update(o)};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,en._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,en._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,en._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,r]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[e,1-t,n*(a/s),r*(s/a)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(a/s),r*(s/a)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-e,t,n*(s/a),r*(a/s)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(s/a),r*(a/s)];default:return[t,e,n,r]}}#u(t){if([this.x,this.y,this.width,this.height]=this.#g(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(o/l),r*(l/o),n*(o/l)];case 5:return[1-e,t,n*(o/l),r*(l/o)];case 6:return[1-t-r*(l/o),1-e,r*(l/o),n*(o/l)];case 7:return[e-n*(o/l),1-t-r*(l/o),n*(o/l),r*(l/o)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(l/o),e,r*(l/o),n*(o/l)];case 13:return[1-e-n*(o/l),t-r*(l/o),n*(o/l),r*(l/o)];case 14:return[1-t,1-e-n*(o/l),r*(l/o),n*(o/l)];case 15:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,en._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,s){xr("Not implemented")}static startDrawing(t,e,n,r){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=r;if(en.#a&&en.#a!==c)return;const{viewport:{rotation:u}}=t,{width:f,height:g}=s.getBoundingClientRect(),p=en.#r=new AbortController,v=t.combinedSignal(p);if(en.#i||=l,en.#a??=c,window.addEventListener("pointerup",y=>{en.#i===y.pointerId?this._endDraw(y):en.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointercancel",y=>{en.#i===y.pointerId?this._currentParent.endDrawingSession():en.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointerdown",y=>{en.#a===y.pointerType&&((en.#o||=new Set).add(y.pointerId),en.#n.isCancellable()&&(en.#n.removeLastElement(),en.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",So,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",y=>{y.timeStamp===en.#c&&Ni(y)},{signal:v}),t.toggleDrawing(),e._editorUndoBar?.hide(),en.#n){t.drawLayer.updateProperties(this._currentDrawId,en.#n.startNew(a,o,f,g,u));return}e.updateUIForDefaultProperties(this),en.#n=this.createDrawerInstance(a,o,f,g,u),en.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(en.#s.toSVGProperties(),en.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(en.#c=-1,!en.#n)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(en.#i===r){if(en.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,en.#n.add(e,n)),en.#c=t.timeStamp,Ni(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,en.#n=null,en.#s=null,en.#a=null,en.#c=NaN),en.#r&&(en.#r.abort(),en.#r=null,en.#i=NaN,en.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,en.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=en.#n,r=this._currentDrawId,s=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Wn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Wn.DRAW_STEP),!en.#n.isEmpty()){const{pageDimensions:[n,r],scale:s}=e,a=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:en.#n.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:en.#s,mustBeCommitted:!t});return this._cleanup(!0),a}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,s,a){xr("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:o}}=e.viewport,l=this.deserializeDraw(a,o,r,s,this._INNER_MARGIN,t),c=await super.deserialize(t,e,n);return c.createDrawingOptions(t),c.#l({drawOutlines:l}),c.#f(),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[e,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#t.serialize([e,n,r,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class oR{#t=new Float64Array(6);#e;#n;#r;#s;#i;#a="";#o=0;#c=new sg;#l;#d;constructor(t,e,n,r,s,a){this.#l=n,this.#d=r,this.#r=s,this.#s=a,[t,e]=this.#h(t,e);const o=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e],this.#n=[{line:o,points:this.#i}],this.#t.set(o,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#h(t,e){return Le._normalizePoint(t,e,this.#l,this.#d,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,r,s,a]=this.#t.subarray(2,6),o=t-s,l=e-a;return Math.hypot(this.#l*o,this.#d*l)<=2?null:(this.#i.push(t,e),isNaN(n)?(this.#t.set([s,a,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,s,a,t,e],0),this.#e.push(...Le.createBezierPoints(n,r,s,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,s){this.#l=n,this.#d=r,this.#r=s,[t,e]=this.#h(t,e);const a=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:a,points:this.#i}),this.#t.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#i=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#a="";for(let t=0,e=this.#n.length;t<e;t++){const{line:n,points:r}=this.#n[t];this.#e=n,this.#i=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=Le.svgRound(this.#e[4]),e=Le.svgRound(this.#e[5]);if(this.#i.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#i.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#i.length===4){const r=Le.svgRound(this.#e[10]),s=Le.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${r} ${s}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,s=this.#e.length;r<s;r+=6){const[a,o,l,c,u,f]=this.#e.slice(r,r+6).map(Le.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${f}`)}return this.#a+=n.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,n,r){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,t,e,n,this.#r,this.#s,r),this.#t=null,this.#e=null,this.#n=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class sg extends Le{#t;#e=0;#n;#r;#s;#i;#a;#o;#c;build(t,e,n,r,s,a,o){this.#s=e,this.#i=n,this.#a=r,this.#o=s,this.#c=a,this.#n=o??0,this.#r=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#r.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#r){if(t.push(`M${Le.svgRound(e[4])} ${Le.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${Le.svgRound(e[10])} ${Le.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[s,a,o,l,c,u]=e.subarray(n,n+6).map(Le.svgRound);t.push(`C${s} ${a} ${o} ${l} ${c} ${u}`)}}return t.join("")}serialize([t,e,n,r],s){const a=[],o=[],[l,c,u,f]=this.#d();let g,p,v,y,A,w,C,E,k;switch(this.#o){case 0:k=Le._rescale,g=t,p=e+r,v=n,y=-r,A=t+l*n,w=e+(1-c-f)*r,C=t+(l+u)*n,E=e+(1-c)*r;break;case 90:k=Le._rescaleAndSwap,g=t,p=e,v=n,y=r,A=t+c*n,w=e+l*r,C=t+(c+f)*n,E=e+(l+u)*r;break;case 180:k=Le._rescale,g=t+n,p=e,v=-n,y=r,A=t+(1-l-u)*n,w=e+c*r,C=t+(1-l)*n,E=e+(c+f)*r;break;case 270:k=Le._rescaleAndSwap,g=t+n,p=e+r,v=-n,y=-r,A=t+(1-c-f)*n,w=e+(1-l-u)*r,C=t+(1-c)*n,E=e+(1-l)*r;break}for(const{line:L,points:R}of this.#r)a.push(k(L,g,p,v,y,s?new Array(L.length):null)),o.push(k(R,g,p,v,y,s?new Array(R.length):null));return{lines:a,points:o,rect:[A,w,C,E]}}static deserialize(t,e,n,r,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const u=[];let f,g,p,v,y;switch(l){case 0:y=Le._rescale,f=-t/n,g=e/r+1,p=1/n,v=-1/r;break;case 90:y=Le._rescaleAndSwap,f=-e/r,g=-t/n,p=1/r,v=1/n;break;case 180:y=Le._rescale,f=t/n+1,g=-e/r,p=-1/n,v=1/r;break;case 270:y=Le._rescaleAndSwap,f=e/r+1,g=t/n+1,p=-1/r,v=-1/n;break}if(!a){a=[];for(const w of o){const C=w.length;if(C===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(C===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(C-2));a.push(E);let[k,L,R,M]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,k,L],0);for(let j=4;j<C;j+=2){const B=w[j],X=w[j+1];E.set(Le.createBezierPoints(k,L,R,M,B,X),(j-2)*3),[k,L,R,M]=[R,M,B,X]}}}for(let w=0,C=a.length;w<C;w++)u.push({line:y(a[w].map(E=>E??NaN),f,g,p,v),points:y(o[w].map(E=>E??NaN),f,g,p,v)});const A=new this.prototype.constructor;return A.build(u,n,r,1,l,c,s),A}#l(t=this.#c){const e=this.#n+t/2*this.#a;return this.#o%180===0?[e/this.#s,e/this.#i]:[e/this.#i,e/this.#s]}#d(){const[t,e,n,r]=this.#t,[s,a]=this.#l(0);return[t+s,e+a,n-2*s,r-2*a]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#r){if(r.length<=12){for(let o=4,l=r.length;o<l;o+=6)Oe.pointBoundingBox(r[o],r[o+1],t);continue}let s=r[4],a=r[5];for(let o=6,l=r.length;o<l;o+=6){const[c,u,f,g,p,v]=r.subarray(o,o+6);Oe.bezierBoundingBox(s,a,c,u,f,g,p,v,t),s=p,a=v}}const[e,n]=this.#l();t[0]=Qs(t[0]-e,0,1),t[1]=Qs(t[1]-n,0,1),t[2]=Qs(t[2]+e,0,1),t[3]=Qs(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[r,s]=this.#l(),[a,o]=[r-e,s-n],l=this.#t;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([t,e],n){const[r,s]=this.#l();this.#s=t,this.#i=e,this.#a=n;const[a,o]=this.#l(),l=a-r,c=o-s,u=this.#t;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Le.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,s=0,a=0,o=0,l=0;switch(this.#e){case 90:r=e/t,s=-t/e,o=t;break;case 180:n=-1,a=-1,o=t,l=e;break;case 270:r=-e/t,s=t/e,l=e;break;default:return""}return`matrix(${n} ${r} ${s} ${a} ${Le.svgRound(o)} ${Le.svgRound(l)})`}getPathResizingSVGProperties([t,e,n,r]){const[s,a]=this.#l(),[o,l,c,u]=this.#t;if(Math.abs(c-s)<=Le.PRECISION||Math.abs(u-a)<=Le.PRECISION){const y=t+n/2-(o+c/2),A=e+r/2-(l+u/2);return{path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(e)}`,transform:`${this.rotationTransform} translate(${y} ${A})`}}}const f=(n-2*s)/(c-2*s),g=(r-2*a)/(u-2*a),p=c/n,v=u/r;return{path:{"transform-origin":`${Le.svgRound(o)} ${Le.svgRound(l)}`,transform:`${this.rotationTransform} scale(${p} ${v}) translate(${Le.svgRound(s)} ${Le.svgRound(a)}) scale(${f} ${g}) translate(${Le.svgRound(-s)} ${Le.svgRound(-a)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[s,a]=this.#l(),o=this.#t,[l,c,u,f]=o;if(o[0]=t,o[1]=e,o[2]=n,o[3]=r,Math.abs(u-s)<=Le.PRECISION||Math.abs(f-a)<=Le.PRECISION){const A=t+n/2-(l+u/2),w=e+r/2-(c+f/2);for(const{line:C,points:E}of this.#r)Le._translate(C,A,w,C),Le._translate(E,A,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*s)/(u-2*s),p=(r-2*a)/(f-2*a),v=-g*(l+s)+t+s,y=-p*(c+a)+e+a;if(g!==1||p!==1||v!==0||y!==0)for(const{line:A,points:w}of this.#r)Le._rescale(A,v,y,g,p,A),Le._rescale(w,v,y,g,p,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,s]=n,a=this.#t,o=t-a[0],l=e-a[1];if(this.#s===r&&this.#i===s)for(const{line:c,points:u}of this.#r)Le._translate(c,o,l,c),Le._translate(u,o,l,u);else{const c=this.#s/r,u=this.#i/s;this.#s=r,this.#i=s;for(const{line:f,points:g}of this.#r)Le._rescale(f,o,l,c,u,f),Le._rescale(g,o,l,c,u,g);a[2]*=c,a[3]*=u}return a[0]=t,a[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Le.svgRound(t[0])} ${Le.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class jm extends DC{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Qe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new jm(this._viewParameters);return t.updateAll(this),t}}class $b extends en{static _type="ink";static _editorType=gn.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Qe.initialize(t,e),this._defaultDrawingOptions=new jm(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Mn(this,"typesMap",new Map([[Wn.INK_THICKNESS,"stroke-width"],[Wn.INK_COLOR,"stroke"],[Wn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,s){return new oR(t,e,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,s,a){return sg.deserialize(t,e,n,r,s,a)}static async deserialize(t,e,n){let r=null;if(t instanceof Jb){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:u,opacity:f,borderStyle:{rawWidth:g},popupRef:p,contentsObj:v},parent:{page:{pageNumber:y}}}=t;r=t={annotationType:gn.INK,color:Array.from(u),thickness:g,opacity:f,paths:{points:a},boxes:null,pageIndex:y-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:p,comment:v?.str||null}}const s=await super.deserialize(t,e,n);return s._initialData=r,t.comment&&s.setCommentData(t.comment),s}get toolbarButtons(){return this._colorPicker||=new jp(this),[["colorPicker",this._colorPicker]]}get colorType(){return Wn.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=$b.getDefaultDrawingOptions({stroke:Oe.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l={annotationType:gn.INK,color:Qe._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!this.#t(l)?null:(l.id=this.annotationElementId,l)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,o)=>a!==e[o])||t.thickness!==n||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1),r={rect:n,thickness:this._drawingOptions["stroke-width"],points:e};return this.hasEditedComment&&(r.popup=this.comment),t.updateEdited(r),null}}class tb extends sg{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const d0=8,ep=3;class jd{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(t,e,n,r,s,a,o){const l=this.#e(n,r,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,f=this.#n[2*u],g=this.#n[2*u+1];if(t[(n+f)*e+(r+g)]!==0)return u}return-1}static#s(t,e,n,r,s,a,o){const l=this.#e(n,r,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,f=this.#n[2*u],g=this.#n[2*u+1];if(t[(n+f)*e+(r+g)]!==0)return u}return-1}static#i(t,e,n,r){const s=t.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=t[u]<=r?1:0;for(let u=1;u<n-1;u++)a[u*e]=a[u*e+e-1]=0;for(let u=0;u<e;u++)a[u]=a[e*n-1-u]=0;let o=1,l;const c=[];for(let u=1;u<n-1;u++){l=1;for(let f=1;f<e-1;f++){const g=u*e+f,p=a[g];if(p===0)continue;let v=u,y=f;if(p===1&&a[g-1]===0)o+=1,y-=1;else if(p>=1&&a[g+1]===0)o+=1,y+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const A=[f,u],w=y===f+1,C={isHole:w,points:A,id:o,parent:0};c.push(C);let E;for(const D of c)if(D.id===l){E=D;break}E?E.isHole?C.parent=w?E.parent:l:C.parent=w?l:E.parent:C.parent=w?l:0;const k=this.#r(a,e,u,f,v,y,0);if(k===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let L=this.#n[2*k],R=this.#n[2*k+1];const M=u+L,j=f+R;v=M,y=j;let B=u,X=f;for(;;){const D=this.#s(a,e,B,X,v,y,1);L=this.#n[2*D],R=this.#n[2*D+1];const z=B+L,U=X+R;A.push(U,z);const Q=B*e+X;if(a[Q+1]===0?a[Q]=-o:a[Q]===1&&(a[Q]=o),z===u&&U===f&&B===M&&X===j){a[g]!==1&&(l=Math.abs(a[g]));break}else v=B,y=X,B=z,X=U}}}return c}static#a(t,e,n,r){if(n-e<=4){for(let M=e;M<n-2;M+=2)r.push(t[M],t[M+1]);return}const s=t[e],a=t[e+1],o=t[n-4]-s,l=t[n-3]-a,c=Math.hypot(o,l),u=o/c,f=l/c,g=u*a-f*s,p=l/o,v=1/c,y=Math.atan(p),A=Math.cos(y),w=Math.sin(y),C=v*(Math.abs(A)+Math.abs(w)),E=v*(1-C+C**2),k=Math.max(Math.atan(Math.abs(w+A)*E),Math.atan(Math.abs(w-A)*E));let L=0,R=e;for(let M=e+2;M<n-2;M+=2){const j=Math.abs(g-u*t[M+1]+f*t[M]);j>L&&(R=M,L=j)}L>(c*k)**2?(this.#a(t,e,R+2,r),this.#a(t,R,n,r)):r.push(s,a)}static#o(t){const e=[],n=t.length;return this.#a(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,c=a>>1;for(let y=0;y<a;y++){const A=(y-c)**2;for(let w=0;w<a;w++)o[y*a+w]=Math.exp((A+(w-c)**2)/l)}const u=new Float32Array(256),f=-2*s**2;for(let y=0;y<256;y++)u[y]=Math.exp(y**2/f);const g=t.length,p=new Uint8Array(g),v=new Uint32Array(256);for(let y=0;y<n;y++)for(let A=0;A<e;A++){const w=y*e+A,C=t[w];let E=0,k=0;for(let R=0;R<a;R++){const M=y+R-c;if(!(M<0||M>=n))for(let j=0;j<a;j++){const B=A+j-c;if(B<0||B>=e)continue;const X=t[M*e+B],D=o[R*a+j]*u[Math.abs(X-C)];E+=X*D,k+=D}}const L=p[w]=Math.round(E/k);v[L]++}return[p,v]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){const c=n[o]=t[o<<2];r=Math.max(r,c),s=Math.min(s,c)}const a=255/(r-s);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-s)*a;return n}static#h(t){let e,n=-1/0,r=-1/0;const s=t.findIndex(l=>l!==0);let a=s,o=s;for(e=s;e<256;e++){const l=t[e];l>n&&(e-a>r&&(r=e-a,o=e-1),n=l,a=e)}for(e=o-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:s}=this.#t;let a=n,o=r;if(n>s||r>s){let g=n,p=r,v=Math.log2(Math.max(n,r)/s);const y=Math.floor(v);v=v===y?y-1:y;for(let w=0;w<v;w++){a=Math.ceil(g/2),o=Math.ceil(p/2);const C=new OffscreenCanvas(a,o);C.getContext("2d").drawImage(t,0,0,g,p,0,0,a,o),g=a,p=o,t!==e&&t.close(),t=C.transferToImageBitmap()}const A=Math.min(s/a,s/o);a=Math.round(a*A),o=Math.round(o*A)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[this.#d(u),a,o]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const f=200,g=u.font=`${n} ${r} ${f}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:y,actualBoundingBoxDescent:A,fontBoundingBoxAscent:w,fontBoundingBoxDescent:C,width:E}=u.measureText(t),k=1.5,L=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,E)*k),R=Math.ceil(Math.max(Math.abs(y)+Math.abs(A)||f,Math.abs(w)+Math.abs(C)||f)*k);c=new OffscreenCanvas(L,R),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=g,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,L,R),u.fillStyle="black",u.fillText(t,L*(k-1)/2,R*(3-k)/2);const M=this.#d(u.getImageData(0,0,L,R).data),j=this.#l(M),B=this.#h(j),X=this.#i(M,L,R,B);return this.processDrawnLines({lines:{curves:X,width:L,height:R},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,s){const[a,o,l]=this.#f(t),[c,u]=this.#c(a,o,l,Math.hypot(o,l)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),f=this.#h(u),g=this.#i(c,o,l,f);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([e,n]=[n,e]);const{curves:l,width:c,height:u}=t,f=t.thickness??0,g=[],p=Math.min(e/c,n/u),v=p/e,y=p/n,A=[];for(const{points:C}of l){const E=a?this.#o(C):C;if(!E)continue;A.push(E);const k=E.length,L=new Float32Array(k),R=new Float32Array(3*(k===2?2:k-2));if(g.push({line:R,points:L}),k===2){L[0]=E[0]*v,L[1]=E[1]*y,R.set([NaN,NaN,NaN,NaN,L[0],L[1]],0);continue}let[M,j,B,X]=E;M*=v,j*=y,B*=v,X*=y,L.set([M,j,B,X],0),R.set([NaN,NaN,NaN,NaN,M,j],0);for(let D=4;D<k;D+=2){const z=L[D]=E[D]*v,U=L[D+1]=E[D+1]*y;R.set(Le.createBezierPoints(M,j,B,X,z,U),(D-2)*3),[M,j,B,X]=[B,X,z,U]}}if(g.length===0)return null;const w=o?new tb:new sg;return w.build(g,e,n,1,r,o?0:f,s),{outline:w,newCurves:A,areContours:o,thickness:f,width:c,height:u}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const E of t){l+=E.length;for(let k=2,L=E.length;k<L;k++){const R=E[k]-E[k-2];a=Math.min(a,R),o=Math.max(o,R)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=t.length,f=d0+ep*u,g=new Uint32Array(f);let p=0;g[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,g[p++]=0,g[p++]=r,g[p++]=s,g[p++]=e?0:1,g[p++]=Math.max(0,Math.floor(n??0)),g[p++]=u,g[p++]=c.BYTES_PER_ELEMENT;for(const E of t)g[p++]=E.length-2,g[p++]=E[0],g[p++]=E[1];const v=new CompressionStream("deflate-raw"),y=v.writable.getWriter();await y.ready,y.write(g);const A=c.prototype.constructor;for(const E of t){const k=new A(E.length-2);for(let L=2,R=E.length;L<R;L++)k[L-2]=E[L]-E[L-2];y.write(k)}y.close();const w=await new Response(v.readable).arrayBuffer(),C=new Uint8Array(w);return cC(C)}static async decompressSignature(t){try{const e=TN(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const E of n)a||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),a.set(E,o),o+=E.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],f=l[3],g=l[4]===0,p=l[5],v=l[6],y=l[7],A=[],w=(d0+ep*v)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(y){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(a.buffer,w);break}o=0;for(let E=0;E<v;E++){const k=l[ep*E+d0],L=new Float32Array(k+2);A.push(L);for(let R=0;R<ep-1;R++)L[R]=l[ep*E+d0+R+1];for(let R=0;R<k;R++)L[R+2]=L[R]+C[o++]}return{areContours:g,thickness:p,outlines:A,width:u,height:f}}catch(e){return kn(`decompressSignature: ${e}`),null}}}class t2 extends DC{constructor(){super(),super.updateProperties({fill:Qe._defaultLineColor,"stroke-width":0})}clone(){const t=new t2;return t.updateAll(this),t}}class e2 extends jm{constructor(t){super(t),super.updateProperties({stroke:Qe._defaultLineColor,"stroke-width":1})}clone(){const t=new e2(this._viewParameters);return t.updateAll(this),t}}class Ll extends en{#t=!1;#e=null;#n=null;#r=null;static _type="signature";static _editorType=gn.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Qe.initialize(t,e),this._defaultDrawingOptions=new t2,this._defaultDrawnSignatureOptions=new e2(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Mn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#n,{rawDims:{pageWidth:u,pageHeight:f},rotation:g}=this.parent.viewport,p=jd.processDrawnLines({lines:r,pageWidth:u,pageHeight:f,rotation:g,innerMargin:Ll._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(p,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#r=t,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:s}=this.#n,a=Math.max(r,s),o=jd.processDrawnLines({lines:{curves:t.map(l=>({points:l})),thickness:n,width:r,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:s,y:a}=this,{outline:o}=this.#n=t;this.#t=o instanceof tb,this.description=n;let l;this.#t?l=Ll.getDefaultDrawingOptions():(l=Ll._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[c,u]=this.parentDimensions,[,f]=this.pageDimensions;let g=e/f;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(c*this.width,u*this.height),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return jd.process(t,e,n,r,Ll._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return jd.extractContoursFromText(t,e,n,r,s,Ll._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return jd.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:Ll._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Ll.getDefaultDrawingOptions():(this._drawingOptions=Ll._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a={annotationType:gn.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(a),t?(a.paths={lines:e,points:n},a.uuid=this.#r,a.isCopy=!0):a.lines=e,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,e,n,r,s,a){return a.areContours?tb.deserialize(t,e,n,r,s,a):sg.deserialize(t,e,n,r,s,a)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#r=t.uuid,r}}class lR extends Qe{#t=null;#e=null;#n=null;#r=null;#s=null;#i="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=gn.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#r=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Qe.initialize(t,e)}static isHandlingMimeForPasting(t){return Gy.includes(t)}static paste(t,e){e.pasteEditor({mode:gn.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#i=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:a}=t||this.copyCanvas(null,null,!0).imageData,o=await n.guess({name:"altText",request:{data:r,width:s,height:a,channels:r.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),e&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Gy.join(",");const e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#r||this.#s||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,s]=this.pageDimensions,a=.75;if(this.width)e=this.width*r,n=this.height*s;else if(e>a*r||n>a*s){const u=Math.min(a*r/e,a*s/n);e*=u,n*=u}const[o,l]=this.parentDimensions;this.setDims(e*o/r,n*l/s),this._uiManager.enableWaiting(!1);const c=this.#a=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/r,this.height=n/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:s}=this.#t,a=new Il;let o=this.#t,l=r,c=s,u=null;if(e){if(r>e||s>e){const R=Math.min(e/r,e/s);l=Math.floor(r*R),c=Math.floor(s*R)}u=document.createElement("canvas");const g=u.width=Math.ceil(l*a.sx),p=u.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(g,p));const v=u.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",A="#42414d");const w=15,C=w*a.sx,E=w*a.sy,k=new OffscreenCanvas(C*2,E*2),L=k.getContext("2d");L.fillStyle=y,L.fillRect(0,0,C*2,E*2),L.fillStyle=A,L.fillRect(0,0,C,E),L.fillRect(C,E,C,E),v.fillStyle=v.createPattern(k,"repeat"),v.fillRect(0,0,g,p),v.drawImage(o,0,0,o.width,o.height,0,0,g,p)}let f=null;if(n){let g,p;if(a.symmetric&&o.width<t&&o.height<t)g=o.width,p=o.height;else if(o=this.#t,r>t||s>t){const A=Math.min(t/r,t/s);g=Math.floor(r*A),p=Math.floor(s*A),this.#l||(o=this.#u(g,p))}const y=new OffscreenCanvas(g,p).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,g,p),f={width:g,height:p,data:y.getImageData(0,0,g,p).data}}return{canvas:u,width:l,height:c,imageData:f}}#u(t,e){const{width:n,height:r}=this.#t;let s=n,a=r,o=this.#t;for(;s>2*t||a>2*e;){const l=s,c=a;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const u=new OffscreenCanvas(s,a);u.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=u.transferToImageBitmap()}return o}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,s=new Il,a=Math.ceil(n*t*s.sx),o=Math.ceil(r*e*s.sy),l=this.#a;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#t:this.#u(a,o),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*lf.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*lf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,s);return a.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,s),a.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,s=!1;if(t instanceof RC){const{data:{rect:y,rotation:A,id:w,structParent:C,popupRef:E,contentsObj:k},container:L,parent:{page:{pageNumber:R}},canvas:M}=t;let j,B;M?(delete t.canvas,{id:j,bitmap:B}=n.imageManager.getFromCanvas(L.id,M),M.remove()):(s=!0,t._hasNoCanvas=!0);const X=(await e._structTree.getAriaAttributes(`${zb}${w}`))?.get("aria-label")||"";r=t={annotationType:gn.STAMP,bitmapId:j,bitmap:B,pageIndex:R-1,rect:y.slice(0),rotation:A,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:C,popupRef:E,comment:k?.str||null}}const a=await super.deserialize(t,e,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:f,accessibilityData:g}=t;s?(n.addMissingCanvas(t.id,a),a.#o=!0):u&&n.imageManager.isValidId(u)?(a.#e=u,l&&(a.#t=l)):a.#r=c,a.#l=f;const[p,v]=a.pageDimensions;return a.width=(o[2]-o[0])/p,a.height=(o[3]-o[1])/v,g&&(a.altTextData=g),a._initialData=r,t.comment&&a.setCommentData(t.comment),a.#d=!!r,a}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:gn.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#v(n);if(o.isSame)return null;o.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const a=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:a,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const o=e.stamps.get(this.#e);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const e={rect:this.getPDFRect()};return this.hasEditedComment&&(e.popup=this.comment),t.updateEdited(e),null}}class Cc{#t;#e=!1;#n=null;#r=null;#s=null;#i=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([is,$b,lR,vi,Ll].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){const f=[...Cc.#m.values()];if(!Cc._initialized){Cc._initialized=!0;for(const g of f)g.initialize(u,t)}t.registerEditorTypes(f),this.#u=t,this.pageIndex=e,this.div=n,this.#t=s,this.#n=a,this.viewport=c,this.#h=l,this.drawLayer=o,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===gn.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#b(),t){case gn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case gn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case gn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of Cc.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#i.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#n){this.#c=!1;return}const e=this.#n.getEditableAnnotations();for(const n of e){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#h&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,u=this.#p;if(c-u>500){this.#p=c;return}this.#p=-1;const{classList:f}=this.div;f.toggle("getElements",!0);const g=document.elementsFromPoint(o,l);if(f.toggle("getElements",!1),!this.div.contains(g[0]))return;let p;const v=new RegExp(`^${iC}[0-9]+$`);for(const A of g)if(v.test(A.id)){p=A.id;break}if(!p)return;const y=this.#i.get(p);y?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of this.#i.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const s of r){const{id:a}=s.data;if(this.#u.isDeletedAnnotationElement(a)){s.updateEdited({deleted:!0});continue}let o=e.get(a);if(o){o.resetAnnotationElement(s),o.show(!1),s.show();continue}o=t.get(a),o&&(this.#u.addChangedExistingAnnotation(o),o.renderAnnotationElement(s)&&o.show(!1)),s.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of Cc.#m.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#y.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#y(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=vs.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),vi.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const t=this.#u.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#r?.abort(),this.#r=null}attach(t){this.#i.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#i.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),Qe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#u.getId()}get#v(){return Cc.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#w(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#A(),s=this.getNextId(),a=this.#w({parent:this,id:s,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});a&&this.add(a)}async deserialize(t){return await Cc.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),s=this.#w({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return s&&this.add(s),s}#A(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+n),l=Math.min(window.innerHeight,e+r),c=(s+o)/2-t,u=(a+l)/2-e,[f,g]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:g}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=vs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===gn.STAMP||n===gn.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===gn.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=vs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#i.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#i.clear(),this.#u.removeLayer(this)}#b(){for(const t of this.#i.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Fu(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#b();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Fu(this.div,{rotation:n}),e!==n)for(const r of this.#i.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class ds{#t=null;#e=new Map;#n=new Map;static#r=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Mn(this,"_svgFactory",new am)}static#s(t,[e,n,r,s]){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*r}%`,a.height=`${100*s}%`}#i(){const t=ds._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const n=ds._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ds._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=ds.#r++,s=this.#i(),a=ds._svgFactory.createElement("defs");s.append(a);const o=ds._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,o);const c=n?this.#a(a,l):null,u=ds._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,t),this.#e.set(r,s),{id:r,clipPathId:`url(#${c})`}}drawOutline(t,e){const n=ds.#r++,r=this.#i(),s=ds._svgFactory.createElement("defs");r.append(s);const a=ds._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const f=ds._svgFactory.createElement("mask");s.append(f),l=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const g=ds._svgFactory.createElement("rect");f.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const p=ds._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=ds._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:s,path:a}=e,o=typeof t=="number"?this.#e.get(t):t;if(o){if(n&&this.#o(o,n),r&&ds.#s(o,r),s){const{classList:l}=o;for(const[c,u]of Object.entries(s))l.toggle(c,u)}if(a){const c=o.firstChild.firstChild;this.#o(c,a)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Qy};globalThis.pdfjsLib={AbortException:Nh,AnnotationEditorLayer:Cc,AnnotationEditorParamsType:Wn,AnnotationEditorType:gn,AnnotationEditorUIManager:Fh,AnnotationLayer:Qb,AnnotationMode:Sh,AnnotationType:Ti,build:jF,ColorPicker:yo,createValidAbsoluteUrl:sC,DOMSVGFactory:am,DrawLayer:ds,FeatureTest:vs,fetchData:eg,getDocument:Zy,getFilenameFromUrl:LN,getPdfFilenameFromUrl:NN,getRGB:Mm,getUuid:lC,getXfaPageViewport:RN,GlobalWorkerOptions:Jd,ImageKind:B0,InvalidPDFException:Wy,isDataScheme:Dm,isPdfFile:Hb,isValidExplicitDest:WN,MathClamp:Qs,noContextMenu:So,normalizeUnicode:_N,OPS:Mp,OutputScale:Il,PasswordResponses:yN,PDFDataRangeTransport:CC,PDFDateString:Vy,PDFWorker:Bp,PermissionFlag:vN,PixelsPerInch:lf,RenderingCancelledException:Ub,ResponseException:im,setLayerDimensions:Fu,shadow:Mn,SignatureExtractor:jd,stopEvent:Ni,SupportedImageMimeTypes:Gy,TextLayer:Ks,TouchManager:Om,updateUrlHash:aC,Util:Oe,VerbosityLevel:Fm,version:BF,XfaLayer:PC};var A1={exports:{}},qA;function cR(){return qA||(qA=1,(function(i){var t=(function(e){var n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(rt,ot,q){rt[ot]=q.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(rt,ot,q){return Object.defineProperty(rt,ot,{value:q,enumerable:!0,configurable:!0,writable:!0}),rt[ot]}try{f({},"")}catch{f=function(ot,q,I){return ot[q]=I}}function g(rt,ot,q,I){var W=ot&&ot.prototype instanceof E?ot:E,nt=Object.create(W.prototype),lt=new Z(I||[]);return s(nt,"_invoke",{value:z(rt,q,lt)}),nt}e.wrap=g;function p(rt,ot,q){try{return{type:"normal",arg:rt.call(ot,q)}}catch(I){return{type:"throw",arg:I}}}var v="suspendedStart",y="suspendedYield",A="executing",w="completed",C={};function E(){}function k(){}function L(){}var R={};f(R,l,function(){return this});var M=Object.getPrototypeOf,j=M&&M(M($([])));j&&j!==n&&r.call(j,l)&&(R=j);var B=L.prototype=E.prototype=Object.create(R);k.prototype=L,s(B,"constructor",{value:L,configurable:!0}),s(L,"constructor",{value:k,configurable:!0}),k.displayName=f(L,u,"GeneratorFunction");function X(rt){["next","throw","return"].forEach(function(ot){f(rt,ot,function(q){return this._invoke(ot,q)})})}e.isGeneratorFunction=function(rt){var ot=typeof rt=="function"&&rt.constructor;return ot?ot===k||(ot.displayName||ot.name)==="GeneratorFunction":!1},e.mark=function(rt){return Object.setPrototypeOf?Object.setPrototypeOf(rt,L):(rt.__proto__=L,f(rt,u,"GeneratorFunction")),rt.prototype=Object.create(B),rt},e.awrap=function(rt){return{__await:rt}};function D(rt,ot){function q(nt,lt,dt,mt){var yt=p(rt[nt],rt,lt);if(yt.type==="throw")mt(yt.arg);else{var _t=yt.arg,Ot=_t.value;return Ot&&typeof Ot=="object"&&r.call(Ot,"__await")?ot.resolve(Ot.__await).then(function(Xt){q("next",Xt,dt,mt)},function(Xt){q("throw",Xt,dt,mt)}):ot.resolve(Ot).then(function(Xt){_t.value=Xt,dt(_t)},function(Xt){return q("throw",Xt,dt,mt)})}}var I;function W(nt,lt){function dt(){return new ot(function(mt,yt){q(nt,lt,mt,yt)})}return I=I?I.then(dt,dt):dt()}s(this,"_invoke",{value:W})}X(D.prototype),f(D.prototype,c,function(){return this}),e.AsyncIterator=D,e.async=function(rt,ot,q,I,W){W===void 0&&(W=Promise);var nt=new D(g(rt,ot,q,I),W);return e.isGeneratorFunction(ot)?nt:nt.next().then(function(lt){return lt.done?lt.value:nt.next()})};function z(rt,ot,q){var I=v;return function(nt,lt){if(I===A)throw new Error("Generator is already running");if(I===w){if(nt==="throw")throw lt;return st()}for(q.method=nt,q.arg=lt;;){var dt=q.delegate;if(dt){var mt=U(dt,q);if(mt){if(mt===C)continue;return mt}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(I===v)throw I=w,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);I=A;var yt=p(rt,ot,q);if(yt.type==="normal"){if(I=q.done?w:y,yt.arg===C)continue;return{value:yt.arg,done:q.done}}else yt.type==="throw"&&(I=w,q.method="throw",q.arg=yt.arg)}}}function U(rt,ot){var q=ot.method,I=rt.iterator[q];if(I===a)return ot.delegate=null,q==="throw"&&rt.iterator.return&&(ot.method="return",ot.arg=a,U(rt,ot),ot.method==="throw")||q!=="return"&&(ot.method="throw",ot.arg=new TypeError("The iterator does not provide a '"+q+"' method")),C;var W=p(I,rt.iterator,ot.arg);if(W.type==="throw")return ot.method="throw",ot.arg=W.arg,ot.delegate=null,C;var nt=W.arg;if(!nt)return ot.method="throw",ot.arg=new TypeError("iterator result is not an object"),ot.delegate=null,C;if(nt.done)ot[rt.resultName]=nt.value,ot.next=rt.nextLoc,ot.method!=="return"&&(ot.method="next",ot.arg=a);else return nt;return ot.delegate=null,C}X(B),f(B,u,"Generator"),f(B,l,function(){return this}),f(B,"toString",function(){return"[object Generator]"});function Q(rt){var ot={tryLoc:rt[0]};1 in rt&&(ot.catchLoc=rt[1]),2 in rt&&(ot.finallyLoc=rt[2],ot.afterLoc=rt[3]),this.tryEntries.push(ot)}function pt(rt){var ot=rt.completion||{};ot.type="normal",delete ot.arg,rt.completion=ot}function Z(rt){this.tryEntries=[{tryLoc:"root"}],rt.forEach(Q,this),this.reset(!0)}e.keys=function(rt){var ot=Object(rt),q=[];for(var I in ot)q.push(I);return q.reverse(),function W(){for(;q.length;){var nt=q.pop();if(nt in ot)return W.value=nt,W.done=!1,W}return W.done=!0,W}};function $(rt){if(rt){var ot=rt[l];if(ot)return ot.call(rt);if(typeof rt.next=="function")return rt;if(!isNaN(rt.length)){var q=-1,I=function W(){for(;++q<rt.length;)if(r.call(rt,q))return W.value=rt[q],W.done=!1,W;return W.value=a,W.done=!0,W};return I.next=I}}return{next:st}}e.values=$;function st(){return{value:a,done:!0}}return Z.prototype={constructor:Z,reset:function(rt){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(pt),!rt)for(var ot in this)ot.charAt(0)==="t"&&r.call(this,ot)&&!isNaN(+ot.slice(1))&&(this[ot]=a)},stop:function(){this.done=!0;var rt=this.tryEntries[0],ot=rt.completion;if(ot.type==="throw")throw ot.arg;return this.rval},dispatchException:function(rt){if(this.done)throw rt;var ot=this;function q(mt,yt){return nt.type="throw",nt.arg=rt,ot.next=mt,yt&&(ot.method="next",ot.arg=a),!!yt}for(var I=this.tryEntries.length-1;I>=0;--I){var W=this.tryEntries[I],nt=W.completion;if(W.tryLoc==="root")return q("end");if(W.tryLoc<=this.prev){var lt=r.call(W,"catchLoc"),dt=r.call(W,"finallyLoc");if(lt&&dt){if(this.prev<W.catchLoc)return q(W.catchLoc,!0);if(this.prev<W.finallyLoc)return q(W.finallyLoc)}else if(lt){if(this.prev<W.catchLoc)return q(W.catchLoc,!0)}else if(dt){if(this.prev<W.finallyLoc)return q(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(rt,ot){for(var q=this.tryEntries.length-1;q>=0;--q){var I=this.tryEntries[q];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var W=I;break}}W&&(rt==="break"||rt==="continue")&&W.tryLoc<=ot&&ot<=W.finallyLoc&&(W=null);var nt=W?W.completion:{};return nt.type=rt,nt.arg=ot,W?(this.method="next",this.next=W.finallyLoc,C):this.complete(nt)},complete:function(rt,ot){if(rt.type==="throw")throw rt.arg;return rt.type==="break"||rt.type==="continue"?this.next=rt.arg:rt.type==="return"?(this.rval=this.arg=rt.arg,this.method="return",this.next="end"):rt.type==="normal"&&ot&&(this.next=ot),C},finish:function(rt){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var q=this.tryEntries[ot];if(q.finallyLoc===rt)return this.complete(q.completion,q.afterLoc),pt(q),C}},catch:function(rt){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var q=this.tryEntries[ot];if(q.tryLoc===rt){var I=q.completion;if(I.type==="throw"){var W=I.arg;pt(q)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(rt,ot,q){return this.delegate={iterator:$(rt),resultName:ot,nextLoc:q},this.method==="next"&&(this.arg=a),C}},e})(i.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(A1)),A1.exports}var x1,WA;function n2(){return WA||(WA=1,x1=(i,t)=>`${i}-${t}-${Math.random().toString(16).slice(3,8)}`),x1}var S1,VA;function MC(){if(VA)return S1;VA=1;const i=n2();let t=0;return S1=({id:e,action:n,payload:r={}})=>{let s=e;return typeof s>"u"&&(s=i("Job",t),t+=1),{id:s,action:n,payload:r}},S1}var np={},GA;function r2(){if(GA)return np;GA=1;let i=!1;return np.logging=i,np.setLogging=t=>{i=t},np.log=(...t)=>i?console.log.apply(this,t):null,np}var E1,XA;function hR(){if(XA)return E1;XA=1;const i=MC(),{log:t}=r2(),e=n2();let n=0;return E1=()=>{const r=e("Scheduler",n),s={},a={};let o=[];n+=1;const l=()=>o.length,c=()=>Object.keys(s).length,u=()=>{if(o.length!==0){const y=Object.keys(s);for(let A=0;A<y.length;A+=1)if(typeof a[y[A]]>"u"){o[0](s[y[A]]);break}}},f=(y,A)=>new Promise((w,C)=>{const E=i({action:y,payload:A});o.push(async k=>{o.shift(),a[k.id]=E;try{w(await k[y].apply(this,[...A,E.id]))}catch(L){C(L)}finally{delete a[k.id],u()}}),t(`[${r}]: Add ${E.id} to JobQueue`),t(`[${r}]: JobQueue length=${o.length}`),u()});return{addWorker:y=>(s[y.id]=y,t(`[${r}]: Add ${y.id}`),t(`[${r}]: Number of workers=${c()}`),u(),y.id),addJob:async(y,...A)=>{if(c()===0)throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return f(y,A)},terminate:async()=>{Object.keys(s).forEach(async y=>{await s[y].terminate()}),o=[]},getQueueLen:l,getNumWorkers:c}},E1}function uR(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C1,KA;function dR(){if(KA)return C1;KA=1;function i(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}return C1=i,C1}var k1,YA;function fR(){if(YA)return k1;YA=1;const i=dR();return k1=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":i()?e.type="electron":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof uR=="function"&&(e.type="node"),typeof t>"u"?e:e[t]},k1}var _1,ZA;function pR(){if(ZA)return _1;ZA=1;const t=fR()("type")==="browser"?e=>new URL(e,window.location.href).href:e=>e;return _1=e=>{const n={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(n[r]=t(n[r]))}),n},_1}var P1,JA;function gR(){return JA||(JA=1,P1=i=>{const t=[],e=[],n=[],r=[],s=[];return i.blocks&&i.blocks.forEach(a=>{a.paragraphs.forEach(o=>{o.lines.forEach(l=>{l.words.forEach(c=>{c.symbols.forEach(u=>{s.push({...u,page:i,block:a,paragraph:o,line:l,word:c})}),r.push({...c,page:i,block:a,paragraph:o,line:l})}),n.push({...l,page:i,block:a,paragraph:o})}),e.push({...o,page:i,block:a})}),t.push({...a,page:i})}),{...i,blocks:t,paragraphs:e,lines:n,words:r,symbols:s}}),P1}var T1,QA;function OC(){return QA||(QA=1,T1={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),T1}const mR="5.1.1",vR={version:mR};var L1,$A;function yR(){return $A||($A=1,L1={workerBlobURL:!0,logger:()=>{}}),L1}var N1,tx;function bR(){if(tx)return N1;tx=1;const i=vR.version;return N1={...yR(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${i}/dist/worker.min.js`},N1}var F1,ex;function wR(){return ex||(ex=1,F1=({workerPath:i,workerBlobURL:t})=>{let e;if(Blob&&URL&&t){const n=new Blob([`importScripts("${i}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(n))}else e=new Worker(i);return e}),F1}var R1,nx;function AR(){return nx||(nx=1,R1=i=>{i.terminate()}),R1}var I1,rx;function xR(){return rx||(rx=1,I1=(i,t)=>{i.onmessage=({data:e})=>{t(e)}}),I1}var D1,ix;function SR(){return ix||(ix=1,D1=async(i,t)=>{i.postMessage(t)}),D1}var M1,sx;function ER(){if(sx)return M1;sx=1;const i=e=>new Promise((n,r)=>{const s=new FileReader;s.onload=()=>{n(s.result)},s.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},s.readAsArrayBuffer(e)}),t=async e=>{let n=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?n=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):n=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(n=await t(e.src)),e.tagName==="VIDEO"&&(n=await t(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async s=>{n=await i(s),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();n=await i(r)}else(e instanceof File||e instanceof Blob)&&(n=await i(e));return new Uint8Array(n)};return M1=t,M1}var O1,ax;function CR(){if(ax)return O1;ax=1;const i=bR(),t=wR(),e=AR(),n=xR(),r=SR(),s=ER();return O1={defaultOptions:i,spawnWorker:t,terminateWorker:e,onMessage:n,send:r,loadImage:s},O1}var B1,ox;function BC(){if(ox)return B1;ox=1;const i=pR(),t=gR(),e=MC(),{log:n}=r2(),r=n2(),s=OC(),{defaultOptions:a,spawnWorker:o,terminateWorker:l,onMessage:c,loadImage:u,send:f}=CR();let g=0;return B1=async(p="eng",v=s.LSTM_ONLY,y={},A={})=>{const w=r("Worker",g),{logger:C,errorHandler:E,...k}=i({...a,...y}),L={},R={},M=typeof p=="string"?p.split("+"):p;let j=v,B=A;const X=[s.DEFAULT,s.LSTM_ONLY].includes(v)&&!k.legacyCore;let D,z;const U=new Promise((de,re)=>{z=de,D=re}),Q=de=>{D(de.message)};let pt=o(k);pt.onerror=Q,g+=1;const Z=(de,re)=>{L[de]=re},$=(de,re)=>{R[de]=re},st=({id:de,action:re,payload:ne})=>new Promise((Jt,ye)=>{n(`[${w}]: Start ${de}, action=${re}`);const ce=`${re}-${de}`;Z(ce,Jt),$(ce,ye),f(pt,{workerId:w,jobId:de,action:re,payload:ne})}),rt=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ot=de=>st(e({id:de,action:"load",payload:{options:{lstmOnly:X,corePath:k.corePath,logging:k.logging}}})),q=(de,re,ne)=>st(e({id:ne,action:"FS",payload:{method:"writeFile",args:[de,re]}})),I=(de,re)=>st(e({id:re,action:"FS",payload:{method:"readFile",args:[de,{encoding:"utf8"}]}})),W=(de,re)=>st(e({id:re,action:"FS",payload:{method:"unlink",args:[de]}})),nt=(de,re,ne)=>st(e({id:ne,action:"FS",payload:{method:de,args:re}})),lt=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),dt=(de,re)=>st(e({id:re,action:"loadLanguage",payload:{langs:de,options:{langPath:k.langPath,dataPath:k.dataPath,cachePath:k.cachePath,cacheMethod:k.cacheMethod,gzip:k.gzip,lstmOnly:[s.DEFAULT,s.LSTM_ONLY].includes(j)&&!k.legacyLang}}})),mt=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),yt=(de,re,ne,Jt)=>st(e({id:Jt,action:"initialize",payload:{langs:de,oem:re,config:ne}})),_t=(de="eng",re,ne,Jt)=>{if(X&&[s.TESSERACT_ONLY,s.TESSERACT_LSTM_COMBINED].includes(re))throw Error("Legacy model requested but code missing.");const ye=re||j;j=ye;const ce=ne||B;B=ce;const Ce=(typeof de=="string"?de.split("+"):de).filter(yn=>!M.includes(yn));return M.push(...Ce),Ce.length>0?dt(Ce,Jt).then(()=>yt(de,ye,ce,Jt)):yt(de,ye,ce,Jt)},Ot=(de={},re)=>st(e({id:re,action:"setParameters",payload:{params:de}})),Xt=async(de,re={},ne={blocks:!0,text:!0,hocr:!0,tsv:!0},Jt)=>st(e({id:Jt,action:"recognize",payload:{image:await u(de),options:re,output:ne}})),ee=(de="Tesseract OCR Result",re=!1,ne)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),st(e({id:ne,action:"getPDF",payload:{title:de,textonly:re}}))),le=async(de,re)=>{if(X)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return st(e({id:re,action:"detect",payload:{image:await u(de)}}))},zt=async()=>(pt!==null&&(l(pt),pt=null),Promise.resolve());c(pt,({workerId:de,jobId:re,status:ne,action:Jt,data:ye})=>{const ce=`${Jt}-${re}`;if(ne==="resolve"){n(`[${de}]: Complete ${re}`);let Re=ye;Jt==="recognize"?Re=t(ye):Jt==="getPDF"&&(Re=Array.from({...ye,length:Object.keys(ye).length})),L[ce]({jobId:re,data:Re})}else if(ne==="reject")if(R[ce](ye),Jt==="load"&&D(ye),E)E(ye);else throw Error(ye);else ne==="progress"&&C({...ye,userJobId:re})});const vt={id:w,worker:pt,setResolve:Z,setReject:$,load:rt,writeText:q,readText:I,removeFile:W,FS:nt,loadLanguage:lt,initialize:mt,reinitialize:_t,setParameters:Ot,recognize:Xt,getPDF:ee,detect:le,terminate:zt};return ot().then(()=>dt(p)).then(()=>yt(p,v,A)).then(()=>z(vt)).catch(()=>{}),U},B1}var j1,lx;function kR(){if(lx)return j1;lx=1;const i=BC();return j1={recognize:async(n,r,s)=>{const a=await i(r,1,s);return a.recognize(n).finally(async()=>{await a.terminate()})},detect:async(n,r)=>{const s=await i("osd",0,r);return s.detect(n).finally(async()=>{await s.terminate()})}},j1}var z1,cx;function _R(){return cx||(cx=1,z1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),z1}var U1,hx;function PR(){return hx||(hx=1,U1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),U1}var H1,ux;function TR(){if(ux)return H1;ux=1,cR();const i=hR(),t=BC(),e=kR(),n=_R(),r=OC(),s=PR(),{setLogging:a}=r2();return H1={languages:n,OEM:r,PSM:s,createScheduler:i,createWorker:t,setLogging:a,...e},H1}var LR=TR();Jd.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();class NR{constructor(){this.ocrWorker=null}async initializeOCR(){return this.ocrWorker||(this.ocrWorker=await LR.createWorker("eng+ara")),this.ocrWorker}async extractTextFromPDF(t,e=()=>{}){try{e(10,"Loading PDF document...");const n=await t.arrayBuffer(),r=await Zy(n).promise,s=[],a=r.numPages;e(20,`Processing ${a} pages...`);for(let o=1;o<=a;o++){e(20+o/a*60,`Extracting text from page ${o}...`);const l=await r.getPage(o),c=await l.getTextContent(),u={pageNumber:o,text:"",textItems:[],viewport:l.getViewport({scale:1})};c.items.forEach((f,g)=>{f.str.trim()&&(u.text+=f.str+" ",u.textItems.push({text:f.str,x:f.transform[4],y:f.transform[5],width:f.width,height:f.height,fontName:f.fontName,fontSize:f.transform[0],color:this.extractColor(f),index:g}))}),s.push(u)}return e(90,"Finalizing text extraction..."),s}catch(n){throw console.error("Error extracting text from PDF:",n),new Error(`Failed to extract text: ${n.message}`)}}async extractTextWithOCR(t,e=()=>{}){try{e(10,"Initializing OCR engine..."),await this.initializeOCR(),e(20,"Converting PDF to images...");const n=await this.convertPDFToImages(t),r=[],s=n.length;for(let a=0;a<s;a++){e(20+a/s*60,`OCR processing page ${a+1}...`);const{data:{text:o,words:l}}=await this.ocrWorker.recognize(n[a]),c={pageNumber:a+1,text:o.trim(),textItems:l.map((u,f)=>({text:u.text,x:u.bbox.x0,y:u.bbox.y0,width:u.bbox.x1-u.bbox.x0,height:u.bbox.y1-u.bbox.y0,confidence:u.confidence,index:f})),viewport:{width:n[a].width,height:n[a].height}};r.push(c)}return e(90,"Finalizing OCR processing..."),r}catch(n){throw console.error("Error with OCR processing:",n),new Error(`OCR processing failed: ${n.message}`)}}async convertPDFToImages(t){const e=await t.arrayBuffer(),n=await Zy(e).promise,r=[];for(let s=1;s<=n.numPages;s++){const a=await n.getPage(s),o=a.getViewport({scale:2}),l=document.createElement("canvas"),c=l.getContext("2d");l.height=o.height,l.width=o.width,await a.render({canvasContext:c,viewport:o}).promise,r.push(l)}return r}extractColor(t){return t.color||"#000000"}async isScannedPDF(t){try{return(await this.extractTextFromPDF(t)).reduce((r,s)=>r+s.text.length,0)<100}catch{return!0}}async cleanup(){this.ocrWorker&&(await this.ocrWorker.terminate(),this.ocrWorker=null)}}class FR{constructor(){this.dictionary={},this.phrases={},this.isDictionaryLoaded=!1,this.loadDictionary()}async loadDictionary(){try{const t=await fetch("/public/combined_dictionary.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.dictionary=await t.json(),this.isDictionaryLoaded=!0,console.log("Combined dictionary loaded successfully.")}catch(t){console.error("Failed to load the combined dictionary:",t),this.dictionary={hello:"",world:"",error:"",loading:"",dictionary:""}}}async translatePages(t,e=()=>{}){const n=[],r=t.length;for(let s=0;s<r;s++){e(s/r*100,`Translating page ${s+1} of ${r}...`);const a=t[s],o=await this.translatePage(a);n.push(o),await new Promise(l=>setTimeout(l,500))}return e(100,"Translation complete!"),n}async translatePage(t){const e=[],n=[];for(const r of t.textItems){const s=await this.translateTextItem(r);e.push(s);const a=this.createWordMappings(r.text,s.text);n.push(...a)}return{...t,translatedText:e.map(r=>r.text).join(" "),translatedTextItems:e,wordMappings:n,originalText:t.text}}async translateTextItem(t){const e=await this.translateText(t.text);return{...t,text:e,originalText:t.text}}async translateText(t){const e=t.trim().toLowerCase();for(const[s,a]of Object.entries(this.phrases))if(e.includes(s))return t.replace(new RegExp(s,"gi"),a);return t.split(/\s+/).map(s=>{const a=s.toLowerCase().replace(/[^\w]/g,"");return this.dictionary[a]||this.generateMockTranslation(s)}).join(" ")}createWordMappings(t,e){const n=t.split(/\s+/),r=e.split(/\s+/),s=[],a=Math.max(n.length,r.length);for(let o=0;o<a;o++){const l=n[o]||"",c=r[o]||"";l&&c&&s.push({original:l,translated:c,confidence:this.dictionary[l.toLowerCase().replace(/[^\w]/g,"")]?1:.7,position:o})}return s}generateMockTranslation(t){const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""];if(/^\d+$/.test(t)||/^[^\w]$/.test(t))return t;const n=Math.min(t.length,6);let r="";for(let s=0;s<n;s++)r+=e[Math.floor(Math.random()*e.length)];return r}async getTranslationStats(t){const e={totalPages:t.length,totalWords:0,translatedWords:0,medicalTerms:0,confidence:0};let n=0,r=0;for(const s of t){e.totalWords+=s.textItems.length,e.translatedWords+=s.translatedTextItems.length;for(const a of s.wordMappings)this.isMedicalTerm(a.original)&&e.medicalTerms++,n+=a.confidence,r++}return e.confidence=r>0?n/r:0,e}isMedicalTerm(t){return["medical","patient","doctor","hospital","treatment","diagnosis","medicine","health","blood","pressure","heart","lung","brain","surgery","emergency","clinic","pharmacy","nurse","pain","fever","infection","vaccine","therapy","examination","prescription","symptom","disease","recovery"].includes(t.toLowerCase().replace(/[^\w]/g,""))}exportWordMappings(t){const e=[];return t.forEach((n,r)=>{n.wordMappings.forEach(s=>{e.push({page:r+1,original:s.original,translated:s.translated,confidence:s.confidence,isMedical:this.isMedicalTerm(s.original)})})}),e}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eb=function(i,t){return eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},eb(i,t)};function ge(i,t){eb(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var mn=function(){return mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},mn.apply(this,arguments)};function RR(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e}function _n(i,t,e,n){function r(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(f){a(f)}}function l(u){try{c(n.throw(u))}catch(f){a(f)}}function c(u){u.done?s(u.value):r(u.value).then(o,l)}c((n=n.apply(i,[])).next())})}function Pn(i,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(i,e)}catch(u){c=[6,u],r=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Vn(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;for(var n=Array(i),r=0,t=0;t<e;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)n[r]=s[a];return n}var Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wp=new Uint8Array(256);for(var f0=0;f0<Vd.length;f0++)wp[Vd.charCodeAt(f0)]=f0;var IR=function(i){for(var t="",e=i.length,n=0;n<e;n+=3)t+=Vd[i[n]>>2],t+=Vd[(i[n]&3)<<4|i[n+1]>>4],t+=Vd[(i[n+1]&15)<<2|i[n+2]>>6],t+=Vd[i[n+2]&63];return e%3===2?t=t.substring(0,t.length-1)+"=":e%3===1&&(t=t.substring(0,t.length-2)+"=="),t},dx=function(i){var t=i.length*.75,e=i.length,n,r=0,s,a,o,l;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);var c=new Uint8Array(t);for(n=0;n<e;n+=4)s=wp[i.charCodeAt(n)],a=wp[i.charCodeAt(n+1)],o=wp[i.charCodeAt(n+2)],l=wp[i.charCodeAt(n+3)],c[r++]=s<<2|a>>4,c[r++]=(a&15)<<4|o>>2,c[r++]=(o&3)<<6|l&63;return c},DR=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,MR=function(i){var t=i.trim(),e=t.substring(0,100),n=e.match(DR);if(!n)return dx(t);var r=n[0],s=t.substring(r.length);return dx(s)},fn=function(i){return i.charCodeAt(0)},OR=function(i){return i.codePointAt(0)},ag=function(i,t){return $o(i.toString(16),t,"0").toUpperCase()},zm=function(i){return ag(i,2)},Lc=function(i){return String.fromCharCode(i)},BR=function(i){return Lc(parseInt(i,16))},$o=function(i,t,e){for(var n="",r=0,s=t-i.length;r<s;r++)n+=e;return n+i},gs=function(i,t,e){for(var n=i.length,r=0;r<n;r++)t[e++]=i.charCodeAt(r);return n},jR=function(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},og=function(i){return i.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},zR=["\\n","\\f","\\r","\\u000B"],jC=function(i){return/^[\n\f\r\u000B]$/.test(i)},zC=function(i){return i.split(/[\n\f\r\u000B]/)},UC=function(i){return i.replace(/[\n\f\r\u000B]/g," ")},HC=function(i,t){var e=i.charCodeAt(t),n,r=t+1,s=1;return e>=55296&&e<=56319&&i.length>r&&(n=i.charCodeAt(r),n>=56320&&n<=57343&&(s=2)),[i.slice(t,t+s),s]},UR=function(i){for(var t=[],e=0,n=i.length;e<n;){var r=HC(i,e),s=r[0],a=r[1];t.push(s),e+=a}return t},HR=function(i){for(var t=zR.join("|"),e=["$"],n=0,r=i.length;n<r;n++){var s=i[n];if(jC(s))throw new TypeError("`wordBreak` must not include "+t);e.push(s===""?".":jR(s))}var a=e.join("|");return new RegExp("("+t+")|((.*?)("+a+"))","gm")},qR=function(i,t,e,n){for(var r=HR(t),s=og(i).match(r),a="",o=0,l=[],c=function(){a!==""&&l.push(a),a="",o=0},u=0,f=s.length;u<f;u++){var g=s[u];if(jC(g))c();else{var p=n(g);o+p>e&&c(),a+=g,o+=p}}return c(),l},WR=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,qC=function(i){var t=i.match(WR);if(t){var e=t[1],n=t[2],r=n===void 0?"01":n,s=t[3],a=s===void 0?"01":s,o=t[4],l=o===void 0?"00":o,c=t[5],u=c===void 0?"00":c,f=t[6],g=f===void 0?"00":f,p=t[7],v=p===void 0?"Z":p,y=t[8],A=y===void 0?"00":y,w=t[9],C=w===void 0?"00":w,E=v==="Z"?"Z":""+v+A+":"+C,k=new Date(e+"-"+r+"-"+a+"T"+l+":"+u+":"+g+E);return k}},i2=function(i,t){for(var e,n=0,r;n<i.length;){var s=i.substring(n).match(t);if(!s)return{match:r,pos:n};r=s,n+=((e=s.index)!==null&&e!==void 0?e:0)+s[0].length}return{match:r,pos:n}},om=function(i){return i[i.length-1]},nb=function(i){if(i instanceof Uint8Array)return i;for(var t=i.length,e=new Uint8Array(t),n=0;n<t;n++)e[n]=i.charCodeAt(n);return e},VR=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=i.length,n=[],r=0;r<e;r++){var s=i[r];n[r]=s instanceof Uint8Array?s:nb(s)}for(var a=0,r=0;r<e;r++)a+=i[r].length;for(var o=new Uint8Array(a),l=0,c=0;c<e;c++)for(var u=n[c],f=0,g=u.length;f<g;f++)o[l++]=u[f];return o},GR=function(i){for(var t=0,e=0,n=i.length;e<n;e++)t+=i[e].length;for(var r=new Uint8Array(t),s=0,e=0,n=i.length;e<n;e++){var a=i[e];r.set(a,s),s+=a.length}return r},WC=function(i){for(var t="",e=0,n=i.length;e<n;e++)t+=Lc(i[e]);return t},XR=function(i,t){return i.id-t.id},KR=function(i,t){for(var e=[],n=0,r=i.length;n<r;n++){var s=i[n],a=i[n-1];(n===0||t(s)!==t(a))&&e.push(s)}return e},Cd=function(i){for(var t=i.length,e=0,n=Math.floor(t/2);e<n;e++){var r=e,s=t-e-1,a=i[e];i[r]=i[s],i[s]=a}return i},YR=function(i){for(var t=0,e=0,n=i.length;e<n;e++)t+=i[e];return t},ZR=function(i,t){for(var e=new Array(t-i),n=0,r=e.length;n<r;n++)e[n]=i+n;return e},JR=function(i,t){for(var e=new Array(t.length),n=0,r=t.length;n<r;n++)e[n]=i[t[n]];return e},QR=function(i){return i instanceof Uint8Array||i instanceof ArrayBuffer||typeof i=="string"},rp=function(i){if(typeof i=="string")return MR(i);if(i instanceof ArrayBuffer)return new Uint8Array(i);if(i instanceof Uint8Array)return i;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},cf=function(){return new Promise(function(i){setTimeout(function(){return i()},0)})},$R=function(i,t){t===void 0&&(t=!0);var e=[];t&&e.push(65279);for(var n=0,r=i.length;n<r;){var s=i.codePointAt(n);if(s<65536)e.push(s),n+=1;else if(s<1114112)e.push(VC(s),GC(s)),n+=2;else throw new Error("Invalid code point: 0x"+zm(s))}return new Uint16Array(e)},t4=function(i){return i>=0&&i<=65535},e4=function(i){return i>=65536&&i<=1114111},VC=function(i){return Math.floor((i-65536)/1024)+55296},GC=function(i){return(i-65536)%1024+56320},Ph;(function(i){i.BigEndian="BigEndian",i.LittleEndian="LittleEndian"})(Ph||(Ph={}));var ip="".codePointAt(0),XC=function(i,t){if(t===void 0&&(t=!0),i.length<=1)return String.fromCodePoint(ip);for(var e=t?r4(i):Ph.BigEndian,n=t?2:0,r=[];i.length-n>=2;){var s=px(i[n++],i[n++],e);if(n4(s))if(i.length-n<2)r.push(ip);else{var a=px(i[n++],i[n++],e);fx(a)?r.push(s,a):r.push(ip)}else fx(s)?(n+=2,r.push(ip)):r.push(s)}return n<i.length&&r.push(ip),String.fromCodePoint.apply(String,r)},n4=function(i){return i>=55296&&i<=56319},fx=function(i){return i>=56320&&i<=57343},px=function(i,t,e){if(e===Ph.LittleEndian)return t<<8|i;if(e===Ph.BigEndian)return i<<8|t;throw new Error("Invalid byteOrder: "+e)},r4=function(i){return KC(i)?Ph.BigEndian:YC(i)?Ph.LittleEndian:Ph.BigEndian},KC=function(i){return i[0]===254&&i[1]===255},YC=function(i){return i[0]===255&&i[1]===254},ZC=function(i){return KC(i)||YC(i)},i4=function(i){var t=String(i);if(Math.abs(i)<1){var e=parseInt(i.toString().split("e-")[1]);if(e){var n=i<0;n&&(i*=-1),i*=Math.pow(10,e-1),t="0."+new Array(e).join("0")+i.toString().substring(2),n&&(t="-"+t)}}else{var e=parseInt(i.toString().split("+")[1]);e>20&&(e-=20,i/=Math.pow(10,e),t=i.toString()+new Array(e+1).join("0"))}return t},U0=function(i){return Math.ceil(i.toString(2).length/8)},kd=function(i){for(var t=new Uint8Array(U0(i)),e=1;e<=t.length;e++)t[e-1]=i>>(t.length-e)*8;return t},lg=function(i){throw new Error(i)},q1={},gx;function Oh(){return gx||(gx=1,(function(i){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(s,a){return Object.prototype.hasOwnProperty.call(s,a)}i.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var o=a.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var l in o)e(o,l)&&(s[l]=o[l])}}return s},i.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var n={arraySet:function(s,a,o,l,c){if(a.subarray&&s.subarray){s.set(a.subarray(o,o+l),c);return}for(var u=0;u<l;u++)s[c+u]=a[o+u]},flattenChunks:function(s){var a,o,l,c,u,f;for(l=0,a=0,o=s.length;a<o;a++)l+=s[a].length;for(f=new Uint8Array(l),c=0,a=0,o=s.length;a<o;a++)u=s[a],f.set(u,c),c+=u.length;return f}},r={arraySet:function(s,a,o,l,c){for(var u=0;u<l;u++)s[c+u]=a[o+u]},flattenChunks:function(s){return[].concat.apply([],s)}};i.setTyped=function(s){s?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(t)})(q1)),q1}var _d={},Xo={},pu={},mx;function s4(){if(mx)return pu;mx=1;var i=Oh(),t=4,e=0,n=1,r=2;function s(tt){for(var Kt=tt.length;--Kt>=0;)tt[Kt]=0}var a=0,o=1,l=2,c=3,u=258,f=29,g=256,p=g+1+f,v=30,y=19,A=2*p+1,w=15,C=16,E=7,k=256,L=16,R=17,M=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,U=new Array((p+2)*2);s(U);var Q=new Array(v*2);s(Q);var pt=new Array(z);s(pt);var Z=new Array(u-c+1);s(Z);var $=new Array(f);s($);var st=new Array(v);s(st);function rt(tt,Kt,Qt,Yt,At){this.static_tree=tt,this.extra_bits=Kt,this.extra_base=Qt,this.elems=Yt,this.max_length=At,this.has_stree=tt&&tt.length}var ot,q,I;function W(tt,Kt){this.dyn_tree=tt,this.max_code=0,this.stat_desc=Kt}function nt(tt){return tt<256?pt[tt]:pt[256+(tt>>>7)]}function lt(tt,Kt){tt.pending_buf[tt.pending++]=Kt&255,tt.pending_buf[tt.pending++]=Kt>>>8&255}function dt(tt,Kt,Qt){tt.bi_valid>C-Qt?(tt.bi_buf|=Kt<<tt.bi_valid&65535,lt(tt,tt.bi_buf),tt.bi_buf=Kt>>C-tt.bi_valid,tt.bi_valid+=Qt-C):(tt.bi_buf|=Kt<<tt.bi_valid&65535,tt.bi_valid+=Qt)}function mt(tt,Kt,Qt){dt(tt,Qt[Kt*2],Qt[Kt*2+1])}function yt(tt,Kt){var Qt=0;do Qt|=tt&1,tt>>>=1,Qt<<=1;while(--Kt>0);return Qt>>>1}function _t(tt){tt.bi_valid===16?(lt(tt,tt.bi_buf),tt.bi_buf=0,tt.bi_valid=0):tt.bi_valid>=8&&(tt.pending_buf[tt.pending++]=tt.bi_buf&255,tt.bi_buf>>=8,tt.bi_valid-=8)}function Ot(tt,Kt){var Qt=Kt.dyn_tree,Yt=Kt.max_code,At=Kt.stat_desc.static_tree,Bt=Kt.stat_desc.has_stree,H=Kt.stat_desc.extra_bits,qt=Kt.stat_desc.extra_base,he=Kt.stat_desc.max_length,N,Nt,Lt,K,wt,Mt,xe=0;for(K=0;K<=w;K++)tt.bl_count[K]=0;for(Qt[tt.heap[tt.heap_max]*2+1]=0,N=tt.heap_max+1;N<A;N++)Nt=tt.heap[N],K=Qt[Qt[Nt*2+1]*2+1]+1,K>he&&(K=he,xe++),Qt[Nt*2+1]=K,!(Nt>Yt)&&(tt.bl_count[K]++,wt=0,Nt>=qt&&(wt=H[Nt-qt]),Mt=Qt[Nt*2],tt.opt_len+=Mt*(K+wt),Bt&&(tt.static_len+=Mt*(At[Nt*2+1]+wt)));if(xe!==0){do{for(K=he-1;tt.bl_count[K]===0;)K--;tt.bl_count[K]--,tt.bl_count[K+1]+=2,tt.bl_count[he]--,xe-=2}while(xe>0);for(K=he;K!==0;K--)for(Nt=tt.bl_count[K];Nt!==0;)Lt=tt.heap[--N],!(Lt>Yt)&&(Qt[Lt*2+1]!==K&&(tt.opt_len+=(K-Qt[Lt*2+1])*Qt[Lt*2],Qt[Lt*2+1]=K),Nt--)}}function Xt(tt,Kt,Qt){var Yt=new Array(w+1),At=0,Bt,H;for(Bt=1;Bt<=w;Bt++)Yt[Bt]=At=At+Qt[Bt-1]<<1;for(H=0;H<=Kt;H++){var qt=tt[H*2+1];qt!==0&&(tt[H*2]=yt(Yt[qt]++,qt))}}function ee(){var tt,Kt,Qt,Yt,At,Bt=new Array(w+1);for(Qt=0,Yt=0;Yt<f-1;Yt++)for($[Yt]=Qt,tt=0;tt<1<<j[Yt];tt++)Z[Qt++]=Yt;for(Z[Qt-1]=Yt,At=0,Yt=0;Yt<16;Yt++)for(st[Yt]=At,tt=0;tt<1<<B[Yt];tt++)pt[At++]=Yt;for(At>>=7;Yt<v;Yt++)for(st[Yt]=At<<7,tt=0;tt<1<<B[Yt]-7;tt++)pt[256+At++]=Yt;for(Kt=0;Kt<=w;Kt++)Bt[Kt]=0;for(tt=0;tt<=143;)U[tt*2+1]=8,tt++,Bt[8]++;for(;tt<=255;)U[tt*2+1]=9,tt++,Bt[9]++;for(;tt<=279;)U[tt*2+1]=7,tt++,Bt[7]++;for(;tt<=287;)U[tt*2+1]=8,tt++,Bt[8]++;for(Xt(U,p+1,Bt),tt=0;tt<v;tt++)Q[tt*2+1]=5,Q[tt*2]=yt(tt,5);ot=new rt(U,j,g+1,p,w),q=new rt(Q,B,0,v,w),I=new rt(new Array(0),X,0,y,E)}function le(tt){var Kt;for(Kt=0;Kt<p;Kt++)tt.dyn_ltree[Kt*2]=0;for(Kt=0;Kt<v;Kt++)tt.dyn_dtree[Kt*2]=0;for(Kt=0;Kt<y;Kt++)tt.bl_tree[Kt*2]=0;tt.dyn_ltree[k*2]=1,tt.opt_len=tt.static_len=0,tt.last_lit=tt.matches=0}function zt(tt){tt.bi_valid>8?lt(tt,tt.bi_buf):tt.bi_valid>0&&(tt.pending_buf[tt.pending++]=tt.bi_buf),tt.bi_buf=0,tt.bi_valid=0}function vt(tt,Kt,Qt,Yt){zt(tt),lt(tt,Qt),lt(tt,~Qt),i.arraySet(tt.pending_buf,tt.window,Kt,Qt,tt.pending),tt.pending+=Qt}function de(tt,Kt,Qt,Yt){var At=Kt*2,Bt=Qt*2;return tt[At]<tt[Bt]||tt[At]===tt[Bt]&&Yt[Kt]<=Yt[Qt]}function re(tt,Kt,Qt){for(var Yt=tt.heap[Qt],At=Qt<<1;At<=tt.heap_len&&(At<tt.heap_len&&de(Kt,tt.heap[At+1],tt.heap[At],tt.depth)&&At++,!de(Kt,Yt,tt.heap[At],tt.depth));)tt.heap[Qt]=tt.heap[At],Qt=At,At<<=1;tt.heap[Qt]=Yt}function ne(tt,Kt,Qt){var Yt,At,Bt=0,H,qt;if(tt.last_lit!==0)do Yt=tt.pending_buf[tt.d_buf+Bt*2]<<8|tt.pending_buf[tt.d_buf+Bt*2+1],At=tt.pending_buf[tt.l_buf+Bt],Bt++,Yt===0?mt(tt,At,Kt):(H=Z[At],mt(tt,H+g+1,Kt),qt=j[H],qt!==0&&(At-=$[H],dt(tt,At,qt)),Yt--,H=nt(Yt),mt(tt,H,Qt),qt=B[H],qt!==0&&(Yt-=st[H],dt(tt,Yt,qt)));while(Bt<tt.last_lit);mt(tt,k,Kt)}function Jt(tt,Kt){var Qt=Kt.dyn_tree,Yt=Kt.stat_desc.static_tree,At=Kt.stat_desc.has_stree,Bt=Kt.stat_desc.elems,H,qt,he=-1,N;for(tt.heap_len=0,tt.heap_max=A,H=0;H<Bt;H++)Qt[H*2]!==0?(tt.heap[++tt.heap_len]=he=H,tt.depth[H]=0):Qt[H*2+1]=0;for(;tt.heap_len<2;)N=tt.heap[++tt.heap_len]=he<2?++he:0,Qt[N*2]=1,tt.depth[N]=0,tt.opt_len--,At&&(tt.static_len-=Yt[N*2+1]);for(Kt.max_code=he,H=tt.heap_len>>1;H>=1;H--)re(tt,Qt,H);N=Bt;do H=tt.heap[1],tt.heap[1]=tt.heap[tt.heap_len--],re(tt,Qt,1),qt=tt.heap[1],tt.heap[--tt.heap_max]=H,tt.heap[--tt.heap_max]=qt,Qt[N*2]=Qt[H*2]+Qt[qt*2],tt.depth[N]=(tt.depth[H]>=tt.depth[qt]?tt.depth[H]:tt.depth[qt])+1,Qt[H*2+1]=Qt[qt*2+1]=N,tt.heap[1]=N++,re(tt,Qt,1);while(tt.heap_len>=2);tt.heap[--tt.heap_max]=tt.heap[1],Ot(tt,Kt),Xt(Qt,he,tt.bl_count)}function ye(tt,Kt,Qt){var Yt,At=-1,Bt,H=Kt[1],qt=0,he=7,N=4;for(H===0&&(he=138,N=3),Kt[(Qt+1)*2+1]=65535,Yt=0;Yt<=Qt;Yt++)Bt=H,H=Kt[(Yt+1)*2+1],!(++qt<he&&Bt===H)&&(qt<N?tt.bl_tree[Bt*2]+=qt:Bt!==0?(Bt!==At&&tt.bl_tree[Bt*2]++,tt.bl_tree[L*2]++):qt<=10?tt.bl_tree[R*2]++:tt.bl_tree[M*2]++,qt=0,At=Bt,H===0?(he=138,N=3):Bt===H?(he=6,N=3):(he=7,N=4))}function ce(tt,Kt,Qt){var Yt,At=-1,Bt,H=Kt[1],qt=0,he=7,N=4;for(H===0&&(he=138,N=3),Yt=0;Yt<=Qt;Yt++)if(Bt=H,H=Kt[(Yt+1)*2+1],!(++qt<he&&Bt===H)){if(qt<N)do mt(tt,Bt,tt.bl_tree);while(--qt!==0);else Bt!==0?(Bt!==At&&(mt(tt,Bt,tt.bl_tree),qt--),mt(tt,L,tt.bl_tree),dt(tt,qt-3,2)):qt<=10?(mt(tt,R,tt.bl_tree),dt(tt,qt-3,3)):(mt(tt,M,tt.bl_tree),dt(tt,qt-11,7));qt=0,At=Bt,H===0?(he=138,N=3):Bt===H?(he=6,N=3):(he=7,N=4)}}function Re(tt){var Kt;for(ye(tt,tt.dyn_ltree,tt.l_desc.max_code),ye(tt,tt.dyn_dtree,tt.d_desc.max_code),Jt(tt,tt.bl_desc),Kt=y-1;Kt>=3&&tt.bl_tree[D[Kt]*2+1]===0;Kt--);return tt.opt_len+=3*(Kt+1)+5+5+4,Kt}function Ce(tt,Kt,Qt,Yt){var At;for(dt(tt,Kt-257,5),dt(tt,Qt-1,5),dt(tt,Yt-4,4),At=0;At<Yt;At++)dt(tt,tt.bl_tree[D[At]*2+1],3);ce(tt,tt.dyn_ltree,Kt-1),ce(tt,tt.dyn_dtree,Qt-1)}function yn(tt){var Kt=4093624447,Qt;for(Qt=0;Qt<=31;Qt++,Kt>>>=1)if(Kt&1&&tt.dyn_ltree[Qt*2]!==0)return e;if(tt.dyn_ltree[18]!==0||tt.dyn_ltree[20]!==0||tt.dyn_ltree[26]!==0)return n;for(Qt=32;Qt<g;Qt++)if(tt.dyn_ltree[Qt*2]!==0)return n;return e}var qe=!1;function Ke(tt){qe||(ee(),qe=!0),tt.l_desc=new W(tt.dyn_ltree,ot),tt.d_desc=new W(tt.dyn_dtree,q),tt.bl_desc=new W(tt.bl_tree,I),tt.bi_buf=0,tt.bi_valid=0,le(tt)}function Ln(tt,Kt,Qt,Yt){dt(tt,(a<<1)+(Yt?1:0),3),vt(tt,Kt,Qt)}function Ie(tt){dt(tt,o<<1,3),mt(tt,k,U),_t(tt)}function Ee(tt,Kt,Qt,Yt){var At,Bt,H=0;tt.level>0?(tt.strm.data_type===r&&(tt.strm.data_type=yn(tt)),Jt(tt,tt.l_desc),Jt(tt,tt.d_desc),H=Re(tt),At=tt.opt_len+3+7>>>3,Bt=tt.static_len+3+7>>>3,Bt<=At&&(At=Bt)):At=Bt=Qt+5,Qt+4<=At&&Kt!==-1?Ln(tt,Kt,Qt,Yt):tt.strategy===t||Bt===At?(dt(tt,(o<<1)+(Yt?1:0),3),ne(tt,U,Q)):(dt(tt,(l<<1)+(Yt?1:0),3),Ce(tt,tt.l_desc.max_code+1,tt.d_desc.max_code+1,H+1),ne(tt,tt.dyn_ltree,tt.dyn_dtree)),le(tt),Yt&&zt(tt)}function Ue(tt,Kt,Qt){return tt.pending_buf[tt.d_buf+tt.last_lit*2]=Kt>>>8&255,tt.pending_buf[tt.d_buf+tt.last_lit*2+1]=Kt&255,tt.pending_buf[tt.l_buf+tt.last_lit]=Qt&255,tt.last_lit++,Kt===0?tt.dyn_ltree[Qt*2]++:(tt.matches++,Kt--,tt.dyn_ltree[(Z[Qt]+g+1)*2]++,tt.dyn_dtree[nt(Kt)*2]++),tt.last_lit===tt.lit_bufsize-1}return pu._tr_init=Ke,pu._tr_stored_block=Ln,pu._tr_flush_block=Ee,pu._tr_tally=Ue,pu._tr_align=Ie,pu}var W1,vx;function JC(){if(vx)return W1;vx=1;function i(t,e,n,r){for(var s=t&65535|0,a=t>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+e[r++]|0,a=a+s|0;while(--o);s%=65521,a%=65521}return s|a<<16|0}return W1=i,W1}var V1,yx;function QC(){if(yx)return V1;yx=1;function i(){for(var n,r=[],s=0;s<256;s++){n=s;for(var a=0;a<8;a++)n=n&1?3988292384^n>>>1:n>>>1;r[s]=n}return r}var t=i();function e(n,r,s,a){var o=t,l=a+s;n^=-1;for(var c=a;c<l;c++)n=n>>>8^o[(n^r[c])&255];return n^-1}return V1=e,V1}var G1,bx;function s2(){return bx||(bx=1,G1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),G1}var wx;function a4(){if(wx)return Xo;wx=1;var i=Oh(),t=s4(),e=JC(),n=QC(),r=s2(),s=0,a=1,o=3,l=4,c=5,u=0,f=1,g=-2,p=-3,v=-5,y=-1,A=1,w=2,C=3,E=4,k=0,L=2,R=8,M=9,j=15,B=8,X=29,D=256,z=D+1+X,U=30,Q=19,pt=2*z+1,Z=15,$=3,st=258,rt=st+$+1,ot=32,q=42,I=69,W=73,nt=91,lt=103,dt=113,mt=666,yt=1,_t=2,Ot=3,Xt=4,ee=3;function le(N,Nt){return N.msg=r[Nt],Nt}function zt(N){return(N<<1)-(N>4?9:0)}function vt(N){for(var Nt=N.length;--Nt>=0;)N[Nt]=0}function de(N){var Nt=N.state,Lt=Nt.pending;Lt>N.avail_out&&(Lt=N.avail_out),Lt!==0&&(i.arraySet(N.output,Nt.pending_buf,Nt.pending_out,Lt,N.next_out),N.next_out+=Lt,Nt.pending_out+=Lt,N.total_out+=Lt,N.avail_out-=Lt,Nt.pending-=Lt,Nt.pending===0&&(Nt.pending_out=0))}function re(N,Nt){t._tr_flush_block(N,N.block_start>=0?N.block_start:-1,N.strstart-N.block_start,Nt),N.block_start=N.strstart,de(N.strm)}function ne(N,Nt){N.pending_buf[N.pending++]=Nt}function Jt(N,Nt){N.pending_buf[N.pending++]=Nt>>>8&255,N.pending_buf[N.pending++]=Nt&255}function ye(N,Nt,Lt,K){var wt=N.avail_in;return wt>K&&(wt=K),wt===0?0:(N.avail_in-=wt,i.arraySet(Nt,N.input,N.next_in,wt,Lt),N.state.wrap===1?N.adler=e(N.adler,Nt,wt,Lt):N.state.wrap===2&&(N.adler=n(N.adler,Nt,wt,Lt)),N.next_in+=wt,N.total_in+=wt,wt)}function ce(N,Nt){var Lt=N.max_chain_length,K=N.strstart,wt,Mt,xe=N.prev_length,be=N.nice_match,Ae=N.strstart>N.w_size-rt?N.strstart-(N.w_size-rt):0,ve=N.window,Rr=N.w_mask,Bn=N.prev,Ye=N.strstart+st,Xn=ve[K+xe-1],bn=ve[K+xe];N.prev_length>=N.good_match&&(Lt>>=2),be>N.lookahead&&(be=N.lookahead);do if(wt=Nt,!(ve[wt+xe]!==bn||ve[wt+xe-1]!==Xn||ve[wt]!==ve[K]||ve[++wt]!==ve[K+1])){K+=2,wt++;do;while(ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&ve[++K]===ve[++wt]&&K<Ye);if(Mt=st-(Ye-K),K=Ye-st,Mt>xe){if(N.match_start=Nt,xe=Mt,Mt>=be)break;Xn=ve[K+xe-1],bn=ve[K+xe]}}while((Nt=Bn[Nt&Rr])>Ae&&--Lt!==0);return xe<=N.lookahead?xe:N.lookahead}function Re(N){var Nt=N.w_size,Lt,K,wt,Mt,xe;do{if(Mt=N.window_size-N.lookahead-N.strstart,N.strstart>=Nt+(Nt-rt)){i.arraySet(N.window,N.window,Nt,Nt,0),N.match_start-=Nt,N.strstart-=Nt,N.block_start-=Nt,K=N.hash_size,Lt=K;do wt=N.head[--Lt],N.head[Lt]=wt>=Nt?wt-Nt:0;while(--K);K=Nt,Lt=K;do wt=N.prev[--Lt],N.prev[Lt]=wt>=Nt?wt-Nt:0;while(--K);Mt+=Nt}if(N.strm.avail_in===0)break;if(K=ye(N.strm,N.window,N.strstart+N.lookahead,Mt),N.lookahead+=K,N.lookahead+N.insert>=$)for(xe=N.strstart-N.insert,N.ins_h=N.window[xe],N.ins_h=(N.ins_h<<N.hash_shift^N.window[xe+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[xe+$-1])&N.hash_mask,N.prev[xe&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=xe,xe++,N.insert--,!(N.lookahead+N.insert<$)););}while(N.lookahead<rt&&N.strm.avail_in!==0)}function Ce(N,Nt){var Lt=65535;for(Lt>N.pending_buf_size-5&&(Lt=N.pending_buf_size-5);;){if(N.lookahead<=1){if(Re(N),N.lookahead===0&&Nt===s)return yt;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var K=N.block_start+Lt;if((N.strstart===0||N.strstart>=K)&&(N.lookahead=N.strstart-K,N.strstart=K,re(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-rt&&(re(N,!1),N.strm.avail_out===0))return yt}return N.insert=0,Nt===l?(re(N,!0),N.strm.avail_out===0?Ot:Xt):(N.strstart>N.block_start&&(re(N,!1),N.strm.avail_out===0),yt)}function yn(N,Nt){for(var Lt,K;;){if(N.lookahead<rt){if(Re(N),N.lookahead<rt&&Nt===s)return yt;if(N.lookahead===0)break}if(Lt=0,N.lookahead>=$&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+$-1])&N.hash_mask,Lt=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),Lt!==0&&N.strstart-Lt<=N.w_size-rt&&(N.match_length=ce(N,Lt)),N.match_length>=$)if(K=t._tr_tally(N,N.strstart-N.match_start,N.match_length-$),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=$){N.match_length--;do N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+$-1])&N.hash_mask,Lt=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart;while(--N.match_length!==0);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else K=t._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(K&&(re(N,!1),N.strm.avail_out===0))return yt}return N.insert=N.strstart<$-1?N.strstart:$-1,Nt===l?(re(N,!0),N.strm.avail_out===0?Ot:Xt):N.last_lit&&(re(N,!1),N.strm.avail_out===0)?yt:_t}function qe(N,Nt){for(var Lt,K,wt;;){if(N.lookahead<rt){if(Re(N),N.lookahead<rt&&Nt===s)return yt;if(N.lookahead===0)break}if(Lt=0,N.lookahead>=$&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+$-1])&N.hash_mask,Lt=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=$-1,Lt!==0&&N.prev_length<N.max_lazy_match&&N.strstart-Lt<=N.w_size-rt&&(N.match_length=ce(N,Lt),N.match_length<=5&&(N.strategy===A||N.match_length===$&&N.strstart-N.match_start>4096)&&(N.match_length=$-1)),N.prev_length>=$&&N.match_length<=N.prev_length){wt=N.strstart+N.lookahead-$,K=t._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-$),N.lookahead-=N.prev_length-1,N.prev_length-=2;do++N.strstart<=wt&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+$-1])&N.hash_mask,Lt=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart);while(--N.prev_length!==0);if(N.match_available=0,N.match_length=$-1,N.strstart++,K&&(re(N,!1),N.strm.avail_out===0))return yt}else if(N.match_available){if(K=t._tr_tally(N,0,N.window[N.strstart-1]),K&&re(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return yt}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(K=t._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<$-1?N.strstart:$-1,Nt===l?(re(N,!0),N.strm.avail_out===0?Ot:Xt):N.last_lit&&(re(N,!1),N.strm.avail_out===0)?yt:_t}function Ke(N,Nt){for(var Lt,K,wt,Mt,xe=N.window;;){if(N.lookahead<=st){if(Re(N),N.lookahead<=st&&Nt===s)return yt;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=$&&N.strstart>0&&(wt=N.strstart-1,K=xe[wt],K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt])){Mt=N.strstart+st;do;while(K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt]&&K===xe[++wt]&&wt<Mt);N.match_length=st-(Mt-wt),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=$?(Lt=t._tr_tally(N,1,N.match_length-$),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Lt=t._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Lt&&(re(N,!1),N.strm.avail_out===0))return yt}return N.insert=0,Nt===l?(re(N,!0),N.strm.avail_out===0?Ot:Xt):N.last_lit&&(re(N,!1),N.strm.avail_out===0)?yt:_t}function Ln(N,Nt){for(var Lt;;){if(N.lookahead===0&&(Re(N),N.lookahead===0)){if(Nt===s)return yt;break}if(N.match_length=0,Lt=t._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Lt&&(re(N,!1),N.strm.avail_out===0))return yt}return N.insert=0,Nt===l?(re(N,!0),N.strm.avail_out===0?Ot:Xt):N.last_lit&&(re(N,!1),N.strm.avail_out===0)?yt:_t}function Ie(N,Nt,Lt,K,wt){this.good_length=N,this.max_lazy=Nt,this.nice_length=Lt,this.max_chain=K,this.func=wt}var Ee;Ee=[new Ie(0,0,0,0,Ce),new Ie(4,4,8,4,yn),new Ie(4,5,16,8,yn),new Ie(4,6,32,32,yn),new Ie(4,4,16,16,qe),new Ie(8,16,32,32,qe),new Ie(8,16,128,128,qe),new Ie(8,32,128,256,qe),new Ie(32,128,258,1024,qe),new Ie(32,258,258,4096,qe)];function Ue(N){N.window_size=2*N.w_size,vt(N.head),N.max_lazy_match=Ee[N.level].max_lazy,N.good_match=Ee[N.level].good_length,N.nice_match=Ee[N.level].nice_length,N.max_chain_length=Ee[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=$-1,N.match_available=0,N.ins_h=0}function tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(pt*2),this.dyn_dtree=new i.Buf16((2*U+1)*2),this.bl_tree=new i.Buf16((2*Q+1)*2),vt(this.dyn_ltree),vt(this.dyn_dtree),vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(Z+1),this.heap=new i.Buf16(2*z+1),vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*z+1),vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Kt(N){var Nt;return!N||!N.state?le(N,g):(N.total_in=N.total_out=0,N.data_type=L,Nt=N.state,Nt.pending=0,Nt.pending_out=0,Nt.wrap<0&&(Nt.wrap=-Nt.wrap),Nt.status=Nt.wrap?q:dt,N.adler=Nt.wrap===2?0:1,Nt.last_flush=s,t._tr_init(Nt),u)}function Qt(N){var Nt=Kt(N);return Nt===u&&Ue(N.state),Nt}function Yt(N,Nt){return!N||!N.state||N.state.wrap!==2?g:(N.state.gzhead=Nt,u)}function At(N,Nt,Lt,K,wt,Mt){if(!N)return g;var xe=1;if(Nt===y&&(Nt=6),K<0?(xe=0,K=-K):K>15&&(xe=2,K-=16),wt<1||wt>M||Lt!==R||K<8||K>15||Nt<0||Nt>9||Mt<0||Mt>E)return le(N,g);K===8&&(K=9);var be=new tt;return N.state=be,be.strm=N,be.wrap=xe,be.gzhead=null,be.w_bits=K,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=wt+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+$-1)/$),be.window=new i.Buf8(be.w_size*2),be.head=new i.Buf16(be.hash_size),be.prev=new i.Buf16(be.w_size),be.lit_bufsize=1<<wt+6,be.pending_buf_size=be.lit_bufsize*4,be.pending_buf=new i.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=Nt,be.strategy=Mt,be.method=Lt,Qt(N)}function Bt(N,Nt){return At(N,Nt,R,j,B,k)}function H(N,Nt){var Lt,K,wt,Mt;if(!N||!N.state||Nt>c||Nt<0)return N?le(N,g):g;if(K=N.state,!N.output||!N.input&&N.avail_in!==0||K.status===mt&&Nt!==l)return le(N,N.avail_out===0?v:g);if(K.strm=N,Lt=K.last_flush,K.last_flush=Nt,K.status===q)if(K.wrap===2)N.adler=0,ne(K,31),ne(K,139),ne(K,8),K.gzhead?(ne(K,(K.gzhead.text?1:0)+(K.gzhead.hcrc?2:0)+(K.gzhead.extra?4:0)+(K.gzhead.name?8:0)+(K.gzhead.comment?16:0)),ne(K,K.gzhead.time&255),ne(K,K.gzhead.time>>8&255),ne(K,K.gzhead.time>>16&255),ne(K,K.gzhead.time>>24&255),ne(K,K.level===9?2:K.strategy>=w||K.level<2?4:0),ne(K,K.gzhead.os&255),K.gzhead.extra&&K.gzhead.extra.length&&(ne(K,K.gzhead.extra.length&255),ne(K,K.gzhead.extra.length>>8&255)),K.gzhead.hcrc&&(N.adler=n(N.adler,K.pending_buf,K.pending,0)),K.gzindex=0,K.status=I):(ne(K,0),ne(K,0),ne(K,0),ne(K,0),ne(K,0),ne(K,K.level===9?2:K.strategy>=w||K.level<2?4:0),ne(K,ee),K.status=dt);else{var xe=R+(K.w_bits-8<<4)<<8,be=-1;K.strategy>=w||K.level<2?be=0:K.level<6?be=1:K.level===6?be=2:be=3,xe|=be<<6,K.strstart!==0&&(xe|=ot),xe+=31-xe%31,K.status=dt,Jt(K,xe),K.strstart!==0&&(Jt(K,N.adler>>>16),Jt(K,N.adler&65535)),N.adler=1}if(K.status===I)if(K.gzhead.extra){for(wt=K.pending;K.gzindex<(K.gzhead.extra.length&65535)&&!(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>wt&&(N.adler=n(N.adler,K.pending_buf,K.pending-wt,wt)),de(N),wt=K.pending,K.pending===K.pending_buf_size));)ne(K,K.gzhead.extra[K.gzindex]&255),K.gzindex++;K.gzhead.hcrc&&K.pending>wt&&(N.adler=n(N.adler,K.pending_buf,K.pending-wt,wt)),K.gzindex===K.gzhead.extra.length&&(K.gzindex=0,K.status=W)}else K.status=W;if(K.status===W)if(K.gzhead.name){wt=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>wt&&(N.adler=n(N.adler,K.pending_buf,K.pending-wt,wt)),de(N),wt=K.pending,K.pending===K.pending_buf_size)){Mt=1;break}K.gzindex<K.gzhead.name.length?Mt=K.gzhead.name.charCodeAt(K.gzindex++)&255:Mt=0,ne(K,Mt)}while(Mt!==0);K.gzhead.hcrc&&K.pending>wt&&(N.adler=n(N.adler,K.pending_buf,K.pending-wt,wt)),Mt===0&&(K.gzindex=0,K.status=nt)}else K.status=nt;if(K.status===nt)if(K.gzhead.comment){wt=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>wt&&(N.adler=n(N.adler,K.pending_buf,K.pending-wt,wt)),de(N),wt=K.pending,K.pending===K.pending_buf_size)){Mt=1;break}K.gzindex<K.gzhead.comment.length?Mt=K.gzhead.comment.charCodeAt(K.gzindex++)&255:Mt=0,ne(K,Mt)}while(Mt!==0);K.gzhead.hcrc&&K.pending>wt&&(N.adler=n(N.adler,K.pending_buf,K.pending-wt,wt)),Mt===0&&(K.status=lt)}else K.status=lt;if(K.status===lt&&(K.gzhead.hcrc?(K.pending+2>K.pending_buf_size&&de(N),K.pending+2<=K.pending_buf_size&&(ne(K,N.adler&255),ne(K,N.adler>>8&255),N.adler=0,K.status=dt)):K.status=dt),K.pending!==0){if(de(N),N.avail_out===0)return K.last_flush=-1,u}else if(N.avail_in===0&&zt(Nt)<=zt(Lt)&&Nt!==l)return le(N,v);if(K.status===mt&&N.avail_in!==0)return le(N,v);if(N.avail_in!==0||K.lookahead!==0||Nt!==s&&K.status!==mt){var Ae=K.strategy===w?Ln(K,Nt):K.strategy===C?Ke(K,Nt):Ee[K.level].func(K,Nt);if((Ae===Ot||Ae===Xt)&&(K.status=mt),Ae===yt||Ae===Ot)return N.avail_out===0&&(K.last_flush=-1),u;if(Ae===_t&&(Nt===a?t._tr_align(K):Nt!==c&&(t._tr_stored_block(K,0,0,!1),Nt===o&&(vt(K.head),K.lookahead===0&&(K.strstart=0,K.block_start=0,K.insert=0))),de(N),N.avail_out===0))return K.last_flush=-1,u}return Nt!==l?u:K.wrap<=0?f:(K.wrap===2?(ne(K,N.adler&255),ne(K,N.adler>>8&255),ne(K,N.adler>>16&255),ne(K,N.adler>>24&255),ne(K,N.total_in&255),ne(K,N.total_in>>8&255),ne(K,N.total_in>>16&255),ne(K,N.total_in>>24&255)):(Jt(K,N.adler>>>16),Jt(K,N.adler&65535)),de(N),K.wrap>0&&(K.wrap=-K.wrap),K.pending!==0?u:f)}function qt(N){var Nt;return!N||!N.state?g:(Nt=N.state.status,Nt!==q&&Nt!==I&&Nt!==W&&Nt!==nt&&Nt!==lt&&Nt!==dt&&Nt!==mt?le(N,g):(N.state=null,Nt===dt?le(N,p):u))}function he(N,Nt){var Lt=Nt.length,K,wt,Mt,xe,be,Ae,ve,Rr;if(!N||!N.state||(K=N.state,xe=K.wrap,xe===2||xe===1&&K.status!==q||K.lookahead))return g;for(xe===1&&(N.adler=e(N.adler,Nt,Lt,0)),K.wrap=0,Lt>=K.w_size&&(xe===0&&(vt(K.head),K.strstart=0,K.block_start=0,K.insert=0),Rr=new i.Buf8(K.w_size),i.arraySet(Rr,Nt,Lt-K.w_size,K.w_size,0),Nt=Rr,Lt=K.w_size),be=N.avail_in,Ae=N.next_in,ve=N.input,N.avail_in=Lt,N.next_in=0,N.input=Nt,Re(K);K.lookahead>=$;){wt=K.strstart,Mt=K.lookahead-($-1);do K.ins_h=(K.ins_h<<K.hash_shift^K.window[wt+$-1])&K.hash_mask,K.prev[wt&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=wt,wt++;while(--Mt);K.strstart=wt,K.lookahead=$-1,Re(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=$-1,K.match_available=0,N.next_in=Ae,N.input=ve,N.avail_in=be,K.wrap=xe,u}return Xo.deflateInit=Bt,Xo.deflateInit2=At,Xo.deflateReset=Qt,Xo.deflateResetKeep=Kt,Xo.deflateSetHeader=Yt,Xo.deflate=H,Xo.deflateEnd=qt,Xo.deflateSetDictionary=he,Xo.deflateInfo="pako deflate (from Nodeca project)",Xo}var gu={},Ax;function $C(){if(Ax)return gu;Ax=1;var i=Oh(),t=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var n=new i.Buf8(256),r=0;r<256;r++)n[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;n[254]=n[254]=1,gu.string2buf=function(a){var o,l,c,u,f,g=a.length,p=0;for(u=0;u<g;u++)l=a.charCodeAt(u),(l&64512)===55296&&u+1<g&&(c=a.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),p+=l<128?1:l<2048?2:l<65536?3:4;for(o=new i.Buf8(p),f=0,u=0;f<p;u++)l=a.charCodeAt(u),(l&64512)===55296&&u+1<g&&(c=a.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),l<128?o[f++]=l:l<2048?(o[f++]=192|l>>>6,o[f++]=128|l&63):l<65536?(o[f++]=224|l>>>12,o[f++]=128|l>>>6&63,o[f++]=128|l&63):(o[f++]=240|l>>>18,o[f++]=128|l>>>12&63,o[f++]=128|l>>>6&63,o[f++]=128|l&63);return o};function s(a,o){if(o<65534&&(a.subarray&&e||!a.subarray&&t))return String.fromCharCode.apply(null,i.shrinkBuf(a,o));for(var l="",c=0;c<o;c++)l+=String.fromCharCode(a[c]);return l}return gu.buf2binstring=function(a){return s(a,a.length)},gu.binstring2buf=function(a){for(var o=new i.Buf8(a.length),l=0,c=o.length;l<c;l++)o[l]=a.charCodeAt(l);return o},gu.buf2string=function(a,o){var l,c,u,f,g=o||a.length,p=new Array(g*2);for(c=0,l=0;l<g;){if(u=a[l++],u<128){p[c++]=u;continue}if(f=n[u],f>4){p[c++]=65533,l+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&l<g;)u=u<<6|a[l++]&63,f--;if(f>1){p[c++]=65533;continue}u<65536?p[c++]=u:(u-=65536,p[c++]=55296|u>>10&1023,p[c++]=56320|u&1023)}return s(p,c)},gu.utf8border=function(a,o){var l;for(o=o||a.length,o>a.length&&(o=a.length),l=o-1;l>=0&&(a[l]&192)===128;)l--;return l<0||l===0?o:l+n[a[l]]>o?l:o},gu}var X1,xx;function tk(){if(xx)return X1;xx=1;function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return X1=i,X1}var Sx;function o4(){if(Sx)return _d;Sx=1;var i=a4(),t=Oh(),e=$C(),n=s2(),r=tk(),s=Object.prototype.toString,a=0,o=4,l=0,c=1,u=2,f=-1,g=0,p=8;function v(C){if(!(this instanceof v))return new v(C);this.options=t.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},C||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var k=i.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(k!==l)throw new Error(n[k]);if(E.header&&i.deflateSetHeader(this.strm,E.header),E.dictionary){var L;if(typeof E.dictionary=="string"?L=e.string2buf(E.dictionary):s.call(E.dictionary)==="[object ArrayBuffer]"?L=new Uint8Array(E.dictionary):L=E.dictionary,k=i.deflateSetDictionary(this.strm,L),k!==l)throw new Error(n[k]);this._dict_set=!0}}v.prototype.push=function(C,E){var k=this.strm,L=this.options.chunkSize,R,M;if(this.ended)return!1;M=E===~~E?E:E===!0?o:a,typeof C=="string"?k.input=e.string2buf(C):s.call(C)==="[object ArrayBuffer]"?k.input=new Uint8Array(C):k.input=C,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new t.Buf8(L),k.next_out=0,k.avail_out=L),R=i.deflate(k,M),R!==c&&R!==l)return this.onEnd(R),this.ended=!0,!1;(k.avail_out===0||k.avail_in===0&&(M===o||M===u))&&(this.options.to==="string"?this.onData(e.buf2binstring(t.shrinkBuf(k.output,k.next_out))):this.onData(t.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&R!==c);return M===o?(R=i.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===l):(M===u&&(this.onEnd(l),k.avail_out=0),!0)},v.prototype.onData=function(C){this.chunks.push(C)},v.prototype.onEnd=function(C){C===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function y(C,E){var k=new v(E);if(k.push(C,!0),k.err)throw k.msg||n[k.err];return k.result}function A(C,E){return E=E||{},E.raw=!0,y(C,E)}function w(C,E){return E=E||{},E.gzip=!0,y(C,E)}return _d.Deflate=v,_d.deflate=y,_d.deflateRaw=A,_d.gzip=w,_d}var Pd={},go={},K1,Ex;function l4(){if(Ex)return K1;Ex=1;var i=30,t=12;return K1=function(n,r){var s,a,o,l,c,u,f,g,p,v,y,A,w,C,E,k,L,R,M,j,B,X,D,z,U;s=n.state,a=n.next_in,z=n.input,o=a+(n.avail_in-5),l=n.next_out,U=n.output,c=l-(r-n.avail_out),u=l+(n.avail_out-257),f=s.dmax,g=s.wsize,p=s.whave,v=s.wnext,y=s.window,A=s.hold,w=s.bits,C=s.lencode,E=s.distcode,k=(1<<s.lenbits)-1,L=(1<<s.distbits)-1;t:do{w<15&&(A+=z[a++]<<w,w+=8,A+=z[a++]<<w,w+=8),R=C[A&k];e:for(;;){if(M=R>>>24,A>>>=M,w-=M,M=R>>>16&255,M===0)U[l++]=R&65535;else if(M&16){j=R&65535,M&=15,M&&(w<M&&(A+=z[a++]<<w,w+=8),j+=A&(1<<M)-1,A>>>=M,w-=M),w<15&&(A+=z[a++]<<w,w+=8,A+=z[a++]<<w,w+=8),R=E[A&L];n:for(;;){if(M=R>>>24,A>>>=M,w-=M,M=R>>>16&255,M&16){if(B=R&65535,M&=15,w<M&&(A+=z[a++]<<w,w+=8,w<M&&(A+=z[a++]<<w,w+=8)),B+=A&(1<<M)-1,B>f){n.msg="invalid distance too far back",s.mode=i;break t}if(A>>>=M,w-=M,M=l-c,B>M){if(M=B-M,M>p&&s.sane){n.msg="invalid distance too far back",s.mode=i;break t}if(X=0,D=y,v===0){if(X+=g-M,M<j){j-=M;do U[l++]=y[X++];while(--M);X=l-B,D=U}}else if(v<M){if(X+=g+v-M,M-=v,M<j){j-=M;do U[l++]=y[X++];while(--M);if(X=0,v<j){M=v,j-=M;do U[l++]=y[X++];while(--M);X=l-B,D=U}}}else if(X+=v-M,M<j){j-=M;do U[l++]=y[X++];while(--M);X=l-B,D=U}for(;j>2;)U[l++]=D[X++],U[l++]=D[X++],U[l++]=D[X++],j-=3;j&&(U[l++]=D[X++],j>1&&(U[l++]=D[X++]))}else{X=l-B;do U[l++]=U[X++],U[l++]=U[X++],U[l++]=U[X++],j-=3;while(j>2);j&&(U[l++]=U[X++],j>1&&(U[l++]=U[X++]))}}else if((M&64)===0){R=E[(R&65535)+(A&(1<<M)-1)];continue n}else{n.msg="invalid distance code",s.mode=i;break t}break}}else if((M&64)===0){R=C[(R&65535)+(A&(1<<M)-1)];continue e}else if(M&32){s.mode=t;break t}else{n.msg="invalid literal/length code",s.mode=i;break t}break}}while(a<o&&l<u);j=w>>3,a-=j,w-=j<<3,A&=(1<<w)-1,n.next_in=a,n.next_out=l,n.avail_in=a<o?5+(o-a):5-(a-o),n.avail_out=l<u?257+(u-l):257-(l-u),s.hold=A,s.bits=w},K1}var Y1,Cx;function c4(){if(Cx)return Y1;Cx=1;var i=Oh(),t=15,e=852,n=592,r=0,s=1,a=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Y1=function(g,p,v,y,A,w,C,E){var k=E.bits,L=0,R=0,M=0,j=0,B=0,X=0,D=0,z=0,U=0,Q=0,pt,Z,$,st,rt,ot=null,q=0,I,W=new i.Buf16(t+1),nt=new i.Buf16(t+1),lt=null,dt=0,mt,yt,_t;for(L=0;L<=t;L++)W[L]=0;for(R=0;R<y;R++)W[p[v+R]]++;for(B=k,j=t;j>=1&&W[j]===0;j--);if(B>j&&(B=j),j===0)return A[w++]=1<<24|64<<16|0,A[w++]=1<<24|64<<16|0,E.bits=1,0;for(M=1;M<j&&W[M]===0;M++);for(B<M&&(B=M),z=1,L=1;L<=t;L++)if(z<<=1,z-=W[L],z<0)return-1;if(z>0&&(g===r||j!==1))return-1;for(nt[1]=0,L=1;L<t;L++)nt[L+1]=nt[L]+W[L];for(R=0;R<y;R++)p[v+R]!==0&&(C[nt[p[v+R]]++]=R);if(g===r?(ot=lt=C,I=19):g===s?(ot=o,q-=257,lt=l,dt-=257,I=256):(ot=c,lt=u,I=-1),Q=0,R=0,L=M,rt=w,X=B,D=0,$=-1,U=1<<B,st=U-1,g===s&&U>e||g===a&&U>n)return 1;for(;;){mt=L-D,C[R]<I?(yt=0,_t=C[R]):C[R]>I?(yt=lt[dt+C[R]],_t=ot[q+C[R]]):(yt=96,_t=0),pt=1<<L-D,Z=1<<X,M=Z;do Z-=pt,A[rt+(Q>>D)+Z]=mt<<24|yt<<16|_t|0;while(Z!==0);for(pt=1<<L-1;Q&pt;)pt>>=1;if(pt!==0?(Q&=pt-1,Q+=pt):Q=0,R++,--W[L]===0){if(L===j)break;L=p[v+C[R]]}if(L>B&&(Q&st)!==$){for(D===0&&(D=B),rt+=M,X=L-D,z=1<<X;X+D<j&&(z-=W[X+D],!(z<=0));)X++,z<<=1;if(U+=1<<X,g===s&&U>e||g===a&&U>n)return 1;$=Q&st,A[$]=B<<24|X<<16|rt-w|0}}return Q!==0&&(A[rt+Q]=L-D<<24|64<<16|0),E.bits=B,0},Y1}var kx;function h4(){if(kx)return go;kx=1;var i=Oh(),t=JC(),e=QC(),n=l4(),r=c4(),s=0,a=1,o=2,l=4,c=5,u=6,f=0,g=1,p=2,v=-2,y=-3,A=-4,w=-5,C=8,E=1,k=2,L=3,R=4,M=5,j=6,B=7,X=8,D=9,z=10,U=11,Q=12,pt=13,Z=14,$=15,st=16,rt=17,ot=18,q=19,I=20,W=21,nt=22,lt=23,dt=24,mt=25,yt=26,_t=27,Ot=28,Xt=29,ee=30,le=31,zt=32,vt=852,de=592,re=15,ne=re;function Jt(At){return(At>>>24&255)+(At>>>8&65280)+((At&65280)<<8)+((At&255)<<24)}function ye(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ce(At){var Bt;return!At||!At.state?v:(Bt=At.state,At.total_in=At.total_out=Bt.total=0,At.msg="",Bt.wrap&&(At.adler=Bt.wrap&1),Bt.mode=E,Bt.last=0,Bt.havedict=0,Bt.dmax=32768,Bt.head=null,Bt.hold=0,Bt.bits=0,Bt.lencode=Bt.lendyn=new i.Buf32(vt),Bt.distcode=Bt.distdyn=new i.Buf32(de),Bt.sane=1,Bt.back=-1,f)}function Re(At){var Bt;return!At||!At.state?v:(Bt=At.state,Bt.wsize=0,Bt.whave=0,Bt.wnext=0,ce(At))}function Ce(At,Bt){var H,qt;return!At||!At.state||(qt=At.state,Bt<0?(H=0,Bt=-Bt):(H=(Bt>>4)+1,Bt<48&&(Bt&=15)),Bt&&(Bt<8||Bt>15))?v:(qt.window!==null&&qt.wbits!==Bt&&(qt.window=null),qt.wrap=H,qt.wbits=Bt,Re(At))}function yn(At,Bt){var H,qt;return At?(qt=new ye,At.state=qt,qt.window=null,H=Ce(At,Bt),H!==f&&(At.state=null),H):v}function qe(At){return yn(At,ne)}var Ke=!0,Ln,Ie;function Ee(At){if(Ke){var Bt;for(Ln=new i.Buf32(512),Ie=new i.Buf32(32),Bt=0;Bt<144;)At.lens[Bt++]=8;for(;Bt<256;)At.lens[Bt++]=9;for(;Bt<280;)At.lens[Bt++]=7;for(;Bt<288;)At.lens[Bt++]=8;for(r(a,At.lens,0,288,Ln,0,At.work,{bits:9}),Bt=0;Bt<32;)At.lens[Bt++]=5;r(o,At.lens,0,32,Ie,0,At.work,{bits:5}),Ke=!1}At.lencode=Ln,At.lenbits=9,At.distcode=Ie,At.distbits=5}function Ue(At,Bt,H,qt){var he,N=At.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new i.Buf8(N.wsize)),qt>=N.wsize?(i.arraySet(N.window,Bt,H-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(he=N.wsize-N.wnext,he>qt&&(he=qt),i.arraySet(N.window,Bt,H-qt,he,N.wnext),qt-=he,qt?(i.arraySet(N.window,Bt,H-qt,qt,0),N.wnext=qt,N.whave=N.wsize):(N.wnext+=he,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=he))),0}function tt(At,Bt){var H,qt,he,N,Nt,Lt,K,wt,Mt,xe,be,Ae,ve,Rr,Bn=0,Ye,Xn,bn,Rn,Sr,bs,nr,Pr,or=new i.Buf8(4),ur,Ir,Xi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!At||!At.state||!At.output||!At.input&&At.avail_in!==0)return v;H=At.state,H.mode===Q&&(H.mode=pt),Nt=At.next_out,he=At.output,K=At.avail_out,N=At.next_in,qt=At.input,Lt=At.avail_in,wt=H.hold,Mt=H.bits,xe=Lt,be=K,Pr=f;t:for(;;)switch(H.mode){case E:if(H.wrap===0){H.mode=pt;break}for(;Mt<16;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(H.wrap&2&&wt===35615){H.check=0,or[0]=wt&255,or[1]=wt>>>8&255,H.check=e(H.check,or,2,0),wt=0,Mt=0,H.mode=k;break}if(H.flags=0,H.head&&(H.head.done=!1),!(H.wrap&1)||(((wt&255)<<8)+(wt>>8))%31){At.msg="incorrect header check",H.mode=ee;break}if((wt&15)!==C){At.msg="unknown compression method",H.mode=ee;break}if(wt>>>=4,Mt-=4,nr=(wt&15)+8,H.wbits===0)H.wbits=nr;else if(nr>H.wbits){At.msg="invalid window size",H.mode=ee;break}H.dmax=1<<nr,At.adler=H.check=1,H.mode=wt&512?z:Q,wt=0,Mt=0;break;case k:for(;Mt<16;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(H.flags=wt,(H.flags&255)!==C){At.msg="unknown compression method",H.mode=ee;break}if(H.flags&57344){At.msg="unknown header flags set",H.mode=ee;break}H.head&&(H.head.text=wt>>8&1),H.flags&512&&(or[0]=wt&255,or[1]=wt>>>8&255,H.check=e(H.check,or,2,0)),wt=0,Mt=0,H.mode=L;case L:for(;Mt<32;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}H.head&&(H.head.time=wt),H.flags&512&&(or[0]=wt&255,or[1]=wt>>>8&255,or[2]=wt>>>16&255,or[3]=wt>>>24&255,H.check=e(H.check,or,4,0)),wt=0,Mt=0,H.mode=R;case R:for(;Mt<16;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}H.head&&(H.head.xflags=wt&255,H.head.os=wt>>8),H.flags&512&&(or[0]=wt&255,or[1]=wt>>>8&255,H.check=e(H.check,or,2,0)),wt=0,Mt=0,H.mode=M;case M:if(H.flags&1024){for(;Mt<16;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}H.length=wt,H.head&&(H.head.extra_len=wt),H.flags&512&&(or[0]=wt&255,or[1]=wt>>>8&255,H.check=e(H.check,or,2,0)),wt=0,Mt=0}else H.head&&(H.head.extra=null);H.mode=j;case j:if(H.flags&1024&&(Ae=H.length,Ae>Lt&&(Ae=Lt),Ae&&(H.head&&(nr=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Array(H.head.extra_len)),i.arraySet(H.head.extra,qt,N,Ae,nr)),H.flags&512&&(H.check=e(H.check,qt,Ae,N)),Lt-=Ae,N+=Ae,H.length-=Ae),H.length))break t;H.length=0,H.mode=B;case B:if(H.flags&2048){if(Lt===0)break t;Ae=0;do nr=qt[N+Ae++],H.head&&nr&&H.length<65536&&(H.head.name+=String.fromCharCode(nr));while(nr&&Ae<Lt);if(H.flags&512&&(H.check=e(H.check,qt,Ae,N)),Lt-=Ae,N+=Ae,nr)break t}else H.head&&(H.head.name=null);H.length=0,H.mode=X;case X:if(H.flags&4096){if(Lt===0)break t;Ae=0;do nr=qt[N+Ae++],H.head&&nr&&H.length<65536&&(H.head.comment+=String.fromCharCode(nr));while(nr&&Ae<Lt);if(H.flags&512&&(H.check=e(H.check,qt,Ae,N)),Lt-=Ae,N+=Ae,nr)break t}else H.head&&(H.head.comment=null);H.mode=D;case D:if(H.flags&512){for(;Mt<16;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(wt!==(H.check&65535)){At.msg="header crc mismatch",H.mode=ee;break}wt=0,Mt=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),At.adler=H.check=0,H.mode=Q;break;case z:for(;Mt<32;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}At.adler=H.check=Jt(wt),wt=0,Mt=0,H.mode=U;case U:if(H.havedict===0)return At.next_out=Nt,At.avail_out=K,At.next_in=N,At.avail_in=Lt,H.hold=wt,H.bits=Mt,p;At.adler=H.check=1,H.mode=Q;case Q:if(Bt===c||Bt===u)break t;case pt:if(H.last){wt>>>=Mt&7,Mt-=Mt&7,H.mode=_t;break}for(;Mt<3;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}switch(H.last=wt&1,wt>>>=1,Mt-=1,wt&3){case 0:H.mode=Z;break;case 1:if(Ee(H),H.mode=I,Bt===u){wt>>>=2,Mt-=2;break t}break;case 2:H.mode=rt;break;case 3:At.msg="invalid block type",H.mode=ee}wt>>>=2,Mt-=2;break;case Z:for(wt>>>=Mt&7,Mt-=Mt&7;Mt<32;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if((wt&65535)!==(wt>>>16^65535)){At.msg="invalid stored block lengths",H.mode=ee;break}if(H.length=wt&65535,wt=0,Mt=0,H.mode=$,Bt===u)break t;case $:H.mode=st;case st:if(Ae=H.length,Ae){if(Ae>Lt&&(Ae=Lt),Ae>K&&(Ae=K),Ae===0)break t;i.arraySet(he,qt,N,Ae,Nt),Lt-=Ae,N+=Ae,K-=Ae,Nt+=Ae,H.length-=Ae;break}H.mode=Q;break;case rt:for(;Mt<14;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(H.nlen=(wt&31)+257,wt>>>=5,Mt-=5,H.ndist=(wt&31)+1,wt>>>=5,Mt-=5,H.ncode=(wt&15)+4,wt>>>=4,Mt-=4,H.nlen>286||H.ndist>30){At.msg="too many length or distance symbols",H.mode=ee;break}H.have=0,H.mode=ot;case ot:for(;H.have<H.ncode;){for(;Mt<3;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}H.lens[Xi[H.have++]]=wt&7,wt>>>=3,Mt-=3}for(;H.have<19;)H.lens[Xi[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,ur={bits:H.lenbits},Pr=r(s,H.lens,0,19,H.lencode,0,H.work,ur),H.lenbits=ur.bits,Pr){At.msg="invalid code lengths set",H.mode=ee;break}H.have=0,H.mode=q;case q:for(;H.have<H.nlen+H.ndist;){for(;Bn=H.lencode[wt&(1<<H.lenbits)-1],Ye=Bn>>>24,Xn=Bn>>>16&255,bn=Bn&65535,!(Ye<=Mt);){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(bn<16)wt>>>=Ye,Mt-=Ye,H.lens[H.have++]=bn;else{if(bn===16){for(Ir=Ye+2;Mt<Ir;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(wt>>>=Ye,Mt-=Ye,H.have===0){At.msg="invalid bit length repeat",H.mode=ee;break}nr=H.lens[H.have-1],Ae=3+(wt&3),wt>>>=2,Mt-=2}else if(bn===17){for(Ir=Ye+3;Mt<Ir;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}wt>>>=Ye,Mt-=Ye,nr=0,Ae=3+(wt&7),wt>>>=3,Mt-=3}else{for(Ir=Ye+7;Mt<Ir;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}wt>>>=Ye,Mt-=Ye,nr=0,Ae=11+(wt&127),wt>>>=7,Mt-=7}if(H.have+Ae>H.nlen+H.ndist){At.msg="invalid bit length repeat",H.mode=ee;break}for(;Ae--;)H.lens[H.have++]=nr}}if(H.mode===ee)break;if(H.lens[256]===0){At.msg="invalid code -- missing end-of-block",H.mode=ee;break}if(H.lenbits=9,ur={bits:H.lenbits},Pr=r(a,H.lens,0,H.nlen,H.lencode,0,H.work,ur),H.lenbits=ur.bits,Pr){At.msg="invalid literal/lengths set",H.mode=ee;break}if(H.distbits=6,H.distcode=H.distdyn,ur={bits:H.distbits},Pr=r(o,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,ur),H.distbits=ur.bits,Pr){At.msg="invalid distances set",H.mode=ee;break}if(H.mode=I,Bt===u)break t;case I:H.mode=W;case W:if(Lt>=6&&K>=258){At.next_out=Nt,At.avail_out=K,At.next_in=N,At.avail_in=Lt,H.hold=wt,H.bits=Mt,n(At,be),Nt=At.next_out,he=At.output,K=At.avail_out,N=At.next_in,qt=At.input,Lt=At.avail_in,wt=H.hold,Mt=H.bits,H.mode===Q&&(H.back=-1);break}for(H.back=0;Bn=H.lencode[wt&(1<<H.lenbits)-1],Ye=Bn>>>24,Xn=Bn>>>16&255,bn=Bn&65535,!(Ye<=Mt);){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(Xn&&(Xn&240)===0){for(Rn=Ye,Sr=Xn,bs=bn;Bn=H.lencode[bs+((wt&(1<<Rn+Sr)-1)>>Rn)],Ye=Bn>>>24,Xn=Bn>>>16&255,bn=Bn&65535,!(Rn+Ye<=Mt);){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}wt>>>=Rn,Mt-=Rn,H.back+=Rn}if(wt>>>=Ye,Mt-=Ye,H.back+=Ye,H.length=bn,Xn===0){H.mode=yt;break}if(Xn&32){H.back=-1,H.mode=Q;break}if(Xn&64){At.msg="invalid literal/length code",H.mode=ee;break}H.extra=Xn&15,H.mode=nt;case nt:if(H.extra){for(Ir=H.extra;Mt<Ir;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}H.length+=wt&(1<<H.extra)-1,wt>>>=H.extra,Mt-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=lt;case lt:for(;Bn=H.distcode[wt&(1<<H.distbits)-1],Ye=Bn>>>24,Xn=Bn>>>16&255,bn=Bn&65535,!(Ye<=Mt);){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if((Xn&240)===0){for(Rn=Ye,Sr=Xn,bs=bn;Bn=H.distcode[bs+((wt&(1<<Rn+Sr)-1)>>Rn)],Ye=Bn>>>24,Xn=Bn>>>16&255,bn=Bn&65535,!(Rn+Ye<=Mt);){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}wt>>>=Rn,Mt-=Rn,H.back+=Rn}if(wt>>>=Ye,Mt-=Ye,H.back+=Ye,Xn&64){At.msg="invalid distance code",H.mode=ee;break}H.offset=bn,H.extra=Xn&15,H.mode=dt;case dt:if(H.extra){for(Ir=H.extra;Mt<Ir;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}H.offset+=wt&(1<<H.extra)-1,wt>>>=H.extra,Mt-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){At.msg="invalid distance too far back",H.mode=ee;break}H.mode=mt;case mt:if(K===0)break t;if(Ae=be-K,H.offset>Ae){if(Ae=H.offset-Ae,Ae>H.whave&&H.sane){At.msg="invalid distance too far back",H.mode=ee;break}Ae>H.wnext?(Ae-=H.wnext,ve=H.wsize-Ae):ve=H.wnext-Ae,Ae>H.length&&(Ae=H.length),Rr=H.window}else Rr=he,ve=Nt-H.offset,Ae=H.length;Ae>K&&(Ae=K),K-=Ae,H.length-=Ae;do he[Nt++]=Rr[ve++];while(--Ae);H.length===0&&(H.mode=W);break;case yt:if(K===0)break t;he[Nt++]=H.length,K--,H.mode=W;break;case _t:if(H.wrap){for(;Mt<32;){if(Lt===0)break t;Lt--,wt|=qt[N++]<<Mt,Mt+=8}if(be-=K,At.total_out+=be,H.total+=be,be&&(At.adler=H.check=H.flags?e(H.check,he,be,Nt-be):t(H.check,he,be,Nt-be)),be=K,(H.flags?wt:Jt(wt))!==H.check){At.msg="incorrect data check",H.mode=ee;break}wt=0,Mt=0}H.mode=Ot;case Ot:if(H.wrap&&H.flags){for(;Mt<32;){if(Lt===0)break t;Lt--,wt+=qt[N++]<<Mt,Mt+=8}if(wt!==(H.total&4294967295)){At.msg="incorrect length check",H.mode=ee;break}wt=0,Mt=0}H.mode=Xt;case Xt:Pr=g;break t;case ee:Pr=y;break t;case le:return A;case zt:default:return v}return At.next_out=Nt,At.avail_out=K,At.next_in=N,At.avail_in=Lt,H.hold=wt,H.bits=Mt,(H.wsize||be!==At.avail_out&&H.mode<ee&&(H.mode<_t||Bt!==l))&&Ue(At,At.output,At.next_out,be-At.avail_out),xe-=At.avail_in,be-=At.avail_out,At.total_in+=xe,At.total_out+=be,H.total+=be,H.wrap&&be&&(At.adler=H.check=H.flags?e(H.check,he,be,At.next_out-be):t(H.check,he,be,At.next_out-be)),At.data_type=H.bits+(H.last?64:0)+(H.mode===Q?128:0)+(H.mode===I||H.mode===$?256:0),(xe===0&&be===0||Bt===l)&&Pr===f&&(Pr=w),Pr}function Kt(At){if(!At||!At.state)return v;var Bt=At.state;return Bt.window&&(Bt.window=null),At.state=null,f}function Qt(At,Bt){var H;return!At||!At.state||(H=At.state,(H.wrap&2)===0)?v:(H.head=Bt,Bt.done=!1,f)}function Yt(At,Bt){var H=Bt.length,qt,he,N;return!At||!At.state||(qt=At.state,qt.wrap!==0&&qt.mode!==U)?v:qt.mode===U&&(he=1,he=t(he,Bt,H,0),he!==qt.check)?y:(N=Ue(At,Bt,H,H),N?(qt.mode=le,A):(qt.havedict=1,f))}return go.inflateReset=Re,go.inflateReset2=Ce,go.inflateResetKeep=ce,go.inflateInit=qe,go.inflateInit2=yn,go.inflate=tt,go.inflateEnd=Kt,go.inflateGetHeader=Qt,go.inflateSetDictionary=Yt,go.inflateInfo="pako inflate (from Nodeca project)",go}var Z1,_x;function ek(){return _x||(_x=1,Z1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Z1}var J1,Px;function u4(){if(Px)return J1;Px=1;function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return J1=i,J1}var Tx;function d4(){if(Tx)return Pd;Tx=1;var i=h4(),t=Oh(),e=$C(),n=ek(),r=s2(),s=tk(),a=u4(),o=Object.prototype.toString;function l(f){if(!(this instanceof l))return new l(f);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},f||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(f&&f.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var p=i.inflateInit2(this.strm,g.windowBits);if(p!==n.Z_OK)throw new Error(r[p]);if(this.header=new a,i.inflateGetHeader(this.strm,this.header),g.dictionary&&(typeof g.dictionary=="string"?g.dictionary=e.string2buf(g.dictionary):o.call(g.dictionary)==="[object ArrayBuffer]"&&(g.dictionary=new Uint8Array(g.dictionary)),g.raw&&(p=i.inflateSetDictionary(this.strm,g.dictionary),p!==n.Z_OK)))throw new Error(r[p])}l.prototype.push=function(f,g){var p=this.strm,v=this.options.chunkSize,y=this.options.dictionary,A,w,C,E,k,L=!1;if(this.ended)return!1;w=g===~~g?g:g===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof f=="string"?p.input=e.binstring2buf(f):o.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new t.Buf8(v),p.next_out=0,p.avail_out=v),A=i.inflate(p,n.Z_NO_FLUSH),A===n.Z_NEED_DICT&&y&&(A=i.inflateSetDictionary(this.strm,y)),A===n.Z_BUF_ERROR&&L===!0&&(A=n.Z_OK,L=!1),A!==n.Z_STREAM_END&&A!==n.Z_OK)return this.onEnd(A),this.ended=!0,!1;p.next_out&&(p.avail_out===0||A===n.Z_STREAM_END||p.avail_in===0&&(w===n.Z_FINISH||w===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=e.utf8border(p.output,p.next_out),E=p.next_out-C,k=e.buf2string(p.output,C),p.next_out=E,p.avail_out=v-E,E&&t.arraySet(p.output,p.output,C,E,0),this.onData(k)):this.onData(t.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(L=!0)}while((p.avail_in>0||p.avail_out===0)&&A!==n.Z_STREAM_END);return A===n.Z_STREAM_END&&(w=n.Z_FINISH),w===n.Z_FINISH?(A=i.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===n.Z_OK):(w===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},l.prototype.onData=function(f){this.chunks.push(f)},l.prototype.onEnd=function(f){f===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function c(f,g){var p=new l(g);if(p.push(f,!0),p.err)throw p.msg||r[p.err];return p.result}function u(f,g){return g=g||{},g.raw=!0,c(f,g)}return Pd.Inflate=l,Pd.inflate=c,Pd.inflateRaw=u,Pd.ungzip=c,Pd}var Q1,Lx;function f4(){if(Lx)return Q1;Lx=1;var i=Oh().assign,t=o4(),e=d4(),n=ek(),r={};return i(r,t,e,n),Q1=r,Q1}var p4=f4();const Um=Eb(p4);var Nx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ap=new Uint8Array(256);for(var p0=0;p0<Nx.length;p0++)Ap[Nx.charCodeAt(p0)]=p0;var g4=function(i){var t=i.length*.75,e=i.length,n,r=0,s,a,o,l;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);var c=new Uint8Array(t);for(n=0;n<e;n+=4)s=Ap[i.charCodeAt(n)],a=Ap[i.charCodeAt(n+1)],o=Ap[i.charCodeAt(n+2)],l=Ap[i.charCodeAt(n+3)],c[r++]=s<<2|a>>4,c[r++]=(a&15)<<4|o>>2,c[r++]=(o&3)<<6|l&63;return c},m4=function(i){for(var t="",e=0;e<i.length;e++)t+=String.fromCharCode(i[e]);return t},nk=function(i){return m4(Um.inflate(g4(i)))},v4=function(i,t,e){for(var n="",r=0,s=t-i.length;r<s;r++)n+=e;return n+i};const y4="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",b4="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",w4="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",A4="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",x4=JSON.parse('"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"'),S4=JSON.parse('"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"'),E4=JSON.parse('"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"'),C4=JSON.parse('"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"'),k4=JSON.parse('"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"'),_4=JSON.parse('"eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE"'),P4=JSON.parse('"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"'),T4=JSON.parse('"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"'),L4="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",N4="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var F4={Courier:A4,"Courier-Bold":y4,"Courier-Oblique":w4,"Courier-BoldOblique":b4,Helvetica:C4,"Helvetica-Bold":x4,"Helvetica-Oblique":E4,"Helvetica-BoldOblique":S4,"Times-Roman":T4,"Times-Bold":k4,"Times-Italic":P4,"Times-BoldItalic":_4,Symbol:L4,ZapfDingbats:N4},zp;(function(i){i.Courier="Courier",i.CourierBold="Courier-Bold",i.CourierOblique="Courier-Oblique",i.CourierBoldOblique="Courier-BoldOblique",i.Helvetica="Helvetica",i.HelveticaBold="Helvetica-Bold",i.HelveticaOblique="Helvetica-Oblique",i.HelveticaBoldOblique="Helvetica-BoldOblique",i.TimesRoman="Times-Roman",i.TimesRomanBold="Times-Bold",i.TimesRomanItalic="Times-Italic",i.TimesRomanBoldItalic="Times-BoldItalic",i.Symbol="Symbol",i.ZapfDingbats="ZapfDingbats"})(zp||(zp={}));var Fx={},R4=(function(){function i(){var t=this;this.getWidthOfGlyph=function(e){return t.CharWidths[e]},this.getXAxisKerningForPair=function(e,n){return(t.KernPairXAmounts[e]||{})[n]}}return i.load=function(t){var e=Fx[t];if(e)return e;var n=nk(F4[t]),r=Object.assign(new i,JSON.parse(n));return r.CharWidths=r.CharMetrics.reduce(function(s,a){return s[a.N]=a.WX,s},{}),r.KernPairXAmounts=r.KernPairs.reduce(function(s,a){var o=a[0],l=a[1],c=a[2];return s[o]||(s[o]={}),s[o][l]=c,s},{}),Fx[t]=r,r},i})();const I4="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";var D4=nk(I4),$1=JSON.parse(D4),ty=(function(){function i(t,e){var n=this;this.canEncodeUnicodeCodePoint=function(r){return r in n.unicodeMappings},this.encodeUnicodeCodePoint=function(r){var s=n.unicodeMappings[r];if(!s){var a=String.fromCharCode(r),o="0x"+v4(r.toString(16),4,"0"),l=n.name+' cannot encode "'+a+'" ('+o+")";throw new Error(l)}return{code:s[0],name:s[1]}},this.name=t,this.supportedCodePoints=Object.keys(e).map(Number).sort(function(r,s){return r-s}),this.unicodeMappings=e}return i})(),g0={Symbol:new ty("Symbol",$1.symbol),ZapfDingbats:new ty("ZapfDingbats",$1.zapfdingbats),WinAnsi:new ty("WinAnsi",$1.win1252)},Hm=function(i){return Object.keys(i).map(function(t){return i[t]})},M4=Hm(zp),Rx=function(i){return M4.includes(i)},m0=function(i,t){return i.x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height},Hi=function(i){return"`"+i+"`"},O4=function(i){return"'"+i+"'"},Ix=function(i){var t=typeof i;return t==="string"?O4(i):t==="undefined"?Hi(i):i},B4=function(i,t,e){for(var n=new Array(e.length),r=0,s=e.length;r<s;r++){var a=e[r];n[r]=Ix(a)}var o=n.join(" or ");return Hi(t)+" must be one of "+o+", but was actually "+Ix(i)},kh=function(i,t,e){Array.isArray(e)||(e=Hm(e));for(var n=0,r=e.length;n<r;n++)if(i===e[n])return;throw new TypeError(B4(i,t,e))},vo=function(i,t,e){Array.isArray(e)||(e=Hm(e)),kh(i,t,e.concat(void 0))},j4=function(i,t,e){Array.isArray(e)||(e=Hm(e));for(var n=0,r=i.length;n<r;n++)kh(i[n],t,e)},z4=function(i){return i===null?"null":i===void 0?"undefined":typeof i=="string"?"string":isNaN(i)?"NaN":typeof i=="number"?"number":typeof i=="boolean"?"boolean":typeof i=="symbol"?"symbol":typeof i=="bigint"?"bigint":i.constructor&&i.constructor.name?i.constructor.name:i.name?i.name:i.constructor?String(i.constructor):String(i)},U4=function(i,t){return t==="null"?i===null:t==="undefined"?i===void 0:t==="string"?typeof i=="string":t==="number"?typeof i=="number"&&!isNaN(i):t==="boolean"?typeof i=="boolean":t==="symbol"?typeof i=="symbol":t==="bigint"?typeof i=="bigint":t===Date?i instanceof Date:t===Array?i instanceof Array:t===Uint8Array?i instanceof Uint8Array:t===ArrayBuffer?i instanceof ArrayBuffer:t===Function?i instanceof Function:i instanceof t[0]},H4=function(i,t,e){for(var n=new Array(e.length),r=0,s=e.length;r<s;r++){var a=e[r];a==="null"&&(n[r]=Hi("null")),a==="undefined"&&(n[r]=Hi("undefined")),a==="string"?n[r]=Hi("string"):a==="number"?n[r]=Hi("number"):a==="boolean"?n[r]=Hi("boolean"):a==="symbol"?n[r]=Hi("symbol"):a==="bigint"?n[r]=Hi("bigint"):a===Array?n[r]=Hi("Array"):a===Uint8Array?n[r]=Hi("Uint8Array"):a===ArrayBuffer?n[r]=Hi("ArrayBuffer"):n[r]=Hi(a[1])}var o=n.join(" or ");return Hi(t)+" must be of type "+o+", but was actually of type "+Hi(z4(i))},Ft=function(i,t,e){for(var n=0,r=e.length;n<r;n++)if(U4(i,e[n]))return;throw new TypeError(H4(i,t,e))},pe=function(i,t,e){Ft(i,t,e.concat("undefined"))},rk=function(i,t,e){for(var n=0,r=i.length;n<r;n++)Ft(i[n],t,e)},Wa=function(i,t,e,n){if(Ft(i,t,["number"]),Ft(e,"min",["number"]),Ft(n,"max",["number"]),n=Math.max(e,n),i<e||i>n)throw new Error(Hi(t)+" must be at least "+e+" and at most "+n+", but was actually "+i)},Yo=function(i,t,e,n){Ft(i,t,["number","undefined"]),typeof i=="number"&&Wa(i,t,e,n)},ik=function(i,t,e){if(Ft(i,t,["number"]),i%e!==0)throw new Error(Hi(t)+" must be a multiple of "+e+", but was actually "+i)},q4=function(i,t){if(!Number.isInteger(i))throw new Error(Hi(t)+" must be an integer, but was actually "+i)},qm=function(i,t){if(![1,0].includes(Math.sign(i)))throw new Error(Hi(t)+" must be a positive number or 0, but was actually "+i)},vn=new Uint16Array(256);for(var v0=0;v0<256;v0++)vn[v0]=v0;vn[22]=fn("");vn[24]=fn("");vn[25]=fn("");vn[26]=fn("");vn[27]=fn("");vn[28]=fn("");vn[29]=fn("");vn[30]=fn("");vn[31]=fn("");vn[127]=fn("");vn[128]=fn("");vn[129]=fn("");vn[130]=fn("");vn[131]=fn("");vn[132]=fn("");vn[133]=fn("");vn[134]=fn("");vn[135]=fn("");vn[136]=fn("");vn[137]=fn("");vn[138]=fn("");vn[139]=fn("");vn[140]=fn("");vn[141]=fn("");vn[142]=fn("");vn[143]=fn("");vn[144]=fn("");vn[145]=fn("");vn[146]=fn("");vn[147]=fn("");vn[148]=fn("");vn[149]=fn("");vn[150]=fn("");vn[151]=fn("");vn[152]=fn("");vn[153]=fn("");vn[154]=fn("");vn[155]=fn("");vn[156]=fn("");vn[157]=fn("");vn[158]=fn("");vn[159]=fn("");vn[160]=fn("");vn[173]=fn("");var sk=function(i){for(var t=new Array(i.length),e=0,n=i.length;e<n;e++)t[e]=vn[i[e]];return String.fromCodePoint.apply(String,t)},Nc=(function(){function i(t){this.populate=t,this.value=void 0}return i.prototype.getValue=function(){return this.value},i.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},i.prototype.invalidate=function(){this.value=void 0},i.populatedBy=function(t){return new i(t)},i})(),Ao=(function(i){ge(t,i);function t(e,n){var r=this,s="Method "+e+"."+n+"() not implemented";return r=i.call(this,s)||this,r}return t})(Error),a2=(function(i){ge(t,i);function t(e){var n=this,r="Cannot construct "+e+" - it has a private constructor";return n=i.call(this,r)||this,n}return t})(Error),lm=(function(i){ge(t,i);function t(e,n){var r=this,s=function(l){var c,u;return(c=l?.name)!==null&&c!==void 0?c:(u=l?.constructor)===null||u===void 0?void 0:u.name},a=Array.isArray(e)?e.map(s):[s(e)],o="Expected instance of "+a.join(" or ")+", "+("but got instance of "+(n&&s(n)));return r=i.call(this,o)||this,r}return t})(Error),W4=(function(i){ge(t,i);function t(e){var n=this,r=e+" stream encoding not supported";return n=i.call(this,r)||this,n}return t})(Error),o2=(function(i){ge(t,i);function t(e,n){var r=this,s="Cannot call "+e+"."+n+"() more than once";return r=i.call(this,s)||this,r}return t})(Error);(function(i){ge(t,i);function t(e){var n=this,r="Missing catalog (ref="+e+")";return n=i.call(this,r)||this,n}return t})(Error);var V4=(function(i){ge(t,i);function t(){var e=this,n="Can't embed page with missing Contents";return e=i.call(this,n)||this,e}return t})(Error),G4=(function(i){ge(t,i);function t(e){var n,r,s,a=this,o=(s=(r=(n=e?.contructor)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:e?.name)!==null&&s!==void 0?s:e,l="Unrecognized stream type: "+o;return a=i.call(this,l)||this,a}return t})(Error),X4=(function(i){ge(t,i);function t(){var e=this,n="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return e=i.call(this,n)||this,e}return t})(Error),K4=(function(i){ge(t,i);function t(e){var n=this,r="Attempted to convert PDFArray with "+e+" elements to rectangle, but must have exactly 4 elements.";return n=i.call(this,r)||this,n}return t})(Error),ak=(function(i){ge(t,i);function t(e){var n=this,r='Attempted to convert "'+e+'" to a date, but it does not match the PDF date string format.';return n=i.call(this,r)||this,n}return t})(Error),Dx=(function(i){ge(t,i);function t(e,n){var r=this,s="Invalid targetIndex specified: targetIndex="+e+" must be less than Count="+n;return r=i.call(this,s)||this,r}return t})(Error),Mx=(function(i){ge(t,i);function t(e,n){var r=this,s="Failed to "+n+" at targetIndex="+e+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return r=i.call(this,s)||this,r}return t})(Error),cm=(function(i){ge(t,i);function t(e,n,r){var s=this,a="index should be at least "+n+" and at most "+r+", but was actually "+e;return s=i.call(this,a)||this,s}return t})(Error),l2=(function(i){ge(t,i);function t(){var e=this,n="Attempted to set invalid field value";return e=i.call(this,n)||this,e}return t})(Error),Y4=(function(i){ge(t,i);function t(){var e=this,n="Attempted to select multiple values for single-select field";return e=i.call(this,n)||this,e}return t})(Error),Z4=(function(i){ge(t,i);function t(e){var n=this,r="No /DA (default appearance) entry found for field: "+e;return n=i.call(this,r)||this,n}return t})(Error),J4=(function(i){ge(t,i);function t(e){var n=this,r="No Tf operator found for DA of field: "+e;return n=i.call(this,r)||this,n}return t})(Error),Ox=(function(i){ge(t,i);function t(e,n){var r=this,s="Failed to parse number "+("(line:"+e.line+" col:"+e.column+" offset="+e.offset+'): "'+n+'"');return r=i.call(this,s)||this,r}return t})(Error),Bh=(function(i){ge(t,i);function t(e,n){var r=this,s="Failed to parse PDF document "+("(line:"+e.line+" col:"+e.column+" offset="+e.offset+"): "+n);return r=i.call(this,s)||this,r}return t})(Error),Q4=(function(i){ge(t,i);function t(e,n,r){var s=this,a="Expected next byte to be "+n+" but it was actually "+r;return s=i.call(this,e,a)||this,s}return t})(Bh),$4=(function(i){ge(t,i);function t(e,n){var r=this,s="Failed to parse PDF object starting with the following byte: "+n;return r=i.call(this,e,s)||this,r}return t})(Bh),tI=(function(i){ge(t,i);function t(e){var n=this,r="Failed to parse invalid PDF object";return n=i.call(this,e,r)||this,n}return t})(Bh),eI=(function(i){ge(t,i);function t(e){var n=this,r="Failed to parse PDF stream";return n=i.call(this,e,r)||this,n}return t})(Bh),nI=(function(i){ge(t,i);function t(e){var n=this,r="Failed to parse PDF literal string due to unbalanced parenthesis";return n=i.call(this,e,r)||this,n}return t})(Bh),rI=(function(i){ge(t,i);function t(e){var n=this,r="Parser stalled";return n=i.call(this,e,r)||this,n}return t})(Bh),iI=(function(i){ge(t,i);function t(e){var n=this,r="No PDF header found";return n=i.call(this,e,r)||this,n}return t})(Bh),sI=(function(i){ge(t,i);function t(e,n){var r=this,s="Did not find expected keyword '"+WC(n)+"'";return r=i.call(this,e,s)||this,r}return t})(Bh),rb;(function(i){i[i.Null=0]="Null",i[i.Backspace=8]="Backspace",i[i.Tab=9]="Tab",i[i.Newline=10]="Newline",i[i.FormFeed=12]="FormFeed",i[i.CarriageReturn=13]="CarriageReturn",i[i.Space=32]="Space",i[i.ExclamationPoint=33]="ExclamationPoint",i[i.Hash=35]="Hash",i[i.Percent=37]="Percent",i[i.LeftParen=40]="LeftParen",i[i.RightParen=41]="RightParen",i[i.Plus=43]="Plus",i[i.Minus=45]="Minus",i[i.Dash=45]="Dash",i[i.Period=46]="Period",i[i.ForwardSlash=47]="ForwardSlash",i[i.Zero=48]="Zero",i[i.One=49]="One",i[i.Two=50]="Two",i[i.Three=51]="Three",i[i.Four=52]="Four",i[i.Five=53]="Five",i[i.Six=54]="Six",i[i.Seven=55]="Seven",i[i.Eight=56]="Eight",i[i.Nine=57]="Nine",i[i.LessThan=60]="LessThan",i[i.GreaterThan=62]="GreaterThan",i[i.A=65]="A",i[i.D=68]="D",i[i.E=69]="E",i[i.F=70]="F",i[i.O=79]="O",i[i.P=80]="P",i[i.R=82]="R",i[i.LeftSquareBracket=91]="LeftSquareBracket",i[i.BackSlash=92]="BackSlash",i[i.RightSquareBracket=93]="RightSquareBracket",i[i.a=97]="a",i[i.b=98]="b",i[i.d=100]="d",i[i.e=101]="e",i[i.f=102]="f",i[i.i=105]="i",i[i.j=106]="j",i[i.l=108]="l",i[i.m=109]="m",i[i.n=110]="n",i[i.o=111]="o",i[i.r=114]="r",i[i.s=115]="s",i[i.t=116]="t",i[i.u=117]="u",i[i.x=120]="x",i[i.LeftCurly=123]="LeftCurly",i[i.RightCurly=125]="RightCurly",i[i.Tilde=126]="Tilde"})(rb||(rb={}));const ft=rb;var Wm=(function(){function i(t,e){this.major=String(t),this.minor=String(e)}return i.prototype.toString=function(){var t=Lc(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},i.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},i.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=ft.Percent,t[e++]=ft.P,t[e++]=ft.D,t[e++]=ft.F,t[e++]=ft.Dash,e+=gs(this.major,t,e),t[e++]=ft.Period,e+=gs(this.minor,t,e),t[e++]=ft.Newline,t[e++]=ft.Percent,t[e++]=129,t[e++]=129,t[e++]=129,t[e++]=129,e-n},i.forVersion=function(t,e){return new i(t,e)},i})(),ea=(function(){function i(){}return i.prototype.clone=function(t){throw new Ao(this.constructor.name,"clone")},i.prototype.toString=function(){throw new Ao(this.constructor.name,"toString")},i.prototype.sizeInBytes=function(){throw new Ao(this.constructor.name,"sizeInBytes")},i.prototype.copyBytesInto=function(t,e){throw new Ao(this.constructor.name,"copyBytesInto")},i})(),cn=(function(i){ge(t,i);function t(e){var n=i.call(this)||this;return n.numberValue=e,n.stringValue=i4(e),n}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,n){return n+=gs(this.stringValue,e,n),this.stringValue.length},t.of=function(e){return new t(e)},t})(ea),tr=(function(i){ge(t,i);function t(e){var n=i.call(this)||this;return n.array=[],n.context=e,n}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,n){this.array.splice(e,0,n)},t.prototype.indexOf=function(e){var n=this.array.indexOf(e);return n===-1?void 0:n},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,n){this.array[e]=n},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return(n=this.context).lookupMaybe.apply(n,Vn([this.get(e)],r))},t.prototype.lookup=function(e){for(var n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return(n=this.context).lookup.apply(n,Vn([this.get(e)],r))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new K4(this.size());var e=this.lookup(0,cn).asNumber(),n=this.lookup(1,cn).asNumber(),r=this.lookup(2,cn).asNumber(),s=this.lookup(3,cn).asNumber(),a=e,o=n,l=r-e,c=s-n;return{x:a,y:o,width:l,height:c}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=0,s=this.size();r<s;r++)n.push(this.array[r]);return n},t.prototype.toString=function(){for(var e="[ ",n=0,r=this.size();n<r;n++)e+=this.get(n).toString(),e+=" ";return e+="]",e},t.prototype.sizeInBytes=function(){for(var e=3,n=0,r=this.size();n<r;n++)e+=this.get(n).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,n){var r=n;e[n++]=ft.LeftSquareBracket,e[n++]=ft.Space;for(var s=0,a=this.size();s<a;s++)n+=this.get(s).copyBytesInto(e,n),e[n++]=ft.Space;return e[n++]=ft.RightSquareBracket,n-r},t.prototype.scalePDFNumbers=function(e,n){for(var r=0,s=this.size();r<s;r++){var a=this.lookup(r);if(a instanceof cn){var o=r%2===0?e:n;this.set(r,cn.of(a.asNumber()*o))}}},t.withContext=function(e){return new t(e)},t})(ea),ey={},Up=(function(i){ge(t,i);function t(e,n){var r=this;if(e!==ey)throw new a2("PDFBool");return r=i.call(this)||this,r.value=n,r}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,n){return this.value?(e[n++]=ft.t,e[n++]=ft.r,e[n++]=ft.u,e[n++]=ft.e,4):(e[n++]=ft.f,e[n++]=ft.a,e[n++]=ft.l,e[n++]=ft.s,e[n++]=ft.e,5)},t.True=new t(ey,!0),t.False=new t(ey,!1),t})(ea),_o=new Uint8Array(256);_o[ft.LeftParen]=1;_o[ft.RightParen]=1;_o[ft.LessThan]=1;_o[ft.GreaterThan]=1;_o[ft.LeftSquareBracket]=1;_o[ft.RightSquareBracket]=1;_o[ft.LeftCurly]=1;_o[ft.RightCurly]=1;_o[ft.ForwardSlash]=1;_o[ft.Percent]=1;var Ic=new Uint8Array(256);Ic[ft.Null]=1;Ic[ft.Tab]=1;Ic[ft.Newline]=1;Ic[ft.FormFeed]=1;Ic[ft.CarriageReturn]=1;Ic[ft.Space]=1;var c2=new Uint8Array(256);for(var sp=0,aI=256;sp<aI;sp++)c2[sp]=Ic[sp]||_o[sp]?1:0;c2[ft.Hash]=1;var oI=function(i){return i.replace(/#([\dABCDEF]{2})/g,function(t,e){return BR(e)})},lI=function(i){return i>=ft.ExclamationPoint&&i<=ft.Tilde&&!c2[i]},Bx={},jx=new Map,ct=(function(i){ge(t,i);function t(e,n){var r=this;if(e!==Bx)throw new a2("PDFName");r=i.call(this)||this;for(var s="/",a=0,o=n.length;a<o;a++){var l=n[a],c=fn(l);s+=lI(c)?l:"#"+zm(c)}return r.encodedName=s,r}return t.prototype.asBytes=function(){for(var e=[],n="",r=!1,s=function(f){f!==void 0&&e.push(f),r=!1},a=1,o=this.encodedName.length;a<o;a++){var l=this.encodedName[a],c=fn(l),u=this.encodedName[a+1];r?c>=ft.Zero&&c<=ft.Nine||c>=ft.a&&c<=ft.f||c>=ft.A&&c<=ft.F?(n+=l,(n.length===2||!(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F"))&&(s(parseInt(n,16)),n="")):s(c):c===ft.Hash?r=!0:s(c)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,n){return n+=gs(this.encodedName,e,n),this.encodedName.length},t.of=function(e){var n=oI(e),r=jx.get(n);return r||(r=new t(Bx,n),jx.set(n,r)),r},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t})(ea),cI=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,n){return e[n++]=ft.n,e[n++]=ft.u,e[n++]=ft.l,e[n++]=ft.l,4},t})(ea);const xa=new cI;var En=(function(i){ge(t,i);function t(e,n){var r=i.call(this)||this;return r.dict=e,r.context=n,r}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,n){this.dict.set(e,n)},t.prototype.get=function(e,n){n===void 0&&(n=!1);var r=this.dict.get(e);if(!(r===xa&&!n))return r},t.prototype.has=function(e){var n=this.dict.get(e);return n!==void 0&&n!==xa},t.prototype.lookupMaybe=function(e){for(var n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=r.includes(xa),o=(n=this.context).lookupMaybe.apply(n,Vn([this.get(e,a)],r));if(!(o===xa&&!a))return o},t.prototype.lookup=function(e){for(var n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=r.includes(xa),o=(n=this.context).lookup.apply(n,Vn([this.get(e,a)],r));if(!(o===xa&&!a))return o},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){e===void 0&&(e="");for(var n=this.keys(),r=ct.of(this.context.addRandomSuffix(e,10));n.includes(r);)r=ct.of(this.context.addRandomSuffix(e,10));return r},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=this.entries(),s=0,a=r.length;s<a;s++){var o=r[s],l=o[0],c=o[1];n.set(l,c)}return n},t.prototype.toString=function(){for(var e=`<<
`,n=this.entries(),r=0,s=n.length;r<s;r++){var a=n[r],o=a[0],l=a[1];e+=o.toString()+" "+l.toString()+`
`}return e+=">>",e},t.prototype.sizeInBytes=function(){for(var e=5,n=this.entries(),r=0,s=n.length;r<s;r++){var a=n[r],o=a[0],l=a[1];e+=o.sizeInBytes()+l.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,n){var r=n;e[n++]=ft.LessThan,e[n++]=ft.LessThan,e[n++]=ft.Newline;for(var s=this.entries(),a=0,o=s.length;a<o;a++){var l=s[a],c=l[0],u=l[1];n+=c.copyBytesInto(e,n),e[n++]=ft.Space,n+=u.copyBytesInto(e,n),e[n++]=ft.Newline}return e[n++]=ft.GreaterThan,e[n++]=ft.GreaterThan,n-r},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t})(ea),Xa=(function(i){ge(t,i);function t(e){var n=i.call(this)||this;return n.dict=e,n}return t.prototype.clone=function(e){throw new Ao(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new Ao(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new Ao(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new Ao(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(ct.Length,cn.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+=`
stream
`,e+=this.getContentsString(),e+=`
endstream`,e},t.prototype.copyBytesInto=function(e,n){this.updateDict();var r=n;n+=this.dict.copyBytesInto(e,n),e[n++]=ft.Newline,e[n++]=ft.s,e[n++]=ft.t,e[n++]=ft.r,e[n++]=ft.e,e[n++]=ft.a,e[n++]=ft.m,e[n++]=ft.Newline;for(var s=this.getContents(),a=0,o=s.length;a<o;a++)e[n++]=s[a];return e[n++]=ft.Newline,e[n++]=ft.e,e[n++]=ft.n,e[n++]=ft.d,e[n++]=ft.s,e[n++]=ft.t,e[n++]=ft.r,e[n++]=ft.e,e[n++]=ft.a,e[n++]=ft.m,n-r},t})(ea),Hp=(function(i){ge(t,i);function t(e,n){var r=i.call(this,e)||this;return r.contents=n,r}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return WC(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,n){return new t(e,n)},t})(Xa),zx={},Ux=new Map,ar=(function(i){ge(t,i);function t(e,n,r){var s=this;if(e!==zx)throw new a2("PDFRef");return s=i.call(this)||this,s.objectNumber=n,s.generationNumber=r,s.tag=n+" "+r+" R",s}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,n){return n+=gs(this.tag,e,n),this.tag.length},t.of=function(e,n){n===void 0&&(n=0);var r=e+" "+n+" R",s=Ux.get(r);return s||(s=new t(zx,e,n),Ux.set(r,s)),s},t})(ea),Hn=(function(){function i(t,e){this.name=t,this.args=e||[]}return i.prototype.clone=function(t){for(var e=new Array(this.args.length),n=0,r=e.length;n<r;n++){var s=this.args[n];e[n]=s instanceof ea?s.clone(t):s}return i.of(this.name,e)},i.prototype.toString=function(){for(var t="",e=0,n=this.args.length;e<n;e++)t+=String(this.args[e])+" ";return t+=this.name,t},i.prototype.sizeInBytes=function(){for(var t=0,e=0,n=this.args.length;e<n;e++){var r=this.args[e];t+=(r instanceof ea?r.sizeInBytes():r.length)+1}return t+=this.name.length,t},i.prototype.copyBytesInto=function(t,e){for(var n=e,r=0,s=this.args.length;r<s;r++){var a=this.args[r];a instanceof ea?e+=a.copyBytesInto(t,e):e+=gs(a,t,e),t[e++]=ft.Space}return e+=gs(this.name,t,e),e-n},i.of=function(t,e){return new i(t,e)},i})(),ib;(function(i){i.NonStrokingColor="sc",i.NonStrokingColorN="scn",i.NonStrokingColorRgb="rg",i.NonStrokingColorGray="g",i.NonStrokingColorCmyk="k",i.NonStrokingColorspace="cs",i.StrokingColor="SC",i.StrokingColorN="SCN",i.StrokingColorRgb="RG",i.StrokingColorGray="G",i.StrokingColorCmyk="K",i.StrokingColorspace="CS",i.BeginMarkedContentSequence="BDC",i.BeginMarkedContent="BMC",i.EndMarkedContent="EMC",i.MarkedContentPointWithProps="DP",i.MarkedContentPoint="MP",i.DrawObject="Do",i.ConcatTransformationMatrix="cm",i.PopGraphicsState="Q",i.PushGraphicsState="q",i.SetFlatness="i",i.SetGraphicsStateParams="gs",i.SetLineCapStyle="J",i.SetLineDashPattern="d",i.SetLineJoinStyle="j",i.SetLineMiterLimit="M",i.SetLineWidth="w",i.SetTextMatrix="Tm",i.SetRenderingIntent="ri",i.AppendRectangle="re",i.BeginInlineImage="BI",i.BeginInlineImageData="ID",i.EndInlineImage="EI",i.ClipEvenOdd="W*",i.ClipNonZero="W",i.CloseAndStroke="s",i.CloseFillEvenOddAndStroke="b*",i.CloseFillNonZeroAndStroke="b",i.ClosePath="h",i.AppendBezierCurve="c",i.CurveToReplicateFinalPoint="y",i.CurveToReplicateInitialPoint="v",i.EndPath="n",i.FillEvenOddAndStroke="B*",i.FillEvenOdd="f*",i.FillNonZeroAndStroke="B",i.FillNonZero="f",i.LegacyFillNonZero="F",i.LineTo="l",i.MoveTo="m",i.ShadingFill="sh",i.StrokePath="S",i.BeginText="BT",i.EndText="ET",i.MoveText="Td",i.MoveTextSetLeading="TD",i.NextLine="T*",i.SetCharacterSpacing="Tc",i.SetFontAndSize="Tf",i.SetTextHorizontalScaling="Tz",i.SetTextLineHeight="TL",i.SetTextRenderingMode="Tr",i.SetTextRise="Ts",i.SetWordSpacing="Tw",i.ShowText="Tj",i.ShowTextAdjusted="TJ",i.ShowTextLine="'",i.ShowTextLineAndSpace='"',i.Type3D0="d0",i.Type3D1="d1",i.BeginCompatibilitySection="BX",i.EndCompatibilitySection="EX"})(ib||(ib={}));const Gn=ib;var h2=(function(i){ge(t,i);function t(e,n){var r=i.call(this,e)||this;return r.computeContents=function(){var s=r.getUnencodedContents();return r.encode?Um.deflate(s):s},r.encode=n,n&&e.set(ct.of("Filter"),ct.of("FlateDecode")),r.contentsCache=Nc.populatedBy(r.computeContents),r}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new Ao(this.constructor.name,"getUnencodedContents")},t})(Xa),_p=(function(i){ge(t,i);function t(e,n,r){r===void 0&&(r=!0);var s=i.call(this,e,r)||this;return s.operators=n,s}return t.prototype.push=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(e=this.operators).push.apply(e,n)},t.prototype.clone=function(e){for(var n=new Array(this.operators.length),r=0,s=this.operators.length;r<s;r++)n[r]=this.operators[r].clone(e);var a=this,o=a.dict,l=a.encode;return t.of(o.clone(e),n,l)},t.prototype.getContentsString=function(){for(var e="",n=0,r=this.operators.length;n<r;n++)e+=this.operators[n]+`
`;return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),n=0,r=0,s=this.operators.length;r<s;r++)n+=this.operators[r].copyBytesInto(e,n),e[n++]=ft.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,n=0,r=this.operators.length;n<r;n++)e+=this.operators[n].sizeInBytes()+1;return e},t.of=function(e,n,r){return r===void 0&&(r=!0),new t(e,n,r)},t})(h2),hI=(function(){function i(t){this.seed=t}return i.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},i.withSeed=function(t){return new i(t)},i})(),uI=function(i,t){var e=i[0],n=t[0];return e.objectNumber-n.objectNumber},sb=(function(){function i(){this.largestObjectNumber=0,this.header=Wm.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=hI.withSeed(1)}return i.prototype.assign=function(t,e){this.indirectObjects.set(t,e),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},i.prototype.nextRef=function(){return this.largestObjectNumber+=1,ar.of(this.largestObjectNumber)},i.prototype.register=function(t){var e=this.nextRef();return this.assign(e,t),e},i.prototype.delete=function(t){return this.indirectObjects.delete(t)},i.prototype.lookupMaybe=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.includes(xa),s=t instanceof ar?this.indirectObjects.get(t):t;if(!(!s||s===xa&&!r)){for(var a=0,o=e.length;a<o;a++){var l=e[a];if(l===xa){if(s===xa)return s}else if(s instanceof l)return s}throw new lm(e,s)}},i.prototype.lookup=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t instanceof ar?this.indirectObjects.get(t):t;if(e.length===0)return r;for(var s=0,a=e.length;s<a;s++){var o=e[s];if(o===xa){if(r===xa)return r}else if(r instanceof o)return r}throw new lm(e,r)},i.prototype.getObjectRef=function(t){for(var e=Array.from(this.indirectObjects.entries()),n=0,r=e.length;n<r;n++){var s=e[n],a=s[0],o=s[1];if(o===t)return a}},i.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(uI)},i.prototype.obj=function(t){if(t instanceof ea)return t;if(t==null)return xa;if(typeof t=="string")return ct.of(t);if(typeof t=="number")return cn.of(t);if(typeof t=="boolean")return t?Up.True:Up.False;if(Array.isArray(t)){for(var e=tr.withContext(this),n=0,r=t.length;n<r;n++)e.push(this.obj(t[n]));return e}else{for(var s=En.withContext(this),a=Object.keys(t),n=0,r=a.length;n<r;n++){var o=a[n],l=t[o];l!==void 0&&s.set(ct.of(o),this.obj(l))}return s}},i.prototype.stream=function(t,e){return e===void 0&&(e={}),Hp.of(this.obj(e),nb(t))},i.prototype.flateStream=function(t,e){return e===void 0&&(e={}),this.stream(Um.deflate(nb(t)),mn(mn({},e),{Filter:"FlateDecode"}))},i.prototype.contentStream=function(t,e){return e===void 0&&(e={}),_p.of(this.obj(e),t)},i.prototype.formXObject=function(t,e){return e===void 0&&(e={}),this.contentStream(t,mn(mn({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},e),{Type:"XObject",Subtype:"Form"}))},i.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),e=Hn.of(Gn.PushGraphicsState),n=_p.of(t,[e]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},i.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),e=Hn.of(Gn.PopGraphicsState),n=_p.of(t,[e]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},i.prototype.addRandomSuffix=function(t,e){return e===void 0&&(e=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,e))},i.create=function(){return new i},i})(),Fc=(function(i){ge(t,i);function t(e,n,r){r===void 0&&(r=!0);var s=i.call(this,e,n)||this;return s.normalized=!1,s.autoNormalizeCTM=r,s}return t.prototype.clone=function(e){for(var n=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),r=this.entries(),s=0,a=r.length;s<a;s++){var o=r[s],l=o[0],c=o[1];n.set(l,c)}return n},t.prototype.Parent=function(){return this.lookupMaybe(ct.Parent,En)},t.prototype.Contents=function(){return this.lookup(ct.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(ct.Annots,tr)},t.prototype.BleedBox=function(){return this.lookupMaybe(ct.BleedBox,tr)},t.prototype.TrimBox=function(){return this.lookupMaybe(ct.TrimBox,tr)},t.prototype.ArtBox=function(){return this.lookupMaybe(ct.ArtBox,tr)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(ct.Resources);return this.context.lookupMaybe(e,En)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(ct.MediaBox);return this.context.lookup(e,tr)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(ct.CropBox);return this.context.lookupMaybe(e,tr)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(ct.Rotate);return this.context.lookupMaybe(e,cn)},t.prototype.getInheritableAttribute=function(e){var n;return this.ascend(function(r){n||(n=r.get(e))}),n},t.prototype.setParent=function(e){this.set(ct.Parent,e)},t.prototype.addContentStream=function(e){var n=this.normalizedEntries().Contents||this.context.obj([]);this.set(ct.Contents,n),n.push(e)},t.prototype.wrapContentStreams=function(e,n){var r=this.Contents();return r instanceof tr?(r.insert(0,e),r.push(n),!0):!1},t.prototype.addAnnot=function(e){var n=this.normalizedEntries().Annots;n.push(e)},t.prototype.removeAnnot=function(e){var n=this.normalizedEntries().Annots,r=n.indexOf(e);r!==void 0&&n.remove(r)},t.prototype.setFontDictionary=function(e,n){var r=this.normalizedEntries().Font;r.set(e,n)},t.prototype.newFontDictionaryKey=function(e){var n=this.normalizedEntries().Font;return n.uniqueKey(e)},t.prototype.newFontDictionary=function(e,n){var r=this.newFontDictionaryKey(e);return this.setFontDictionary(r,n),r},t.prototype.setXObject=function(e,n){var r=this.normalizedEntries().XObject;r.set(e,n)},t.prototype.newXObjectKey=function(e){var n=this.normalizedEntries().XObject;return n.uniqueKey(e)},t.prototype.newXObject=function(e,n){var r=this.newXObjectKey(e);return this.setXObject(r,n),r},t.prototype.setExtGState=function(e,n){var r=this.normalizedEntries().ExtGState;r.set(e,n)},t.prototype.newExtGStateKey=function(e){var n=this.normalizedEntries().ExtGState;return n.uniqueKey(e)},t.prototype.newExtGState=function(e,n){var r=this.newExtGStateKey(e);return this.setExtGState(r,n),r},t.prototype.ascend=function(e){e(this);var n=this.Parent();n&&n.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,n=this.get(ct.Contents),r=this.context.lookup(n);r instanceof Xa&&this.set(ct.Contents,e.obj([n])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var s=this.getInheritableAttribute(ct.Resources),a=e.lookupMaybe(s,En)||e.obj({});this.set(ct.Resources,a);var o=a.lookupMaybe(ct.Font,En)||e.obj({});a.set(ct.Font,o);var l=a.lookupMaybe(ct.XObject,En)||e.obj({});a.set(ct.XObject,l);var c=a.lookupMaybe(ct.ExtGState,En)||e.obj({});a.set(ct.ExtGState,c);var u=this.Annots()||e.obj([]);this.set(ct.Annots,u),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),n=this.Resources(),r=this.Contents();return{Annots:e,Resources:n,Contents:r,Font:n.lookup(ct.Font,En),XObject:n.lookup(ct.XObject,En),ExtGState:n.lookup(ct.ExtGState,En)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,n){var r=new Map;return r.set(ct.Type,ct.Page),r.set(ct.Parent,n),r.set(ct.Resources,e.obj({})),r.set(ct.MediaBox,e.obj([0,0,612,792])),new t(r,e,!1)},t.fromMapWithContext=function(e,n,r){return r===void 0&&(r=!0),new t(e,n,r)},t})(En),Hx=(function(){function i(t,e){var n=this;this.traversedObjects=new Map,this.copy=function(r){return r instanceof Fc?n.copyPDFPage(r):r instanceof En?n.copyPDFDict(r):r instanceof tr?n.copyPDFArray(r):r instanceof Xa?n.copyPDFStream(r):r instanceof ar?n.copyPDFIndirectObject(r):r.clone()},this.copyPDFPage=function(r){for(var s=r.clone(),a=Fc.InheritableEntries,o=0,l=a.length;o<l;o++){var c=ct.of(a[o]),u=s.getInheritableAttribute(c);!s.get(c)&&u&&s.set(c,u)}return s.delete(ct.of("Parent")),n.copyPDFDict(s)},this.copyPDFDict=function(r){if(n.traversedObjects.has(r))return n.traversedObjects.get(r);var s=r.clone(n.dest);n.traversedObjects.set(r,s);for(var a=r.entries(),o=0,l=a.length;o<l;o++){var c=a[o],u=c[0],f=c[1];s.set(u,n.copy(f))}return s},this.copyPDFArray=function(r){if(n.traversedObjects.has(r))return n.traversedObjects.get(r);var s=r.clone(n.dest);n.traversedObjects.set(r,s);for(var a=0,o=r.size();a<o;a++){var l=r.get(a);s.set(a,n.copy(l))}return s},this.copyPDFStream=function(r){if(n.traversedObjects.has(r))return n.traversedObjects.get(r);var s=r.clone(n.dest);n.traversedObjects.set(r,s);for(var a=r.dict.entries(),o=0,l=a.length;o<l;o++){var c=a[o],u=c[0],f=c[1];s.dict.set(u,n.copy(f))}return s},this.copyPDFIndirectObject=function(r){var s=n.traversedObjects.has(r);if(!s){var a=n.dest.nextRef();n.traversedObjects.set(r,a);var o=n.src.lookup(r);if(o){var l=n.copy(o);n.dest.assign(a,l)}}return n.traversedObjects.get(r)},this.src=t,this.dest=e}return i.for=function(t,e){return new i(t,e)},i})(),ok=(function(){function i(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return i.prototype.addEntry=function(t,e){this.append({ref:t,offset:e,deleted:!1})},i.prototype.addDeletedEntry=function(t,e){this.append({ref:t,offset:e,deleted:!0})},i.prototype.toString=function(){for(var t=`xref
`,e=0,n=this.subsections.length;e<n;e++){var r=this.subsections[e];t+=r[0].ref.objectNumber+" "+r.length+`
`;for(var s=0,a=r.length;s<a;s++){var o=r[s];t+=$o(String(o.offset),10,"0"),t+=" ",t+=$o(String(o.ref.generationNumber),5,"0"),t+=" ",t+=o.deleted?"f":"n",t+=` 
`}}return t},i.prototype.sizeInBytes=function(){for(var t=5,e=0,n=this.subsections.length;e<n;e++){var r=this.subsections[e],s=r.length,a=r[0];t+=2,t+=String(a.ref.objectNumber).length,t+=String(s).length,t+=20*s}return t},i.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=ft.x,t[e++]=ft.r,t[e++]=ft.e,t[e++]=ft.f,t[e++]=ft.Newline,e+=this.copySubsectionsIntoBuffer(this.subsections,t,e),e-n},i.prototype.copySubsectionsIntoBuffer=function(t,e,n){for(var r=n,s=t.length,a=0;a<s;a++){var o=this.subsections[a],l=String(o[0].ref.objectNumber);n+=gs(l,e,n),e[n++]=ft.Space;var c=String(o.length);n+=gs(c,e,n),e[n++]=ft.Newline,n+=this.copyEntriesIntoBuffer(o,e,n)}return n-r},i.prototype.copyEntriesIntoBuffer=function(t,e,n){for(var r=t.length,s=0;s<r;s++){var a=t[s],o=$o(String(a.offset),10,"0");n+=gs(o,e,n),e[n++]=ft.Space;var l=$o(String(a.ref.generationNumber),5,"0");n+=gs(l,e,n),e[n++]=ft.Space,e[n++]=a.deleted?ft.f:ft.n,e[n++]=ft.Space,e[n++]=ft.Newline}return 20*r},i.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var e=this.subsections[this.chunkIdx],n=e[this.chunkLength-1];t.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(e.push(t),this.chunkLength+=1)},i.create=function(){return new i({ref:ar.of(0,65535),offset:0,deleted:!0})},i.createEmpty=function(){return new i},i})(),u2=(function(){function i(t){this.lastXRefOffset=String(t)}return i.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},i.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},i.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=ft.s,t[e++]=ft.t,t[e++]=ft.a,t[e++]=ft.r,t[e++]=ft.t,t[e++]=ft.x,t[e++]=ft.r,t[e++]=ft.e,t[e++]=ft.f,t[e++]=ft.Newline,e+=gs(this.lastXRefOffset,t,e),t[e++]=ft.Newline,t[e++]=ft.Percent,t[e++]=ft.Percent,t[e++]=ft.E,t[e++]=ft.O,t[e++]=ft.F,e-n},i.forLastCrossRefSectionOffset=function(t){return new i(t)},i})(),dI=(function(){function i(t){this.dict=t}return i.prototype.toString=function(){return`trailer
`+this.dict.toString()},i.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},i.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=ft.t,t[e++]=ft.r,t[e++]=ft.a,t[e++]=ft.i,t[e++]=ft.l,t[e++]=ft.e,t[e++]=ft.r,t[e++]=ft.Newline,e+=this.dict.copyBytesInto(t,e),e-n},i.of=function(t){return new i(t)},i})(),lk=(function(i){ge(t,i);function t(e,n,r){r===void 0&&(r=!0);var s=i.call(this,e.obj({}),r)||this;return s.objects=n,s.offsets=s.computeObjectOffsets(),s.offsetsString=s.computeOffsetsString(),s.dict.set(ct.of("Type"),ct.of("ObjStm")),s.dict.set(ct.of("N"),cn.of(s.objects.length)),s.dict.set(ct.of("First"),cn.of(s.offsetsString.length)),s}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,n=0,r=this.objects.length;n<r;n++){var s=this.objects[n],a=s[1];e+=a+`
`}return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),n=gs(this.offsetsString,e,0),r=0,s=this.objects.length;r<s;r++){var a=this.objects[r],o=a[1];n+=o.copyBytesInto(e,n),e[n++]=ft.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+om(this.offsets)[1]+om(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",n=0,r=this.offsets.length;n<r;n++){var s=this.offsets[n],a=s[0],o=s[1];e+=a+" "+o+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,n=new Array(this.objects.length),r=0,s=this.objects.length;r<s;r++){var a=this.objects[r],o=a[0],l=a[1];n[r]=[o.objectNumber,e],e+=l.sizeInBytes()+1}return n},t.withContextAndObjects=function(e,n,r){return r===void 0&&(r=!0),new t(e,n,r)},t})(h2),ck=(function(){function i(t,e){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(r){return n.parsedObjects+=r,n.parsedObjects%n.objectsPerTick===0},this.context=t,this.objectsPerTick=e}return i.prototype.serializeToBuffer=function(){return _n(this,void 0,void 0,function(){var t,e,n,r,s,a,o,l,c,u,f,g,p,v,y,A,w;return Pn(this,function(C){switch(C.label){case 0:return[4,this.computeBufferSize()];case 1:t=C.sent(),e=t.size,n=t.header,r=t.indirectObjects,s=t.xref,a=t.trailerDict,o=t.trailer,l=0,c=new Uint8Array(e),l+=n.copyBytesInto(c,l),c[l++]=ft.Newline,c[l++]=ft.Newline,u=0,f=r.length,C.label=2;case 2:return u<f?(g=r[u],p=g[0],v=g[1],y=String(p.objectNumber),l+=gs(y,c,l),c[l++]=ft.Space,A=String(p.generationNumber),l+=gs(A,c,l),c[l++]=ft.Space,c[l++]=ft.o,c[l++]=ft.b,c[l++]=ft.j,c[l++]=ft.Newline,l+=v.copyBytesInto(c,l),c[l++]=ft.Newline,c[l++]=ft.e,c[l++]=ft.n,c[l++]=ft.d,c[l++]=ft.o,c[l++]=ft.b,c[l++]=ft.j,c[l++]=ft.Newline,c[l++]=ft.Newline,w=v instanceof lk?v.getObjectsCount():1,this.shouldWaitForTick(w)?[4,cf()]:[3,4]):[3,5];case 3:C.sent(),C.label=4;case 4:return u++,[3,2];case 5:return s&&(l+=s.copyBytesInto(c,l),c[l++]=ft.Newline),a&&(l+=a.copyBytesInto(c,l),c[l++]=ft.Newline,c[l++]=ft.Newline),l+=o.copyBytesInto(c,l),[2,c]}})})},i.prototype.computeIndirectObjectSize=function(t){var e=t[0],n=t[1],r=e.sizeInBytes()+3,s=n.sizeInBytes()+9;return r+s},i.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},i.prototype.computeBufferSize=function(){return _n(this,void 0,void 0,function(){var t,e,n,r,s,a,o,l,c,u,f;return Pn(this,function(g){switch(g.label){case 0:t=Wm.forVersion(1,7),e=t.sizeInBytes()+2,n=ok.create(),r=this.context.enumerateIndirectObjects(),s=0,a=r.length,g.label=1;case 1:return s<a?(o=r[s],l=o[0],n.addEntry(l,e),e+=this.computeIndirectObjectSize(o),this.shouldWaitForTick(1)?[4,cf()]:[3,3]):[3,4];case 2:g.sent(),g.label=3;case 3:return s++,[3,1];case 4:return c=e,e+=n.sizeInBytes()+1,u=dI.of(this.createTrailerDict()),e+=u.sizeInBytes()+2,f=u2.forLastCrossRefSectionOffset(c),e+=f.sizeInBytes(),[2,{size:e,header:t,indirectObjects:r,xref:n,trailerDict:u,trailer:f}]}})})},i.forContext=function(t,e){return new i(t,e)},i})(),hk=(function(i){ge(t,i);function t(e){var n=i.call(this)||this;return n.data=e,n}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,n){for(var r=this.data.length,s=0;s<r;s++)e[n++]=this.data[s];return r},t.of=function(e){return new t(e)},t})(ea),Ah;(function(i){i[i.Deleted=0]="Deleted",i[i.Uncompressed=1]="Uncompressed",i[i.Compressed=2]="Compressed"})(Ah||(Ah={}));var fI=(function(i){ge(t,i);function t(e,n,r){r===void 0&&(r=!0);var s=i.call(this,e,r)||this;return s.computeIndex=function(){for(var a=[],o=0,l=0,c=s.entries.length;l<c;l++){var u=s.entries[l],f=s.entries[l-1];l===0?a.push(u.ref.objectNumber):u.ref.objectNumber-f.ref.objectNumber>1&&(a.push(o),a.push(u.ref.objectNumber),o=0),o+=1}return a.push(o),a},s.computeEntryTuples=function(){for(var a=new Array(s.entries.length),o=0,l=s.entries.length;o<l;o++){var c=s.entries[o];if(c.type===Ah.Deleted){var u=c.type,f=c.nextFreeObjectNumber,g=c.ref;a[o]=[u,f,g.generationNumber]}if(c.type===Ah.Uncompressed){var u=c.type,p=c.offset,g=c.ref;a[o]=[u,p,g.generationNumber]}if(c.type===Ah.Compressed){var u=c.type,v=c.objectStreamRef,y=c.index;a[o]=[u,v.objectNumber,y]}}return a},s.computeMaxEntryByteWidths=function(){for(var a=s.entryTuplesCache.access(),o=[0,0,0],l=0,c=a.length;l<c;l++){var u=a[l],f=u[0],g=u[1],p=u[2],v=U0(f),y=U0(g),A=U0(p);v>o[0]&&(o[0]=v),y>o[1]&&(o[1]=y),A>o[2]&&(o[2]=A)}return o},s.entries=n||[],s.entryTuplesCache=Nc.populatedBy(s.computeEntryTuples),s.maxByteWidthsCache=Nc.populatedBy(s.computeMaxEntryByteWidths),s.indexCache=Nc.populatedBy(s.computeIndex),e.set(ct.of("Type"),ct.of("XRef")),s}return t.prototype.addDeletedEntry=function(e,n){var r=Ah.Deleted;this.entries.push({type:r,ref:e,nextFreeObjectNumber:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,n){var r=Ah.Uncompressed;this.entries.push({type:r,ref:e,offset:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,n,r){var s=Ah.Compressed;this.entries.push({type:s,ref:e,objectStreamRef:n,index:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var n=this,r=n.dict,s=n.entries,a=n.encode;return t.of(r.clone(e),s.slice(),a)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),r="",s=0,a=e.length;s<a;s++){for(var o=e[s],l=o[0],c=o[1],u=o[2],f=Cd(kd(l)),g=Cd(kd(c)),p=Cd(kd(u)),v=n[0]-1;v>=0;v--)r+=(f[v]||0).toString(2);for(var v=n[1]-1;v>=0;v--)r+=(g[v]||0).toString(2);for(var v=n[2]-1;v>=0;v--)r+=(p[v]||0).toString(2)}return r},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),r=new Uint8Array(this.getUnencodedContentsSize()),s=0,a=0,o=e.length;a<o;a++){for(var l=e[a],c=l[0],u=l[1],f=l[2],g=Cd(kd(c)),p=Cd(kd(u)),v=Cd(kd(f)),y=n[0]-1;y>=0;y--)r[s++]=g[y]||0;for(var y=n[1]-1;y>=0;y--)r[s++]=p[y]||0;for(var y=n[2]-1;y>=0;y--)r[s++]=v[y]||0}return r},t.prototype.getUnencodedContentsSize=function(){var e=this.maxByteWidthsCache.access(),n=YR(e);return n*this.entries.length},t.prototype.updateDict=function(){i.prototype.updateDict.call(this);var e=this.maxByteWidthsCache.access(),n=this.indexCache.access(),r=this.dict.context;this.dict.set(ct.of("W"),r.obj(e)),this.dict.set(ct.of("Index"),r.obj(n))},t.create=function(e,n){n===void 0&&(n=!0);var r=new t(e,[],n);return r.addDeletedEntry(ar.of(0,65535),0),r},t.of=function(e,n,r){return r===void 0&&(r=!0),new t(e,n,r)},t})(h2),pI=(function(i){ge(t,i);function t(e,n,r,s){var a=i.call(this,e,n)||this;return a.encodeStreams=r,a.objectsPerStream=s,a}return t.prototype.computeBufferSize=function(){return _n(this,void 0,void 0,function(){var e,n,r,s,a,o,l,c,v,y,u,w,f,g,A,p,v,y,A,w,C,E,k,L;return Pn(this,function(R){switch(R.label){case 0:e=this.context.largestObjectNumber+1,n=Wm.forVersion(1,7),r=n.sizeInBytes()+2,s=fI.create(this.createTrailerDict(),this.encodeStreams),a=[],o=[],l=[],c=this.context.enumerateIndirectObjects(),v=0,y=c.length,R.label=1;case 1:return v<y?(u=c[v],w=u[0],f=u[1],g=w===this.context.trailerInfo.Encrypt||f instanceof Xa||f instanceof hk||w.generationNumber!==0,g?(a.push(u),s.addUncompressedEntry(w,r),r+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,cf()]:[3,3]):[3,4]):[3,6];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:A=om(o),p=om(l),(!A||A.length%this.objectsPerStream===0)&&(A=[],o.push(A),p=ar.of(e++),l.push(p)),s.addCompressedEntry(w,p,A.length),A.push(u),R.label=5;case 5:return v++,[3,1];case 6:v=0,y=o.length,R.label=7;case 7:return v<y?(A=o[v],w=l[v],C=lk.withContextAndObjects(this.context,A,this.encodeStreams),s.addUncompressedEntry(w,r),r+=this.computeIndirectObjectSize([w,C]),a.push([w,C]),this.shouldWaitForTick(A.length)?[4,cf()]:[3,9]):[3,10];case 8:R.sent(),R.label=9;case 9:return v++,[3,7];case 10:return E=ar.of(e++),s.dict.set(ct.of("Size"),cn.of(e)),s.addUncompressedEntry(E,r),k=r,r+=this.computeIndirectObjectSize([E,s]),a.push([E,s]),L=u2.forLastCrossRefSectionOffset(k),r+=L.sizeInBytes(),[2,{size:r,header:n,indirectObjects:a,trailer:L}]}})})},t.forContext=function(e,n,r,s){return r===void 0&&(r=!0),s===void 0&&(s=50),new t(e,n,r,s)},t})(ck),nn=(function(i){ge(t,i);function t(e){var n=i.call(this)||this;return n.value=e,n}return t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2===1?"0":""),n=e.length,r=new Uint8Array(e.length/2),s=0,a=0;s<n;){var o=parseInt(e.substring(s,s+2),16);r[a]=o,s+=2,a+=1}return r},t.prototype.decodeText=function(){var e=this.asBytes();return ZC(e)?XC(e):sk(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),n=qC(e);if(!n)throw new ak(e);return n},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,n){return e[n++]=ft.LessThan,n+=gs(this.value,e,n),e[n++]=ft.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var n=$R(e),r="",s=0,a=n.length;s<a;s++)r+=ag(n[s],4);return new t(r)},t})(ea),hm=(function(){function i(t,e){this.encoding=t===zp.ZapfDingbats?g0.ZapfDingbats:t===zp.Symbol?g0.Symbol:g0.WinAnsi,this.font=R4.load(t),this.fontName=this.font.FontName,this.customName=e}return i.prototype.encodeText=function(t){for(var e=this.encodeTextAsGlyphs(t),n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]=zm(e[r].code);return nn.of(n.join(""))},i.prototype.widthOfTextAtSize=function(t,e){for(var n=this.encodeTextAsGlyphs(t),r=0,s=0,a=n.length;s<a;s++){var o=n[s].name,l=(n[s+1]||{}).name,c=this.font.getXAxisKerningForPair(o,l)||0;r+=this.widthOfGlyph(o)+c}var u=e/1e3;return r*u},i.prototype.heightOfFontAtSize=function(t,e){e===void 0&&(e={});var n=e.descender,r=n===void 0?!0:n,s=this.font,a=s.Ascender,o=s.Descender,l=s.FontBBox,c=a||l[3],u=o||l[1],f=c-u;return r||(f+=o||0),f/1e3*t},i.prototype.sizeOfFontAtHeight=function(t){var e=this.font,n=e.Ascender,r=e.Descender,s=e.FontBBox,a=n||s[3],o=r||s[1];return 1e3*t/(a-o)},i.prototype.embedIntoContext=function(t,e){var n=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===g0.WinAnsi?"WinAnsiEncoding":void 0});return e?(t.assign(e,n),e):t.register(n)},i.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},i.prototype.encodeTextAsGlyphs=function(t){for(var e=Array.from(t),n=new Array(e.length),r=0,s=e.length;r<s;r++){var a=OR(e[r]);n[r]=this.encoding.encodeUnicodeCodePoint(a)}return n},i.for=function(t,e){return new i(t,e)},i})(),gI=function(i,t){for(var e=new Array(i.length),n=0,r=i.length;n<r;n++){var s=i[n],a=qx(H0(t(s))),o=qx.apply(void 0,s.codePoints.map(vI));e[n]=[a,o]}return mI(e)},mI=function(i){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+i.length+` beginbfchar
`+i.map(function(t){var e=t[0],n=t[1];return e+" "+n}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},qx=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return"<"+i.join("")+">"},H0=function(i){return ag(i,4)},vI=function(i){if(t4(i))return H0(i);if(e4(i)){var t=VC(i),e=GC(i);return""+H0(t)+H0(e)}var n=zm(i),r="0x"+n+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(r)},yI=function(i){var t=0,e=function(n){t|=1<<n-1};return i.fixedPitch&&e(1),i.serif&&e(2),e(3),i.script&&e(4),i.nonsymbolic&&e(6),i.italic&&e(7),i.allCap&&e(17),i.smallCap&&e(18),i.forceBold&&e(19),t},bI=function(i){var t=i["OS/2"]?i["OS/2"].sFamilyClass:0,e=yI({fixedPitch:i.post.isFixedPitch,serif:1<=t&&t<=7,script:t===10,italic:i.head.macStyle.italic});return e},sr=(function(i){ge(t,i);function t(e){var n=i.call(this)||this;return n.value=e,n}return t.prototype.asBytes=function(){for(var e=[],n="",r=!1,s=function(f){f!==void 0&&e.push(f),r=!1},a=0,o=this.value.length;a<o;a++){var l=this.value[a],c=fn(l),u=this.value[a+1];r?c===ft.Newline||c===ft.CarriageReturn?s():c===ft.n?s(ft.Newline):c===ft.r?s(ft.CarriageReturn):c===ft.t?s(ft.Tab):c===ft.b?s(ft.Backspace):c===ft.f?s(ft.FormFeed):c===ft.LeftParen?s(ft.LeftParen):c===ft.RightParen?s(ft.RightParen):c===ft.Backspace?s(ft.BackSlash):c>=ft.Zero&&c<=ft.Seven?(n+=l,(n.length===3||!(u>="0"&&u<="7"))&&(s(parseInt(n,8)),n="")):s(c):c===ft.BackSlash?r=!0:s(c)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return ZC(e)?XC(e):sk(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),n=qC(e);if(!n)throw new ak(e);return n},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,n){return e[n++]=ft.LeftParen,n+=gs(this.value,e,n),e[n++]=ft.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){var n=$o(String(e.getUTCFullYear()),4,"0"),r=$o(String(e.getUTCMonth()+1),2,"0"),s=$o(String(e.getUTCDate()),2,"0"),a=$o(String(e.getUTCHours()),2,"0"),o=$o(String(e.getUTCMinutes()),2,"0"),l=$o(String(e.getUTCSeconds()),2,"0");return new t("D:"+n+r+s+a+o+l+"Z")},t})(ea),d2=(function(){function i(t,e,n,r){var s=this;this.allGlyphsInFontSortedById=function(){for(var a=new Array(s.font.characterSet.length),o=0,l=a.length;o<l;o++){var c=s.font.characterSet[o];a[o]=s.font.glyphForCodePoint(c)}return KR(a.sort(XR),function(u){return u.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=e,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=r,this.baseFontName="",this.glyphCache=Nc.populatedBy(this.allGlyphsInFontSortedById)}return i.for=function(t,e,n,r){return _n(this,void 0,void 0,function(){var s;return Pn(this,function(a){switch(a.label){case 0:return[4,t.create(e)];case 1:return s=a.sent(),[2,new i(s,e,n,r)]}})})},i.prototype.encodeText=function(t){for(var e=this.font.layout(t,this.fontFeatures).glyphs,n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]=ag(e[r].id,4);return nn.of(n.join(""))},i.prototype.widthOfTextAtSize=function(t,e){for(var n=this.font.layout(t,this.fontFeatures).glyphs,r=0,s=0,a=n.length;s<a;s++)r+=n[s].advanceWidth*this.scale;var o=e/1e3;return r*o},i.prototype.heightOfFontAtSize=function(t,e){e===void 0&&(e={});var n=e.descender,r=n===void 0?!0:n,s=this.font,a=s.ascent,o=s.descent,l=s.bbox,c=(a||l.maxY)*this.scale,u=(o||l.minY)*this.scale,f=c-u;return r||(f-=Math.abs(o)||0),f/1e3*t},i.prototype.sizeOfFontAtHeight=function(t){var e=this.font,n=e.ascent,r=e.descent,s=e.bbox,a=(n||s.maxY)*this.scale,o=(r||s.minY)*this.scale;return 1e3*t/(a-o)},i.prototype.embedIntoContext=function(t,e){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,e)},i.prototype.embedFontDict=function(t,e){return _n(this,void 0,void 0,function(){var n,r,s;return Pn(this,function(a){switch(a.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return n=a.sent(),r=this.embedUnicodeCmap(t),s=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:r}),e?(t.assign(e,s),[2,e]):[2,t.register(s)]}})})},i.prototype.isCFF=function(){return this.font.cff},i.prototype.embedCIDFontDict=function(t){return _n(this,void 0,void 0,function(){var e,n;return Pn(this,function(r){switch(r.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return e=r.sent(),n=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:sr.of("Adobe"),Ordering:sr.of("Identity"),Supplement:0},FontDescriptor:e,W:this.computeWidths()}),[2,t.register(n)]}})})},i.prototype.embedFontDescriptor=function(t){return _n(this,void 0,void 0,function(){var e,n,r,s,a,o,l,c,u,f,g,p,v,y,A;return Pn(this,function(w){switch(w.label){case 0:return[4,this.embedFontStream(t)];case 1:return e=w.sent(),n=this.scale,r=this.font,s=r.italicAngle,a=r.ascent,o=r.descent,l=r.capHeight,c=r.xHeight,u=this.font.bbox,f=u.minX,g=u.minY,p=u.maxX,v=u.maxY,y=t.obj((A={Type:"FontDescriptor",FontName:this.baseFontName,Flags:bI(this.font),FontBBox:[f*n,g*n,p*n,v*n],ItalicAngle:s,Ascent:a*n,Descent:o*n,CapHeight:(l||a)*n,XHeight:(c||0)*n,StemV:0},A[this.isCFF()?"FontFile3":"FontFile2"]=e,A)),[2,t.register(y)]}})})},i.prototype.serializeFont=function(){return _n(this,void 0,void 0,function(){return Pn(this,function(t){return[2,this.fontData]})})},i.prototype.embedFontStream=function(t){return _n(this,void 0,void 0,function(){var e,n,r;return Pn(this,function(s){switch(s.label){case 0:return r=(n=t).flateStream,[4,this.serializeFont()];case 1:return e=r.apply(n,[s.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(e)]}})})},i.prototype.embedUnicodeCmap=function(t){var e=gI(this.glyphCache.access(),this.glyphId.bind(this)),n=t.flateStream(e);return t.register(n)},i.prototype.glyphId=function(t){return t?t.id:-1},i.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),e=[],n=[],r=0,s=t.length;r<s;r++){var a=t[r],o=t[r-1],l=this.glyphId(a),c=this.glyphId(o);r===0?e.push(l):l-c!==1&&(e.push(n),e.push(l),n=[]),n.push(a.advanceWidth*this.scale)}return e.push(n),e},i})(),wI=(function(i){ge(t,i);function t(e,n,r,s){var a=i.call(this,e,n,r,s)||this;return a.subset=a.font.createSubset(),a.glyphs=[],a.glyphCache=Nc.populatedBy(function(){return a.glyphs}),a.glyphIdMap=new Map,a}return t.for=function(e,n,r,s){return _n(this,void 0,void 0,function(){var a;return Pn(this,function(o){switch(o.label){case 0:return[4,e.create(n)];case 1:return a=o.sent(),[2,new t(a,n,r,s)]}})})},t.prototype.encodeText=function(e){for(var n=this.font.layout(e,this.fontFeatures).glyphs,r=new Array(n.length),s=0,a=n.length;s<a;s++){var o=n[s],l=this.subset.includeGlyph(o);this.glyphs[l-1]=o,this.glyphIdMap.set(o.id,l),r[s]=ag(l,4)}return this.glyphCache.invalidate(),nn.of(r.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise(function(n,r){var s=[];e.subset.encodeStream().on("data",function(a){return s.push(a)}).on("end",function(){return n(GR(s))}).on("error",function(a){return r(a)})})},t})(d2),ab;(function(i){i.Source="Source",i.Data="Data",i.Alternative="Alternative",i.Supplement="Supplement",i.EncryptedPayload="EncryptedPayload",i.FormData="EncryptedPayload",i.Schema="Schema",i.Unspecified="Unspecified"})(ab||(ab={}));var AI=(function(){function i(t,e,n){n===void 0&&(n={}),this.fileData=t,this.fileName=e,this.options=n}return i.for=function(t,e,n){return n===void 0&&(n={}),new i(t,e,n)},i.prototype.embedIntoContext=function(t,e){return _n(this,void 0,void 0,function(){var n,r,s,a,o,l,c,u,f;return Pn(this,function(g){return n=this.options,r=n.mimeType,s=n.description,a=n.creationDate,o=n.modificationDate,l=n.afRelationship,c=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:r??void 0,Params:{Size:this.fileData.length,CreationDate:a?sr.fromDate(a):void 0,ModDate:o?sr.fromDate(o):void 0}}),u=t.register(c),f=t.obj({Type:"Filespec",F:sr.of(this.fileName),UF:nn.fromText(this.fileName),EF:{F:u},Desc:s?nn.fromText(s):void 0,AFRelationship:l??void 0}),e?(t.assign(e,f),[2,e]):[2,t.register(f)]})})},i})(),Wx=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],Qd;(function(i){i.DeviceGray="DeviceGray",i.DeviceRGB="DeviceRGB",i.DeviceCMYK="DeviceCMYK"})(Qd||(Qd={}));var xI={1:Qd.DeviceGray,3:Qd.DeviceRGB,4:Qd.DeviceCMYK},uk=(function(){function i(t,e,n,r,s){this.imageData=t,this.bitsPerComponent=e,this.width=n,this.height=r,this.colorSpace=s}return i.for=function(t){return _n(this,void 0,void 0,function(){var e,n,r,s,a,o,l,c,u,f;return Pn(this,function(g){if(e=new DataView(t.buffer),n=e.getUint16(0),n!==65496)throw new Error("SOI not found in JPEG");for(r=2;r<e.byteLength&&(s=e.getUint16(r),r+=2,!Wx.includes(s));)r+=e.getUint16(r);if(!Wx.includes(s))throw new Error("Invalid JPEG");if(r+=2,a=e.getUint8(r++),o=e.getUint16(r),r+=2,l=e.getUint16(r),r+=2,c=e.getUint8(r++),u=xI[c],!u)throw new Error("Unknown JPEG channel.");return f=u,[2,new i(t,a,l,o,f)]})})},i.prototype.embedIntoContext=function(t,e){return _n(this,void 0,void 0,function(){var n;return Pn(this,function(r){return n=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===Qd.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),e?(t.assign(e,n),[2,e]):[2,t.register(n)]})})},i})(),ae={};ae.toRGBA8=function(i){var t=i.width,e=i.height;if(i.tabs.acTL==null)return[ae.toRGBA8.decodeImage(i.data,t,e,i).buffer];var n=[];i.frames[0].data==null&&(i.frames[0].data=i.data);for(var r=t*e*4,s=new Uint8Array(r),a=new Uint8Array(r),o=new Uint8Array(r),l=0;l<i.frames.length;l++){var c=i.frames[l],u=c.rect.x,f=c.rect.y,g=c.rect.width,p=c.rect.height,v=ae.toRGBA8.decodeImage(c.data,g,p,i);if(l!=0)for(var y=0;y<r;y++)o[y]=s[y];if(c.blend==0?ae._copyTile(v,g,p,s,t,e,u,f,0):c.blend==1&&ae._copyTile(v,g,p,s,t,e,u,f,1),n.push(s.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)ae._copyTile(a,g,p,s,t,e,u,f,0);else if(c.dispose==2)for(var y=0;y<r;y++)s[y]=o[y]}}return n};ae.toRGBA8.decodeImage=function(i,t,e,n){var r=t*e,s=ae.decode._getBPP(n),a=Math.ceil(t*s/8),o=new Uint8Array(r*4),l=new Uint32Array(o.buffer),c=n.ctype,u=n.depth,f=ae._bin.readUshort;if(c==6){var g=r<<2;if(u==8)for(var p=0;p<g;p+=4)o[p]=i[p],o[p+1]=i[p+1],o[p+2]=i[p+2],o[p+3]=i[p+3];if(u==16)for(var p=0;p<g;p++)o[p]=i[p<<1]}else if(c==2){var v=n.tabs.tRNS;if(v==null){if(u==8)for(var p=0;p<r;p++){var y=p*3;l[p]=255<<24|i[y+2]<<16|i[y+1]<<8|i[y]}if(u==16)for(var p=0;p<r;p++){var y=p*6;l[p]=255<<24|i[y+4]<<16|i[y+2]<<8|i[y]}}else{var A=v[0],w=v[1],C=v[2];if(u==8)for(var p=0;p<r;p++){var E=p<<2,y=p*3;l[p]=255<<24|i[y+2]<<16|i[y+1]<<8|i[y],i[y]==A&&i[y+1]==w&&i[y+2]==C&&(o[E+3]=0)}if(u==16)for(var p=0;p<r;p++){var E=p<<2,y=p*6;l[p]=255<<24|i[y+4]<<16|i[y+2]<<8|i[y],f(i,y)==A&&f(i,y+2)==w&&f(i,y+4)==C&&(o[E+3]=0)}}}else if(c==3){var k=n.tabs.PLTE,L=n.tabs.tRNS,R=L?L.length:0;if(u==1)for(var M=0;M<e;M++)for(var j=M*a,B=M*t,p=0;p<t;p++){var E=B+p<<2,X=i[j+(p>>3)]>>7-((p&7)<<0)&1,D=3*X;o[E]=k[D],o[E+1]=k[D+1],o[E+2]=k[D+2],o[E+3]=X<R?L[X]:255}if(u==2)for(var M=0;M<e;M++)for(var j=M*a,B=M*t,p=0;p<t;p++){var E=B+p<<2,X=i[j+(p>>2)]>>6-((p&3)<<1)&3,D=3*X;o[E]=k[D],o[E+1]=k[D+1],o[E+2]=k[D+2],o[E+3]=X<R?L[X]:255}if(u==4)for(var M=0;M<e;M++)for(var j=M*a,B=M*t,p=0;p<t;p++){var E=B+p<<2,X=i[j+(p>>1)]>>4-((p&1)<<2)&15,D=3*X;o[E]=k[D],o[E+1]=k[D+1],o[E+2]=k[D+2],o[E+3]=X<R?L[X]:255}if(u==8)for(var p=0;p<r;p++){var E=p<<2,X=i[p],D=3*X;o[E]=k[D],o[E+1]=k[D+1],o[E+2]=k[D+2],o[E+3]=X<R?L[X]:255}}else if(c==4){if(u==8)for(var p=0;p<r;p++){var E=p<<2,z=p<<1,U=i[z];o[E]=U,o[E+1]=U,o[E+2]=U,o[E+3]=i[z+1]}if(u==16)for(var p=0;p<r;p++){var E=p<<2,z=p<<2,U=i[z];o[E]=U,o[E+1]=U,o[E+2]=U,o[E+3]=i[z+2]}}else if(c==0)for(var A=n.tabs.tRNS?n.tabs.tRNS:-1,M=0;M<e;M++){var Q=M*a,pt=M*t;if(u==1)for(var Z=0;Z<t;Z++){var U=255*(i[Q+(Z>>>3)]>>>7-(Z&7)&1),$=U==A*255?0:255;l[pt+Z]=$<<24|U<<16|U<<8|U}else if(u==2)for(var Z=0;Z<t;Z++){var U=85*(i[Q+(Z>>>2)]>>>6-((Z&3)<<1)&3),$=U==A*85?0:255;l[pt+Z]=$<<24|U<<16|U<<8|U}else if(u==4)for(var Z=0;Z<t;Z++){var U=17*(i[Q+(Z>>>1)]>>>4-((Z&1)<<2)&15),$=U==A*17?0:255;l[pt+Z]=$<<24|U<<16|U<<8|U}else if(u==8)for(var Z=0;Z<t;Z++){var U=i[Q+Z],$=U==A?0:255;l[pt+Z]=$<<24|U<<16|U<<8|U}else if(u==16)for(var Z=0;Z<t;Z++){var U=i[Q+(Z<<1)],$=f(i,Q+(Z<<p))==A?0:255;l[pt+Z]=$<<24|U<<16|U<<8|U}}return o};ae.decode=function(i){for(var t=new Uint8Array(i),e=8,n=ae._bin,r=n.readUshort,s=n.readUint,a={tabs:{},frames:[]},o=new Uint8Array(t.length),l=0,c,u=0,f=[137,80,78,71,13,10,26,10],g=0;g<8;g++)if(t[g]!=f[g])throw"The input is not a PNG file!";for(;e<t.length;){var p=n.readUint(t,e);e+=4;var v=n.readASCII(t,e,4);if(e+=4,v=="IHDR")ae.decode._IHDR(t,e,a);else if(v=="IDAT"){for(var g=0;g<p;g++)o[l+g]=t[e+g];l+=p}else if(v=="acTL")a.tabs[v]={num_frames:s(t,e),num_plays:s(t,e+4)},c=new Uint8Array(t.length);else if(v=="fcTL"){if(u!=0){var y=a.frames[a.frames.length-1];y.data=ae.decode._decompress(a,c.slice(0,u),y.rect.width,y.rect.height),u=0}var A={x:s(t,e+12),y:s(t,e+16),width:s(t,e+4),height:s(t,e+8)},w=r(t,e+22);w=r(t,e+20)/(w==0?100:w);var C={rect:A,delay:Math.round(w*1e3),dispose:t[e+24],blend:t[e+25]};a.frames.push(C)}else if(v=="fdAT"){for(var g=0;g<p-4;g++)c[u+g]=t[e+g+4];u+=p-4}else if(v=="pHYs")a.tabs[v]=[n.readUint(t,e),n.readUint(t,e+4),t[e+8]];else if(v=="cHRM"){a.tabs[v]=[];for(var g=0;g<8;g++)a.tabs[v].push(n.readUint(t,e+g*4))}else if(v=="tEXt"){a.tabs[v]==null&&(a.tabs[v]={});var E=n.nextZero(t,e),k=n.readASCII(t,e,E-e),L=n.readASCII(t,E+1,e+p-E-1);a.tabs[v][k]=L}else if(v=="iTXt"){a.tabs[v]==null&&(a.tabs[v]={});var E=0,R=e;E=n.nextZero(t,R);var k=n.readASCII(t,R,E-R);R=E+1,t[R],t[R+1],R+=2,E=n.nextZero(t,R),n.readASCII(t,R,E-R),R=E+1,E=n.nextZero(t,R),n.readUTF8(t,R,E-R),R=E+1;var L=n.readUTF8(t,R,p-(R-e));a.tabs[v][k]=L}else if(v=="PLTE")a.tabs[v]=n.readBytes(t,e,p);else if(v=="hIST"){var M=a.tabs.PLTE.length/3;a.tabs[v]=[];for(var g=0;g<M;g++)a.tabs[v].push(r(t,e+g*2))}else if(v=="tRNS")a.ctype==3?a.tabs[v]=n.readBytes(t,e,p):a.ctype==0?a.tabs[v]=r(t,e):a.ctype==2&&(a.tabs[v]=[r(t,e),r(t,e+2),r(t,e+4)]);else if(v=="gAMA")a.tabs[v]=n.readUint(t,e)/1e5;else if(v=="sRGB")a.tabs[v]=t[e];else if(v=="bKGD")a.ctype==0||a.ctype==4?a.tabs[v]=[r(t,e)]:a.ctype==2||a.ctype==6?a.tabs[v]=[r(t,e),r(t,e+2),r(t,e+4)]:a.ctype==3&&(a.tabs[v]=t[e]);else if(v=="IEND")break;e+=p,n.readUint(t,e),e+=4}if(u!=0){var y=a.frames[a.frames.length-1];y.data=ae.decode._decompress(a,c.slice(0,u),y.rect.width,y.rect.height),u=0}return a.data=ae.decode._decompress(a,o,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a};ae.decode._decompress=function(i,t,e,n){var r=ae.decode._getBPP(i),s=Math.ceil(e*r/8),a=new Uint8Array((s+1+i.interlace)*n);return t=ae.decode._inflate(t,a),i.interlace==0?t=ae.decode._filterZero(t,i,0,e,n):i.interlace==1&&(t=ae.decode._readInterlace(t,i)),t};ae.decode._inflate=function(i,t){var e=ae.inflateRaw(new Uint8Array(i.buffer,2,i.length-6),t);return e};ae.inflateRaw=(function(){var i={};return i.H={},i.H.N=function(t,e){var n=Uint8Array,r=0,s=0,a=0,o=0,l=0,c=0,u=0,f=0,g=0,p,v;if(t[0]==3&&t[1]==0)return e||new n(0);var y=i.H,A=y.b,w=y.e,C=y.R,E=y.n,k=y.A,L=y.Z,R=y.m,M=e==null;for(M&&(e=new n(t.length>>>2<<3));r==0;){if(r=A(t,g,1),s=A(t,g+1,2),g+=3,s==0){(g&7)!=0&&(g+=8-(g&7));var j=(g>>>3)+4,B=t[j-4]|t[j-3]<<8;M&&(e=i.H.W(e,f+B)),e.set(new n(t.buffer,t.byteOffset+j,B),f),g=j+B<<3,f+=B;continue}if(M&&(e=i.H.W(e,f+(1<<17))),s==1&&(p=R.J,v=R.h,c=511,u=31),s==2){a=w(t,g,5)+257,o=w(t,g+5,5)+1,l=w(t,g+10,4)+4,g+=14;for(var X=1,D=0;D<38;D+=2)R.Q[D]=0,R.Q[D+1]=0;for(var D=0;D<l;D++){var z=w(t,g+D*3,3);R.Q[(R.X[D]<<1)+1]=z,z>X&&(X=z)}g+=3*l,E(R.Q,X),k(R.Q,X,R.u),p=R.w,v=R.d,g=C(R.u,(1<<X)-1,a+o,t,g,R.v);var U=y.V(R.v,0,a,R.C);c=(1<<U)-1;var Q=y.V(R.v,a,o,R.D);u=(1<<Q)-1,E(R.C,U),k(R.C,U,p),E(R.D,Q),k(R.D,Q,v)}for(;;){var pt=p[L(t,g)&c];g+=pt&15;var Z=pt>>>4;if(!(Z>>>8))e[f++]=Z;else{if(Z==256)break;var $=f+Z-254;if(Z>264){var st=R.q[Z-257];$=f+(st>>>3)+w(t,g,st&7),g+=st&7}var rt=v[L(t,g)&u];g+=rt&15;var ot=rt>>>4,q=R.c[ot],I=(q>>>4)+A(t,g,q&15);for(g+=q&15;f<$;)e[f]=e[f++-I],e[f]=e[f++-I],e[f]=e[f++-I],e[f]=e[f++-I];f=$}}}return e.length==f?e:e.slice(0,f)},i.H.W=function(t,e){var n=t.length;if(e<=n)return t;var r=new Uint8Array(n<<1);return r.set(t,0),r},i.H.R=function(t,e,n,r,s,a){for(var o=i.H.e,l=i.H.Z,c=0;c<n;){var u=t[l(r,s)&e];s+=u&15;var f=u>>>4;if(f<=15)a[c]=f,c++;else{var g=0,p=0;f==16?(p=3+o(r,s,2),s+=2,g=a[c-1]):f==17?(p=3+o(r,s,3),s+=3):f==18&&(p=11+o(r,s,7),s+=7);for(var v=c+p;c<v;)a[c]=g,c++}}return s},i.H.V=function(t,e,n,r){for(var s=0,a=0,o=r.length>>>1;a<n;){var l=t[a+e];r[a<<1]=0,r[(a<<1)+1]=l,l>s&&(s=l),a++}for(;a<o;)r[a<<1]=0,r[(a<<1)+1]=0,a++;return s},i.H.n=function(t,e){for(var n=i.H.m,r=t.length,s,a,o,l,c,u=n.j,l=0;l<=e;l++)u[l]=0;for(l=1;l<r;l+=2)u[t[l]]++;var f=n.K;for(s=0,u[0]=0,a=1;a<=e;a++)s=s+u[a-1]<<1,f[a]=s;for(o=0;o<r;o+=2)c=t[o+1],c!=0&&(t[o]=f[c],f[c]++)},i.H.A=function(t,e,n){for(var r=t.length,s=i.H.m,a=s.r,o=0;o<r;o+=2)if(t[o+1]!=0)for(var l=o>>1,c=t[o+1],u=l<<4|c,f=e-c,g=t[o]<<f,p=g+(1<<f);g!=p;){var v=a[g]>>>15-e;n[v]=u,g++}},i.H.l=function(t,e){for(var n=i.H.m.r,r=15-e,s=0;s<t.length;s+=2){var a=t[s]<<e-t[s+1];t[s]=n[a]>>>r}},i.H.M=function(t,e,n){n=n<<(e&7);var r=e>>>3;t[r]|=n,t[r+1]|=n>>>8},i.H.I=function(t,e,n){n=n<<(e&7);var r=e>>>3;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},i.H.e=function(t,e,n){return(t[e>>>3]|t[(e>>>3)+1]<<8)>>>(e&7)&(1<<n)-1},i.H.b=function(t,e,n){return(t[e>>>3]|t[(e>>>3)+1]<<8|t[(e>>>3)+2]<<16)>>>(e&7)&(1<<n)-1},i.H.Z=function(t,e){return(t[e>>>3]|t[(e>>>3)+1]<<8|t[(e>>>3)+2]<<16)>>>(e&7)},i.H.i=function(t,e){return(t[e>>>3]|t[(e>>>3)+1]<<8|t[(e>>>3)+2]<<16|t[(e>>>3)+3]<<24)>>>(e&7)},i.H.m=(function(){var t=Uint16Array,e=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new t(65536),g:new t(32768)}})(),(function(){for(var t=i.H.m,e=32768,n=0;n<e;n++){var r=n;r=(r&2863311530)>>>1|(r&1431655765)<<1,r=(r&3435973836)>>>2|(r&858993459)<<2,r=(r&4042322160)>>>4|(r&252645135)<<4,r=(r&4278255360)>>>8|(r&16711935)<<8,t.r[n]=(r>>>16|r<<16)>>>17}function s(a,o,l){for(;o--!=0;)a.push(0,l)}for(var n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];s(t._,144,8),s(t._,112,9),s(t._,24,7),s(t._,8,8),i.H.n(t._,9),i.H.A(t._,9,t.J),i.H.l(t._,9),s(t.$,32,5),i.H.n(t.$,5),i.H.A(t.$,5,t.h),i.H.l(t.$,5),s(t.Q,19,0),s(t.C,286,0),s(t.D,30,0),s(t.v,320,0)})(),i.H.N})();ae.decode._readInterlace=function(i,t){for(var e=t.width,n=t.height,r=ae.decode._getBPP(t),s=r>>3,a=Math.ceil(e*r/8),o=new Uint8Array(n*a),l=0,c=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],p=0;p<7;){for(var v=f[p],y=g[p],A=0,w=0,C=c[p];C<n;)C+=v,w++;for(var E=u[p];E<e;)E+=y,A++;var k=Math.ceil(A*r/8);ae.decode._filterZero(i,t,l,A,w);for(var L=0,R=c[p];R<n;){for(var M=u[p],j=l+L*k<<3;M<e;){if(r==1){var B=i[j>>3];B=B>>7-(j&7)&1,o[R*a+(M>>3)]|=B<<7-((M&7)<<0)}if(r==2){var B=i[j>>3];B=B>>6-(j&7)&3,o[R*a+(M>>2)]|=B<<6-((M&3)<<1)}if(r==4){var B=i[j>>3];B=B>>4-(j&7)&15,o[R*a+(M>>1)]|=B<<4-((M&1)<<2)}if(r>=8)for(var X=R*a+M*s,D=0;D<s;D++)o[X+D]=i[(j>>3)+D];j+=r,M+=y}L++,R+=v}A*w!=0&&(l+=w*(1+k)),p=p+1}return o};ae.decode._getBPP=function(i){var t=[1,null,3,1,2,null,4][i.ctype];return t*i.depth};ae.decode._filterZero=function(i,t,e,n,r){var s=ae.decode._getBPP(t),a=Math.ceil(n*s/8),o=ae.decode._paeth;s=Math.ceil(s/8);var l=0,c=1,u=i[e],f=0;if(u>1&&(i[e]=[0,0,1][u-2]),u==3)for(f=s;f<a;f++)i[f+1]=i[f+1]+(i[f+1-s]>>>1)&255;for(var g=0;g<r;g++)if(l=e+g*a,c=l+g+1,u=i[c-1],f=0,u==0)for(;f<a;f++)i[l+f]=i[c+f];else if(u==1){for(;f<s;f++)i[l+f]=i[c+f];for(;f<a;f++)i[l+f]=i[c+f]+i[l+f-s]}else if(u==2)for(;f<a;f++)i[l+f]=i[c+f]+i[l+f-a];else if(u==3){for(;f<s;f++)i[l+f]=i[c+f]+(i[l+f-a]>>>1);for(;f<a;f++)i[l+f]=i[c+f]+(i[l+f-a]+i[l+f-s]>>>1)}else{for(;f<s;f++)i[l+f]=i[c+f]+o(0,i[l+f-a],0);for(;f<a;f++)i[l+f]=i[c+f]+o(i[l+f-s],i[l+f-a],i[l+f-s-a])}return i};ae.decode._paeth=function(i,t,e){var n=i+t-e,r=n-i,s=n-t,a=n-e;return r*r<=s*s&&r*r<=a*a?i:s*s<=a*a?t:e};ae.decode._IHDR=function(i,t,e){var n=ae._bin;e.width=n.readUint(i,t),t+=4,e.height=n.readUint(i,t),t+=4,e.depth=i[t],t++,e.ctype=i[t],t++,e.compress=i[t],t++,e.filter=i[t],t++,e.interlace=i[t],t++};ae._bin={nextZero:function(i,t){for(;i[t]!=0;)t++;return t},readUshort:function(i,t){return i[t]<<8|i[t+1]},writeUshort:function(i,t,e){i[t]=e>>8&255,i[t+1]=e&255},readUint:function(i,t){return i[t]*(256*256*256)+(i[t+1]<<16|i[t+2]<<8|i[t+3])},writeUint:function(i,t,e){i[t]=e>>24&255,i[t+1]=e>>16&255,i[t+2]=e>>8&255,i[t+3]=e&255},readASCII:function(i,t,e){for(var n="",r=0;r<e;r++)n+=String.fromCharCode(i[t+r]);return n},writeASCII:function(i,t,e){for(var n=0;n<e.length;n++)i[t+n]=e.charCodeAt(n)},readBytes:function(i,t,e){for(var n=[],r=0;r<e;r++)n.push(i[t+r]);return n},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,t,e){for(var n="",r,s=0;s<e;s++)n+="%"+ae._bin.pad(i[t+s].toString(16));try{r=decodeURIComponent(n)}catch{return ae._bin.readASCII(i,t,e)}return r}};ae._copyTile=function(i,t,e,n,r,s,a,o,l){for(var c=Math.min(t,r),u=Math.min(e,s),f=0,g=0,p=0;p<u;p++)for(var v=0;v<c;v++)if(a>=0&&o>=0?(f=p*t+v<<2,g=(o+p)*r+a+v<<2):(f=(-o+p)*t-a+v<<2,g=p*r+v<<2),l==0)n[g]=i[f],n[g+1]=i[f+1],n[g+2]=i[f+2],n[g+3]=i[f+3];else if(l==1){var y=i[f+3]*.00392156862745098,A=i[f]*y,w=i[f+1]*y,C=i[f+2]*y,E=n[g+3]*(1/255),k=n[g]*E,L=n[g+1]*E,R=n[g+2]*E,M=1-y,j=y+E*M,B=j==0?0:1/j;n[g+3]=255*j,n[g+0]=(A+k*M)*B,n[g+1]=(w+L*M)*B,n[g+2]=(C+R*M)*B}else if(l==2){var y=i[f+3],A=i[f],w=i[f+1],C=i[f+2],E=n[g+3],k=n[g],L=n[g+1],R=n[g+2];y==E&&A==k&&w==L&&C==R?(n[g]=0,n[g+1]=0,n[g+2]=0,n[g+3]=0):(n[g]=A,n[g+1]=w,n[g+2]=C,n[g+3]=y)}else if(l==3){var y=i[f+3],A=i[f],w=i[f+1],C=i[f+2],E=n[g+3],k=n[g],L=n[g+1],R=n[g+2];if(y==E&&A==k&&w==L&&C==R)continue;if(y<220&&E>20)return!1}return!0};ae.encode=function(i,t,e,n,r,s,a){n==null&&(n=0),a==null&&(a=!1);var o=ae.encode.compress(i,t,e,n,[!1,!1,!1,0,a]);return ae.encode.compressPNG(o,-1),ae.encode._main(o,t,e,r,s)};ae.encodeLL=function(i,t,e,n,r,s,a,o){for(var l={ctype:0+(n==1?0:2)+(r==0?0:4),depth:s,frames:[]},c=(n+r)*s,u=c*t,f=0;f<i.length;f++)l.frames.push({rect:{x:0,y:0,width:t,height:e},img:new Uint8Array(i[f]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(u/8)});ae.encode.compressPNG(l,0,!0);var g=ae.encode._main(l,t,e,a,o);return g};ae.encode._main=function(i,t,e,n,r){r==null&&(r={});var s=ae.crc.crc,a=ae._bin.writeUint,o=ae._bin.writeUshort,l=ae._bin.writeASCII,c=8,u=i.frames.length>1,f=!1,g=33+(u?20:0);if(r.sRGB!=null&&(g+=13),r.pHYs!=null&&(g+=21),i.ctype==3){for(var p=i.plte.length,v=0;v<p;v++)i.plte[v]>>>24!=255&&(f=!0);g+=8+p*3+4+(f?8+p*1+4:0)}for(var y=0;y<i.frames.length;y++){var A=i.frames[y];u&&(g+=38),g+=A.cimg.length+12,y!=0&&(g+=4)}g+=12;for(var w=new Uint8Array(g),C=[137,80,78,71,13,10,26,10],v=0;v<8;v++)w[v]=C[v];if(a(w,c,13),c+=4,l(w,c,"IHDR"),c+=4,a(w,c,t),c+=4,a(w,c,e),c+=4,w[c]=i.depth,c++,w[c]=i.ctype,c++,w[c]=0,c++,w[c]=0,c++,w[c]=0,c++,a(w,c,s(w,c-17,17)),c+=4,r.sRGB!=null&&(a(w,c,1),c+=4,l(w,c,"sRGB"),c+=4,w[c]=r.sRGB,c++,a(w,c,s(w,c-5,5)),c+=4),r.pHYs!=null&&(a(w,c,9),c+=4,l(w,c,"pHYs"),c+=4,a(w,c,r.pHYs[0]),c+=4,a(w,c,r.pHYs[1]),c+=4,w[c]=r.pHYs[2],c++,a(w,c,s(w,c-13,13)),c+=4),u&&(a(w,c,8),c+=4,l(w,c,"acTL"),c+=4,a(w,c,i.frames.length),c+=4,a(w,c,r.loop!=null?r.loop:0),c+=4,a(w,c,s(w,c-12,12)),c+=4),i.ctype==3){var p=i.plte.length;a(w,c,p*3),c+=4,l(w,c,"PLTE"),c+=4;for(var v=0;v<p;v++){var E=v*3,k=i.plte[v],L=k&255,R=k>>>8&255,M=k>>>16&255;w[c+E+0]=L,w[c+E+1]=R,w[c+E+2]=M}if(c+=p*3,a(w,c,s(w,c-p*3-4,p*3+4)),c+=4,f){a(w,c,p),c+=4,l(w,c,"tRNS"),c+=4;for(var v=0;v<p;v++)w[c+v]=i.plte[v]>>>24&255;c+=p,a(w,c,s(w,c-p-4,p+4)),c+=4}}for(var j=0,y=0;y<i.frames.length;y++){var A=i.frames[y];u&&(a(w,c,26),c+=4,l(w,c,"fcTL"),c+=4,a(w,c,j++),c+=4,a(w,c,A.rect.width),c+=4,a(w,c,A.rect.height),c+=4,a(w,c,A.rect.x),c+=4,a(w,c,A.rect.y),c+=4,o(w,c,n[y]),c+=2,o(w,c,1e3),c+=2,w[c]=A.dispose,c++,w[c]=A.blend,c++,a(w,c,s(w,c-30,30)),c+=4);var B=A.cimg,p=B.length;a(w,c,p+(y==0?0:4)),c+=4;var X=c;l(w,c,y==0?"IDAT":"fdAT"),c+=4,y!=0&&(a(w,c,j++),c+=4),w.set(B,c),c+=p,a(w,c,s(w,X,c-X)),c+=4}return a(w,c,0),c+=4,l(w,c,"IEND"),c+=4,a(w,c,s(w,c-4,4)),c+=4,w.buffer};ae.encode.compressPNG=function(i,t,e){for(var n=0;n<i.frames.length;n++){var r=i.frames[n];r.rect.width;var s=r.rect.height,a=new Uint8Array(s*r.bpl+s);r.cimg=ae.encode._filterZero(r.img,s,r.bpp,r.bpl,a,t,e)}};ae.encode.compress=function(i,t,e,n,r){for(var s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],u=6,f=8,g=255,p=0;p<i.length;p++)for(var v=new Uint8Array(i[p]),y=v.length,A=0;A<y;A+=4)g&=v[A+3];var w=g!=255,C=ae.encode.framize(i,t,e,s,a,o),E={},k=[],L=[];if(n!=0){for(var R=[],A=0;A<C.length;A++)R.push(C[A].img.buffer);for(var M=ae.encode.concatRGBA(R),j=ae.quantize(M,n),B=0,X=new Uint8Array(j.abuf),A=0;A<C.length;A++){var D=C[A].img,z=D.length;L.push(new Uint8Array(j.inds.buffer,B>>2,z>>2));for(var p=0;p<z;p+=4)D[p]=X[B+p],D[p+1]=X[B+p+1],D[p+2]=X[B+p+2],D[p+3]=X[B+p+3];B+=z}for(var A=0;A<j.plte.length;A++)k.push(j.plte[A].est.rgba)}else for(var p=0;p<C.length;p++){var U=C[p],Q=new Uint32Array(U.img.buffer),pt=U.rect.width,y=Q.length,Z=new Uint8Array(y);L.push(Z);for(var A=0;A<y;A++){var $=Q[A];if(A!=0&&$==Q[A-1])Z[A]=Z[A-1];else if(A>pt&&$==Q[A-pt])Z[A]=Z[A-pt];else{var st=E[$];if(st==null&&(E[$]=st=k.length,k.push($),k.length>=300))break;Z[A]=st}}}var rt=k.length;rt<=256&&c==!1&&(rt<=2?f=1:rt<=4?f=2:rt<=16?f=4:f=8,f=Math.max(f,l));for(var p=0;p<C.length;p++){var U=C[p];U.rect.x,U.rect.y;var pt=U.rect.width,ot=U.rect.height,q=U.img;new Uint32Array(q.buffer);var I=4*pt,W=4;if(rt<=256&&c==!1){I=Math.ceil(f*pt/8);for(var nt=new Uint8Array(I*ot),lt=L[p],dt=0;dt<ot;dt++){var A=dt*I,mt=dt*pt;if(f==8)for(var yt=0;yt<pt;yt++)nt[A+yt]=lt[mt+yt];else if(f==4)for(var yt=0;yt<pt;yt++)nt[A+(yt>>1)]|=lt[mt+yt]<<4-(yt&1)*4;else if(f==2)for(var yt=0;yt<pt;yt++)nt[A+(yt>>2)]|=lt[mt+yt]<<6-(yt&3)*2;else if(f==1)for(var yt=0;yt<pt;yt++)nt[A+(yt>>3)]|=lt[mt+yt]<<7-(yt&7)*1}q=nt,u=3,W=1}else if(w==!1&&C.length==1){for(var nt=new Uint8Array(pt*ot*3),_t=pt*ot,A=0;A<_t;A++){var D=A*3,Ot=A*4;nt[D]=q[Ot],nt[D+1]=q[Ot+1],nt[D+2]=q[Ot+2]}q=nt,u=2,W=3,I=3*pt}U.img=q,U.bpl=I,U.bpp=W}return{ctype:u,depth:f,plte:k,frames:C}};ae.encode.framize=function(i,t,e,n,r,s){for(var a=[],o=0;o<i.length;o++){var l=new Uint8Array(i[o]),c=new Uint32Array(l.buffer),u,f=0,g=0,p=t,v=e,y=n?1:0;if(o!=0){for(var A=s||n||o==1||a[o-2].dispose!=0?1:2,w=0,C=1e9,E=0;E<A;E++){for(var U=new Uint8Array(i[o-1-E]),k=new Uint32Array(i[o-1-E]),L=t,R=e,M=-1,j=-1,B=0;B<e;B++)for(var X=0;X<t;X++){var D=B*t+X;c[D]!=k[D]&&(X<L&&(L=X),X>M&&(M=X),B<R&&(R=B),B>j&&(j=B))}M==-1&&(L=R=M=j=0),r&&((L&1)==1&&L--,(R&1)==1&&R--);var z=(M-L+1)*(j-R+1);z<C&&(C=z,w=E,f=L,g=R,p=M-L+1,v=j-R+1)}var U=new Uint8Array(i[o-1-w]);w==1&&(a[o-1].dispose=2),u=new Uint8Array(p*v*4),ae._copyTile(U,t,e,u,p,v,-f,-g,0),y=ae._copyTile(l,t,e,u,p,v,-f,-g,3)?1:0,y==1?ae.encode._prepareDiff(l,t,e,u,{x:f,y:g,width:p,height:v}):ae._copyTile(l,t,e,u,p,v,-f,-g,0)}else u=l.slice(0);a.push({rect:{x:f,y:g,width:p,height:v},img:u,blend:y,dispose:0})}if(n)for(var o=0;o<a.length;o++){var Q=a[o];if(Q.blend!=1){var pt=Q.rect,Z=a[o-1].rect,$=Math.min(pt.x,Z.x),st=Math.min(pt.y,Z.y),rt=Math.max(pt.x+pt.width,Z.x+Z.width),ot=Math.max(pt.y+pt.height,Z.y+Z.height),q={x:$,y:st,width:rt-$,height:ot-st};a[o-1].dispose=1,o-1!=0&&ae.encode._updateFrame(i,t,e,a,o-1,q,r),ae.encode._updateFrame(i,t,e,a,o,q,r)}}var I=0;if(i.length!=1)for(var D=0;D<a.length;D++){var Q=a[D];I+=Q.rect.width*Q.rect.height}return a};ae.encode._updateFrame=function(i,t,e,n,r,s,a){for(var o=Uint8Array,l=Uint32Array,c=new o(i[r-1]),u=new l(i[r-1]),f=r+1<i.length?new o(i[r+1]):null,g=new o(i[r]),p=new l(g.buffer),v=t,y=e,A=-1,w=-1,C=0;C<s.height;C++)for(var E=0;E<s.width;E++){var k=s.x+E,L=s.y+C,R=L*t+k,M=p[R];M==0||n[r-1].dispose==0&&u[R]==M&&(f==null||f[R*4+3]!=0)||(k<v&&(v=k),k>A&&(A=k),L<y&&(y=L),L>w&&(w=L))}A==-1&&(v=y=A=w=0),a&&((v&1)==1&&v--,(y&1)==1&&y--),s={x:v,y,width:A-v+1,height:w-y+1};var j=n[r];j.rect=s,j.blend=1,j.img=new Uint8Array(s.width*s.height*4),n[r-1].dispose==0?(ae._copyTile(c,t,e,j.img,s.width,s.height,-s.x,-s.y,0),ae.encode._prepareDiff(g,t,e,j.img,s)):ae._copyTile(g,t,e,j.img,s.width,s.height,-s.x,-s.y,0)};ae.encode._prepareDiff=function(i,t,e,n,r){ae._copyTile(i,t,e,n,r.width,r.height,-r.x,-r.y,2)};ae.encode._filterZero=function(i,t,e,n,r,s,a){var o=[],l=[0,1,2,3,4];s!=-1?l=[s]:(t*n>5e5||e==1)&&(l=[0]);var c;a&&(c={level:0});for(var u=a&&UZIP!=null?UZIP:Um,f=0;f<l.length;f++){for(var g=0;g<t;g++)ae.encode._filterLine(r,i,g,n,e,l[f]);o.push(u.deflate(r,c))}for(var p,v=1e9,f=0;f<o.length;f++)o[f].length<v&&(p=f,v=o[f].length);return o[p]};ae.encode._filterLine=function(i,t,e,n,r,s){var a=e*n,o=a+e,l=ae.decode._paeth;if(i[o]=s,o++,s==0)if(n<500)for(var c=0;c<n;c++)i[o+c]=t[a+c];else i.set(new Uint8Array(t.buffer,a,n),o);else if(s==1){for(var c=0;c<r;c++)i[o+c]=t[a+c];for(var c=r;c<n;c++)i[o+c]=t[a+c]-t[a+c-r]+256&255}else if(e==0){for(var c=0;c<r;c++)i[o+c]=t[a+c];if(s==2)for(var c=r;c<n;c++)i[o+c]=t[a+c];if(s==3)for(var c=r;c<n;c++)i[o+c]=t[a+c]-(t[a+c-r]>>1)+256&255;if(s==4)for(var c=r;c<n;c++)i[o+c]=t[a+c]-l(t[a+c-r],0,0)+256&255}else{if(s==2)for(var c=0;c<n;c++)i[o+c]=t[a+c]+256-t[a+c-n]&255;if(s==3){for(var c=0;c<r;c++)i[o+c]=t[a+c]+256-(t[a+c-n]>>1)&255;for(var c=r;c<n;c++)i[o+c]=t[a+c]+256-(t[a+c-n]+t[a+c-r]>>1)&255}if(s==4){for(var c=0;c<r;c++)i[o+c]=t[a+c]+256-l(0,t[a+c-n],0)&255;for(var c=r;c<n;c++)i[o+c]=t[a+c]+256-l(t[a+c-r],t[a+c-n],t[a+c-r-n])&255}}};ae.crc={table:(function(){for(var i=new Uint32Array(256),t=0;t<256;t++){for(var e=t,n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;i[t]=e}return i})(),update:function(i,t,e,n){for(var r=0;r<n;r++)i=ae.crc.table[(i^t[e+r])&255]^i>>>8;return i},crc:function(i,t,e){return ae.crc.update(4294967295,i,t,e)^4294967295}};ae.quantize=function(i,t){var e=new Uint8Array(i),n=e.slice(0),r=new Uint32Array(n.buffer),s=ae.quantize.getKDtree(n,t),a=s[0],o=s[1];ae.quantize.planeDst;for(var l=e,c=r,u=l.length,f=new Uint8Array(e.length>>2),g=0;g<u;g+=4){var p=l[g]*.00392156862745098,v=l[g+1]*(1/255),y=l[g+2]*(1/255),A=l[g+3]*(1/255),w=ae.quantize.getNearest(a,p,v,y,A);f[g>>2]=w.ind,c[g>>2]=w.est.rgba}return{abuf:n.buffer,inds:f,plte:o}};ae.quantize.getKDtree=function(i,t,e){e==null&&(e=1e-4);var n=new Uint32Array(i.buffer),r={i0:0,i1:i.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=ae.quantize.stats(i,r.i0,r.i1),r.est=ae.quantize.estats(r.bst);for(var s=[r];s.length<t;){for(var a=0,o=0,l=0;l<s.length;l++)s[l].est.L>a&&(a=s[l].est.L,o=l);if(a<e)break;var c=s[o],u=ae.quantize.splitPixels(i,n,c.i0,c.i1,c.est.e,c.est.eMq255),f=c.i0>=u||c.i1<=u;if(f){c.est.L=0;continue}var g={i0:c.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};g.bst=ae.quantize.stats(i,g.i0,g.i1),g.est=ae.quantize.estats(g.bst);var p={i0:u,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};p.bst={R:[],m:[],N:c.bst.N-g.bst.N};for(var l=0;l<16;l++)p.bst.R[l]=c.bst.R[l]-g.bst.R[l];for(var l=0;l<4;l++)p.bst.m[l]=c.bst.m[l]-g.bst.m[l];p.est=ae.quantize.estats(p.bst),c.left=g,c.right=p,s[o]=g,s.push(p)}s.sort(function(v,y){return y.bst.N-v.bst.N});for(var l=0;l<s.length;l++)s[l].ind=l;return[r,s]};ae.quantize.getNearest=function(i,t,e,n,r){if(i.left==null)return i.tdst=ae.quantize.dist(i.est.q,t,e,n,r),i;var s=ae.quantize.planeDst(i.est,t,e,n,r),a=i.left,o=i.right;s>0&&(a=i.right,o=i.left);var l=ae.quantize.getNearest(a,t,e,n,r);if(l.tdst<=s*s)return l;var c=ae.quantize.getNearest(o,t,e,n,r);return c.tdst<l.tdst?c:l};ae.quantize.planeDst=function(i,t,e,n,r){var s=i.e;return s[0]*t+s[1]*e+s[2]*n+s[3]*r-i.eMq};ae.quantize.dist=function(i,t,e,n,r){var s=t-i[0],a=e-i[1],o=n-i[2],l=r-i[3];return s*s+a*a+o*o+l*l};ae.quantize.splitPixels=function(i,t,e,n,r,s){var a=ae.quantize.vecDot;for(n-=4;e<n;){for(;a(i,e,r)<=s;)e+=4;for(;a(i,n,r)>s;)n-=4;if(e>=n)break;var o=t[e>>2];t[e>>2]=t[n>>2],t[n>>2]=o,e+=4,n-=4}for(;a(i,e,r)>s;)e-=4;return e+4};ae.quantize.vecDot=function(i,t,e){return i[t]*e[0]+i[t+1]*e[1]+i[t+2]*e[2]+i[t+3]*e[3]};ae.quantize.stats=function(i,t,e){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],s=e-t>>2,a=t;a<e;a+=4){var o=i[a]*.00392156862745098,l=i[a+1]*(1/255),c=i[a+2]*(1/255),u=i[a+3]*(1/255);r[0]+=o,r[1]+=l,r[2]+=c,r[3]+=u,n[0]+=o*o,n[1]+=o*l,n[2]+=o*c,n[3]+=o*u,n[5]+=l*l,n[6]+=l*c,n[7]+=l*u,n[10]+=c*c,n[11]+=c*u,n[15]+=u*u}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:r,N:s}};ae.quantize.estats=function(i){var t=i.R,e=i.m,n=i.N,r=e[0],s=e[1],a=e[2],o=e[3],l=n==0?0:1/n,c=[t[0]-r*r*l,t[1]-r*s*l,t[2]-r*a*l,t[3]-r*o*l,t[4]-s*r*l,t[5]-s*s*l,t[6]-s*a*l,t[7]-s*o*l,t[8]-a*r*l,t[9]-a*s*l,t[10]-a*a*l,t[11]-a*o*l,t[12]-o*r*l,t[13]-o*s*l,t[14]-o*a*l,t[15]-o*o*l],u=c,f=ae.M4,g=[.5,.5,.5,.5],p=0,v=0;if(n!=0)for(var y=0;y<10&&(g=f.multVec(u,g),v=Math.sqrt(f.dot(g,g)),g=f.sml(1/v,g),!(Math.abs(v-p)<1e-9));y++)p=v;var A=[r*l,s*l,a*l,o*l],w=f.dot(f.sml(255,A),g);return{Cov:c,q:A,e:g,L:p,eMq255:w,eMq:f.dot(g,A),rgba:(Math.round(255*A[3])<<24|Math.round(255*A[2])<<16|Math.round(255*A[1])<<8|Math.round(255*A[0])<<0)>>>0}};ae.M4={multVec:function(i,t){return[i[0]*t[0]+i[1]*t[1]+i[2]*t[2]+i[3]*t[3],i[4]*t[0]+i[5]*t[1]+i[6]*t[2]+i[7]*t[3],i[8]*t[0]+i[9]*t[1]+i[10]*t[2]+i[11]*t[3],i[12]*t[0]+i[13]*t[1]+i[14]*t[2]+i[15]*t[3]]},dot:function(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]+i[3]*t[3]},sml:function(i,t){return[i*t[0],i*t[1],i*t[2],i*t[3]]}};ae.encode.concatRGBA=function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e].byteLength;for(var n=new Uint8Array(t),r=0,e=0;e<i.length;e++){for(var s=new Uint8Array(i[e]),a=s.length,o=0;o<a;o+=4){var l=s[o],c=s[o+1],u=s[o+2],f=s[o+3];f==0&&(l=c=u=0),n[r+o]=l,n[r+o+1]=c,n[r+o+2]=u,n[r+o+3]=f}r+=a}return n.buffer};var SI=function(i){if(i===0)return yu.Greyscale;if(i===2)return yu.Truecolour;if(i===3)return yu.IndexedColour;if(i===4)return yu.GreyscaleWithAlpha;if(i===6)return yu.TruecolourWithAlpha;throw new Error("Unknown color type: "+i)},EI=function(i){for(var t=Math.floor(i.length/4),e=new Uint8Array(t*3),n=new Uint8Array(t*1),r=0,s=0,a=0;r<i.length;)e[s++]=i[r++],e[s++]=i[r++],e[s++]=i[r++],n[a++]=i[r++];return{rgbChannel:e,alphaChannel:n}},yu;(function(i){i.Greyscale="Greyscale",i.Truecolour="Truecolour",i.IndexedColour="IndexedColour",i.GreyscaleWithAlpha="GreyscaleWithAlpha",i.TruecolourWithAlpha="TruecolourWithAlpha"})(yu||(yu={}));var CI=(function(){function i(t){var e=ae.decode(t),n=ae.toRGBA8(e);if(n.length>1)throw new Error("Animated PNGs are not supported");var r=new Uint8Array(n[0]),s=EI(r),a=s.rgbChannel,o=s.alphaChannel;this.rgbChannel=a;var l=o.some(function(c){return c<255});l&&(this.alphaChannel=o),this.type=SI(e.ctype),this.width=e.width,this.height=e.height,this.bitsPerComponent=8}return i.load=function(t){return new i(t)},i})(),dk=(function(){function i(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return i.for=function(t){return _n(this,void 0,void 0,function(){var e;return Pn(this,function(n){return e=CI.load(t),[2,new i(e)]})})},i.prototype.embedIntoContext=function(t,e){return _n(this,void 0,void 0,function(){var n,r;return Pn(this,function(s){return n=this.embedAlphaChannel(t),r=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),e?(t.assign(e,r),[2,e]):[2,t.register(r)]})})},i.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var e=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(e)}},i})(),fk=(function(){function i(t,e,n){this.bytes=t,this.start=e||0,this.pos=this.start,this.end=e&&n?e+n:this.bytes.length}return Object.defineProperty(i.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),i.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},i.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return t===-1||e===-1?-1:(t<<8)+e},i.prototype.getInt32=function(){var t=this.getByte(),e=this.getByte(),n=this.getByte(),r=this.getByte();return(t<<24)+(e<<16)+(n<<8)+r},i.prototype.getBytes=function(t,e){e===void 0&&(e=!1);var n=this.bytes,r=this.pos,s=this.end;if(t){var o=r+t;o>s&&(o=s),this.pos=o;var a=n.subarray(r,o);return e?new Uint8ClampedArray(a):a}else{var a=n.subarray(r,s);return e?new Uint8ClampedArray(a):a}},i.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},i.prototype.peekBytes=function(t,e){e===void 0&&(e=!1);var n=this.getBytes(t,e);return this.pos-=n.length,n},i.prototype.skip=function(t){t||(t=1),this.pos+=t},i.prototype.reset=function(){this.pos=this.start},i.prototype.moveStart=function(){this.start=this.pos},i.prototype.makeSubStream=function(t,e){return new i(this.bytes,t,e)},i.prototype.decode=function(){return this.bytes},i})(),kI=new Uint8Array(0),cg=(function(){function i(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=kI,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(i.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),i.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},i.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return t===-1||e===-1?-1:(t<<8)+e},i.prototype.getInt32=function(){var t=this.getByte(),e=this.getByte(),n=this.getByte(),r=this.getByte();return(t<<24)+(e<<16)+(n<<8)+r},i.prototype.getBytes=function(t,e){e===void 0&&(e=!1);var n,r=this.pos;if(t){for(this.ensureBuffer(r+t),n=r+t;!this.eof&&this.bufferLength<n;)this.readBlock();var s=this.bufferLength;n>s&&(n=s)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var a=this.buffer.subarray(r,n);return e&&!(a instanceof Uint8ClampedArray)?new Uint8ClampedArray(a):a},i.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},i.prototype.peekBytes=function(t,e){e===void 0&&(e=!1);var n=this.getBytes(t,e);return this.pos-=n.length,n},i.prototype.skip=function(t){t||(t=1),this.pos+=t},i.prototype.reset=function(){this.pos=0},i.prototype.makeSubStream=function(t,e){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new fk(this.buffer,t,e)},i.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},i.prototype.readBlock=function(){throw new Ao(this.constructor.name,"readBlock")},i.prototype.ensureBuffer=function(t){var e=this.buffer;if(t<=e.byteLength)return e;for(var n=this.minBufferLength;n<t;)n*=2;var r=new Uint8Array(n);return r.set(e),this.buffer=r},i})(),Vx=function(i){return i===32||i===9||i===13||i===10},_I=(function(i){ge(t,i);function t(e,n){var r=i.call(this,n)||this;return r.stream=e,r.input=new Uint8Array(5),n&&(n=.8*n),r}return t.prototype.readBlock=function(){for(var e=126,n=122,r=-1,s=this.stream,a=s.getByte();Vx(a);)a=s.getByte();if(a===r||a===e){this.eof=!0;return}var o=this.bufferLength,l,c;if(a===n){for(l=this.ensureBuffer(o+4),c=0;c<4;++c)l[o+c]=0;this.bufferLength+=4}else{var u=this.input;for(u[0]=a,c=1;c<5;++c){for(a=s.getByte();Vx(a);)a=s.getByte();if(u[c]=a,a===r||a===e)break}if(l=this.ensureBuffer(o+c-1),this.bufferLength+=c-1,c<5){for(;c<5;++c)u[c]=117;this.eof=!0}var f=0;for(c=0;c<5;++c)f=f*85+(u[c]-33);for(c=3;c>=0;--c)l[o+c]=f&255,f>>=8}},t})(cg),PI=(function(i){ge(t,i);function t(e,n){var r=i.call(this,n)||this;return r.stream=e,r.firstDigit=-1,n&&(n=.5*n),r}return t.prototype.readBlock=function(){var e=8e3,n=this.stream.getBytes(e);if(!n.length){this.eof=!0;return}for(var r=n.length+1>>1,s=this.ensureBuffer(this.bufferLength+r),a=this.bufferLength,o=this.firstDigit,l=0,c=n.length;l<c;l++){var u=n[l],f=void 0;if(u>=48&&u<=57)f=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)f=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;o<0?o=f:(s[a++]=o<<4|f,o=-1)}o>=0&&this.eof&&(s[a++]=o<<4,o=-1),this.firstDigit=o,this.bufferLength=a},t})(cg),Gx=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TI=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),LI=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),NI=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],FI=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],RI=(function(i){ge(t,i);function t(e,n){var r=i.call(this,n)||this;r.stream=e;var s=e.getByte(),a=e.getByte();if(s===-1||a===-1)throw new Error("Invalid header in flate stream: "+s+", "+a);if((s&15)!==8)throw new Error("Unknown compression method in flate stream: "+s+", "+a);if(((s<<8)+a)%31!==0)throw new Error("Bad FCHECK in flate stream: "+s+", "+a);if(a&32)throw new Error("FDICT bit set in flate stream: "+s+", "+a);return r.codeSize=0,r.codeBuf=0,r}return t.prototype.readBlock=function(){var e,n,r=this.stream,s=this.getBits(3);if(s&1&&(this.eof=!0),s>>=1,s===0){var a=void 0;if((a=r.getByte())===-1)throw new Error("Bad block header in flate stream");var o=a;if((a=r.getByte())===-1)throw new Error("Bad block header in flate stream");if(o|=a<<8,(a=r.getByte())===-1)throw new Error("Bad block header in flate stream");var l=a;if((a=r.getByte())===-1)throw new Error("Bad block header in flate stream");if(l|=a<<8,l!==(~o&65535)&&(o!==0||l!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var c=this.bufferLength;e=this.ensureBuffer(c+o);var u=c+o;if(this.bufferLength=u,o===0)r.peekByte()===-1&&(this.eof=!0);else for(var f=c;f<u;++f){if((a=r.getByte())===-1){this.eof=!0;break}e[f]=a}return}var g,p;if(s===1)g=NI,p=FI;else if(s===2){var v=this.getBits(5)+257,y=this.getBits(5)+1,A=this.getBits(4)+4,w=new Uint8Array(Gx.length),C=void 0;for(C=0;C<A;++C)w[Gx[C]]=this.getBits(3);var E=this.generateHuffmanTable(w);n=0,C=0;for(var k=v+y,L=new Uint8Array(k),R=void 0,M=void 0,j=void 0;C<k;){var B=this.getCode(E);if(B===16)R=2,M=3,j=n;else if(B===17)R=3,M=3,j=n=0;else if(B===18)R=7,M=11,j=n=0;else{L[C++]=n=B;continue}for(var X=this.getBits(R)+M;X-- >0;)L[C++]=j}g=this.generateHuffmanTable(L.subarray(0,v)),p=this.generateHuffmanTable(L.subarray(v,k))}else throw new Error("Unknown block type in flate stream");e=this.buffer;for(var D=e?e.length:0,z=this.bufferLength;;){var U=this.getCode(g);if(U<256){z+1>=D&&(e=this.ensureBuffer(z+1),D=e.length),e[z++]=U;continue}if(U===256){this.bufferLength=z;return}U-=257,U=TI[U];var Q=U>>16;Q>0&&(Q=this.getBits(Q)),n=(U&65535)+Q,U=this.getCode(p),U=LI[U],Q=U>>16,Q>0&&(Q=this.getBits(Q));var pt=(U&65535)+Q;z+n>=D&&(e=this.ensureBuffer(z+n),D=e.length);for(var Z=0;Z<n;++Z,++z)e[z]=e[z-pt]}},t.prototype.getBits=function(e){for(var n=this.stream,r=this.codeSize,s=this.codeBuf,a;r<e;){if((a=n.getByte())===-1)throw new Error("Bad encoding in flate stream");s|=a<<r,r+=8}return a=s&(1<<e)-1,this.codeBuf=s>>e,this.codeSize=r-=e,a},t.prototype.getCode=function(e){for(var n=this.stream,r=e[0],s=e[1],a=this.codeSize,o=this.codeBuf,l;a<s&&(l=n.getByte())!==-1;)o|=l<<a,a+=8;var c=r[o&(1<<s)-1];typeof r=="number"&&console.log("FLATE:",c);var u=c>>16,f=c&65535;if(u<1||a<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=o>>u,this.codeSize=a-u,f},t.prototype.generateHuffmanTable=function(e){var n=e.length,r=0,s;for(s=0;s<n;++s)e[s]>r&&(r=e[s]);for(var a=1<<r,o=new Int32Array(a),l=1,c=0,u=2;l<=r;++l,c<<=1,u<<=1)for(var f=0;f<n;++f)if(e[f]===l){var g=0,p=c;for(s=0;s<l;++s)g=g<<1|p&1,p>>=1;for(s=g;s<a;s+=u)o[s]=l<<16|f;++c}return[o,r]},t})(cg),II=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,n)||this;s.stream=e,s.cachedData=0,s.bitsCached=0;for(var a=4096,o={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(a),dictionaryLengths:new Uint16Array(a),dictionaryPrevCodes:new Uint16Array(a),currentSequence:new Uint8Array(a),currentSequenceLength:0},l=0;l<256;++l)o.dictionaryValues[l]=l,o.dictionaryLengths[l]=1;return s.lzwState=o,s}return t.prototype.readBlock=function(){var e=512,n=e*2,r=e,s,a,o,l=this.lzwState;if(l){var c=l.earlyChange,u=l.nextCode,f=l.dictionaryValues,g=l.dictionaryLengths,p=l.dictionaryPrevCodes,v=l.codeLength,y=l.prevCode,A=l.currentSequence,w=l.currentSequenceLength,C=0,E=this.bufferLength,k=this.ensureBuffer(this.bufferLength+n);for(s=0;s<e;s++){var L=this.readBits(v),R=w>0;if(!L||L<256)A[0]=L,w=1;else if(L>=258)if(L<u)for(w=g[L],a=w-1,o=L;a>=0;a--)A[a]=f[o],o=p[o];else A[w++]=A[0];else if(L===256){v=9,u=258,w=0;continue}else{this.eof=!0,delete this.lzwState;break}if(R&&(p[u]=y,g[u]=g[y]+1,f[u]=A[0],u++,v=u+c&u+c-1?v:Math.min(Math.log(u+c)/.6931471805599453+1,12)|0),y=L,C+=w,n<C){do n+=r;while(n<C);k=this.ensureBuffer(this.bufferLength+n)}for(a=0;a<w;a++)k[E++]=A[a]}l.nextCode=u,l.codeLength=v,l.prevCode=y,l.currentSequenceLength=w,this.bufferLength=E}},t.prototype.readBits=function(e){for(var n=this.bitsCached,r=this.cachedData;n<e;){var s=this.stream.getByte();if(s===-1)return this.eof=!0,null;r=r<<8|s,n+=8}return this.bitsCached=n-=e,this.cachedData=r,r>>>n&(1<<e)-1},t})(cg),DI=(function(i){ge(t,i);function t(e,n){var r=i.call(this,n)||this;return r.stream=e,r}return t.prototype.readBlock=function(){var e=this.stream.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}var n,r=this.bufferLength,s=e[0];if(s<128){if(n=this.ensureBuffer(r+s+1),n[r++]=e[1],s>0){var a=this.stream.getBytes(s);n.set(a,r),r+=s}}else{s=257-s;var o=e[1];n=this.ensureBuffer(r+s+1);for(var l=0;l<s;l++)n[r++]=o}this.bufferLength=r},t})(cg),Xx=function(i,t,e){if(t===ct.of("FlateDecode"))return new RI(i);if(t===ct.of("LZWDecode")){var n=1;if(e instanceof En){var r=e.lookup(ct.of("EarlyChange"));r instanceof cn&&(n=r.asNumber())}return new II(i,void 0,n)}if(t===ct.of("ASCII85Decode"))return new _I(i);if(t===ct.of("ASCIIHexDecode"))return new PI(i);if(t===ct.of("RunLengthDecode"))return new DI(i);throw new W4(t.asString())},pk=function(i){var t=i.dict,e=i.contents,n=new fk(e),r=t.lookup(ct.of("Filter")),s=t.lookup(ct.of("DecodeParms"));if(r instanceof ct)n=Xx(n,r,s);else if(r instanceof tr)for(var a=0,o=r.size();a<o;a++)n=Xx(n,r.lookup(a,ct),s&&s.lookupMaybe(a,En));else if(r)throw new lm([ct,tr],r);return n},MI=function(i){var t=i.MediaBox(),e=t.lookup(2,cn).asNumber()-t.lookup(0,cn).asNumber(),n=t.lookup(3,cn).asNumber()-t.lookup(1,cn).asNumber();return{left:0,bottom:0,right:e,top:n}},OI=function(i){return[1,0,0,1,-i.left,-i.bottom]},gk=(function(){function i(t,e,n){this.page=t;var r=e??MI(t);this.width=r.right-r.left,this.height=r.top-r.bottom,this.boundingBox=r,this.transformationMatrix=n??OI(r)}return i.for=function(t,e,n){return _n(this,void 0,void 0,function(){return Pn(this,function(r){return[2,new i(t,e,n)]})})},i.prototype.embedIntoContext=function(t,e){return _n(this,void 0,void 0,function(){var n,r,s,a,o,l,c,u,f,g;return Pn(this,function(p){if(n=this.page.normalizedEntries(),r=n.Contents,s=n.Resources,!r)throw new V4;return a=this.decodeContents(r),o=this.boundingBox,l=o.left,c=o.bottom,u=o.right,f=o.top,g=t.flateStream(a,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[l,c,u,f],Matrix:this.transformationMatrix,Resources:s}),e?(t.assign(e,g),[2,e]):[2,t.register(g)]})})},i.prototype.decodeContents=function(t){for(var e=Uint8Array.of(ft.Newline),n=[],r=0,s=t.size();r<s;r++){var a=t.lookup(r,Xa),o=void 0;if(a instanceof Hp)o=pk(a).decode();else if(a instanceof _p)o=a.getUnencodedContents();else throw new G4(a);n.push(o,e)}return VR.apply(void 0,n)},i})(),y0=function(i,t){if(i!==void 0)return t[i]},Pp;(function(i){i.UseNone="UseNone",i.UseOutlines="UseOutlines",i.UseThumbs="UseThumbs",i.UseOC="UseOC"})(Pp||(Pp={}));var Tp;(function(i){i.L2R="L2R",i.R2L="R2L"})(Tp||(Tp={}));var Lp;(function(i){i.None="None",i.AppDefault="AppDefault"})(Lp||(Lp={}));var um;(function(i){i.Simplex="Simplex",i.DuplexFlipShortEdge="DuplexFlipShortEdge",i.DuplexFlipLongEdge="DuplexFlipLongEdge"})(um||(um={}));var Kx=(function(){function i(t){this.dict=t}return i.prototype.lookupBool=function(t){var e=this.dict.lookup(ct.of(t));if(e instanceof Up)return e},i.prototype.lookupName=function(t){var e=this.dict.lookup(ct.of(t));if(e instanceof ct)return e},i.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},i.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},i.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},i.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},i.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},i.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},i.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},i.prototype.Direction=function(){return this.lookupName("Direction")},i.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},i.prototype.Duplex=function(){return this.lookupName("Duplex")},i.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},i.prototype.PrintPageRange=function(){var t=this.dict.lookup(ct.of("PrintPageRange"));if(t instanceof tr)return t},i.prototype.NumCopies=function(){var t=this.dict.lookup(ct.of("NumCopies"));if(t instanceof cn)return t},i.prototype.getHideToolbar=function(){var t,e;return(e=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},i.prototype.getHideMenubar=function(){var t,e;return(e=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},i.prototype.getHideWindowUI=function(){var t,e;return(e=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},i.prototype.getFitWindow=function(){var t,e;return(e=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},i.prototype.getCenterWindow=function(){var t,e;return(e=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},i.prototype.getDisplayDocTitle=function(){var t,e;return(e=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},i.prototype.getNonFullScreenPageMode=function(){var t,e,n=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(e=y0(n,Pp))!==null&&e!==void 0?e:Pp.UseNone},i.prototype.getReadingDirection=function(){var t,e,n=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(e=y0(n,Tp))!==null&&e!==void 0?e:Tp.L2R},i.prototype.getPrintScaling=function(){var t,e,n=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(e=y0(n,Lp))!==null&&e!==void 0?e:Lp.AppDefault},i.prototype.getDuplex=function(){var t,e=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return y0(e,um)},i.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},i.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var e=[],n=0;n<t.size();n+=2){var r=t.lookup(n,cn).asNumber(),s=t.lookup(n+1,cn).asNumber();e.push({start:r,end:s})}return e},i.prototype.getNumCopies=function(){var t,e;return(e=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:1},i.prototype.setHideToolbar=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("HideToolbar"),e)},i.prototype.setHideMenubar=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("HideMenubar"),e)},i.prototype.setHideWindowUI=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("HideWindowUI"),e)},i.prototype.setFitWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("FitWindow"),e)},i.prototype.setCenterWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("CenterWindow"),e)},i.prototype.setDisplayDocTitle=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("DisplayDocTitle"),e)},i.prototype.setNonFullScreenPageMode=function(t){kh(t,"nonFullScreenPageMode",Pp);var e=ct.of(t);this.dict.set(ct.of("NonFullScreenPageMode"),e)},i.prototype.setReadingDirection=function(t){kh(t,"readingDirection",Tp);var e=ct.of(t);this.dict.set(ct.of("Direction"),e)},i.prototype.setPrintScaling=function(t){kh(t,"printScaling",Lp);var e=ct.of(t);this.dict.set(ct.of("PrintScaling"),e)},i.prototype.setDuplex=function(t){kh(t,"duplex",um);var e=ct.of(t);this.dict.set(ct.of("Duplex"),e)},i.prototype.setPickTrayByPDFSize=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("PickTrayByPDFSize"),e)},i.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].start),e.push(t[n].end);rk(e,"printPageRange",["number"]);var s=this.dict.context.obj(e);this.dict.set(ct.of("PrintPageRange"),s)},i.prototype.setNumCopies=function(t){Wa(t,"numCopies",1,Number.MAX_VALUE),q4(t,"numCopies");var e=this.dict.context.obj(t);this.dict.set(ct.of("NumCopies"),e)},i.fromDict=function(t){return new i(t)},i.create=function(t){var e=t.obj({});return new i(e)},i})(),BI=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,mk=(function(){function i(t,e){this.dict=t,this.ref=e}return i.prototype.T=function(){return this.dict.lookupMaybe(ct.of("T"),sr,nn)},i.prototype.Ff=function(){var t=this.getInheritableAttribute(ct.of("Ff"));return this.dict.context.lookupMaybe(t,cn)},i.prototype.V=function(){var t=this.getInheritableAttribute(ct.of("V"));return this.dict.context.lookup(t)},i.prototype.Kids=function(){return this.dict.lookupMaybe(ct.of("Kids"),tr)},i.prototype.DA=function(){var t=this.dict.lookup(ct.of("DA"));if(t instanceof sr||t instanceof nn)return t},i.prototype.setKids=function(t){this.dict.set(ct.of("Kids"),this.dict.context.obj(t))},i.prototype.getParent=function(){var t=this.dict.get(ct.of("Parent"));if(t instanceof ar){var e=this.dict.lookup(ct.of("Parent"),En);return new i(e,t)}},i.prototype.setParent=function(t){t?this.dict.set(ct.of("Parent"),t):this.dict.delete(ct.of("Parent"))},i.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},i.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},i.prototype.setPartialName=function(t){t?this.dict.set(ct.of("T"),nn.fromText(t)):this.dict.delete(ct.of("T"))},i.prototype.setDefaultAppearance=function(t){this.dict.set(ct.of("DA"),sr.of(t))},i.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof nn?t.decodeText():t?.asString()},i.prototype.setFontSize=function(t){var e,n=(e=this.getFullyQualifiedName())!==null&&e!==void 0?e:"",r=this.getDefaultAppearance();if(!r)throw new Z4(n);var s=i2(r,BI);if(!s.match)throw new J4(n);var a=r.slice(0,s.pos-s.match[0].length),o=s.pos<=r.length?r.slice(s.pos):"",l=s.match[1],c=a+" /"+l+" "+t+" Tf "+o;this.setDefaultAppearance(c)},i.prototype.getFlags=function(){var t,e;return(e=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:0},i.prototype.setFlags=function(t){this.dict.set(ct.of("Ff"),cn.of(t))},i.prototype.hasFlag=function(t){var e=this.getFlags();return(e&t)!==0},i.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},i.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},i.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},i.prototype.getInheritableAttribute=function(t){var e;return this.ascend(function(n){e||(e=n.dict.get(t))}),e},i.prototype.ascend=function(t){t(this);var e=this.getParent();e&&e.ascend(t)},i})(),ny=(function(){function i(t){this.dict=t}return i.prototype.W=function(){var t=this.dict.lookup(ct.of("W"));if(t instanceof cn)return t},i.prototype.getWidth=function(){var t,e;return(e=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:1},i.prototype.setWidth=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("W"),e)},i.fromDict=function(t){return new i(t)},i})(),jI=(function(){function i(t){this.dict=t}return i.prototype.Rect=function(){return this.dict.lookup(ct.of("Rect"),tr)},i.prototype.AP=function(){return this.dict.lookupMaybe(ct.of("AP"),En)},i.prototype.F=function(){var t=this.dict.lookup(ct.of("F"));return this.dict.context.lookupMaybe(t,cn)},i.prototype.getRectangle=function(){var t,e=this.Rect();return(t=e?.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},i.prototype.setRectangle=function(t){var e=t.x,n=t.y,r=t.width,s=t.height,a=this.dict.context.obj([e,n,e+r,n+s]);this.dict.set(ct.of("Rect"),a)},i.prototype.getAppearanceState=function(){var t=this.dict.lookup(ct.of("AS"));if(t instanceof ct)return t},i.prototype.setAppearanceState=function(t){this.dict.set(ct.of("AS"),t)},i.prototype.setAppearances=function(t){this.dict.set(ct.of("AP"),t)},i.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(ct.of("AP"),t)),t},i.prototype.getNormalAppearance=function(){var t=this.ensureAP(),e=t.get(ct.of("N"));if(e instanceof ar||e instanceof En)return e;throw new Error("Unexpected N type: "+e?.constructor.name)},i.prototype.setNormalAppearance=function(t){var e=this.ensureAP();e.set(ct.of("N"),t)},i.prototype.setRolloverAppearance=function(t){var e=this.ensureAP();e.set(ct.of("R"),t)},i.prototype.setDownAppearance=function(t){var e=this.ensureAP();e.set(ct.of("D"),t)},i.prototype.removeRolloverAppearance=function(){var t=this.AP();t?.delete(ct.of("R"))},i.prototype.removeDownAppearance=function(){var t=this.AP();t?.delete(ct.of("D"))},i.prototype.getAppearances=function(){var t=this.AP();if(t){var e=t.lookup(ct.of("N"),En,Xa),n=t.lookupMaybe(ct.of("R"),En,Xa),r=t.lookupMaybe(ct.of("D"),En,Xa);return{normal:e,rollover:n,down:r}}},i.prototype.getFlags=function(){var t,e;return(e=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:0},i.prototype.setFlags=function(t){this.dict.set(ct.of("F"),cn.of(t))},i.prototype.hasFlag=function(t){var e=this.getFlags();return(e&t)!==0},i.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},i.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},i.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},i.fromDict=function(t){return new i(t)},i})(),ry=(function(){function i(t){this.dict=t}return i.prototype.R=function(){var t=this.dict.lookup(ct.of("R"));if(t instanceof cn)return t},i.prototype.BC=function(){var t=this.dict.lookup(ct.of("BC"));if(t instanceof tr)return t},i.prototype.BG=function(){var t=this.dict.lookup(ct.of("BG"));if(t instanceof tr)return t},i.prototype.CA=function(){var t=this.dict.lookup(ct.of("CA"));if(t instanceof nn||t instanceof sr)return t},i.prototype.RC=function(){var t=this.dict.lookup(ct.of("RC"));if(t instanceof nn||t instanceof sr)return t},i.prototype.AC=function(){var t=this.dict.lookup(ct.of("AC"));if(t instanceof nn||t instanceof sr)return t},i.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},i.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var e=[],n=0,r=t?.size();n<r;n++){var s=t.get(n);s instanceof cn&&e.push(s.asNumber())}return e}},i.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var e=[],n=0,r=t?.size();n<r;n++){var s=t.get(n);s instanceof cn&&e.push(s.asNumber())}return e}},i.prototype.getCaptions=function(){var t=this.CA(),e=this.RC(),n=this.AC();return{normal:t?.decodeText(),rollover:e?.decodeText(),down:n?.decodeText()}},i.prototype.setRotation=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("R"),e)},i.prototype.setBorderColor=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("BC"),e)},i.prototype.setBackgroundColor=function(t){var e=this.dict.context.obj(t);this.dict.set(ct.of("BG"),e)},i.prototype.setCaptions=function(t){var e=nn.fromText(t.normal);if(this.dict.set(ct.of("CA"),e),t.rollover){var n=nn.fromText(t.rollover);this.dict.set(ct.of("RC"),n)}else this.dict.delete(ct.of("RC"));if(t.down){var r=nn.fromText(t.down);this.dict.set(ct.of("AC"),r)}else this.dict.delete(ct.of("AC"))},i.fromDict=function(t){return new i(t)},i})(),ob=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.MK=function(){var e=this.dict.lookup(ct.of("MK"));if(e instanceof En)return e},t.prototype.BS=function(){var e=this.dict.lookup(ct.of("BS"));if(e instanceof En)return e},t.prototype.DA=function(){var e=this.dict.lookup(ct.of("DA"));if(e instanceof sr||e instanceof nn)return e},t.prototype.P=function(){var e=this.dict.get(ct.of("P"));if(e instanceof ar)return e},t.prototype.setP=function(e){this.dict.set(ct.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(ct.of("DA"),sr.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof nn?e.decodeText():e?.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return ry.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return ry.fromDict(e);var n=ry.fromDict(this.dict.context.obj({}));return this.dict.set(ct.of("MK"),n.dict),n},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return ny.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return ny.fromDict(e);var n=ny.fromDict(this.dict.context.obj({}));return this.dict.set(ct.of("BS"),n.dict),n},t.prototype.getOnValue=function(){var e,n=(e=this.getAppearances())===null||e===void 0?void 0:e.normal;if(n instanceof En)for(var r=n.keys(),s=0,a=r.length;s<a;s++){var o=r[s];if(o!==ct.of("Off"))return o}},t.fromDict=function(e){return new t(e)},t.create=function(e,n){var r=e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n});return new t(r)},t})(jI),ff=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.FT=function(){var e=this.getInheritableAttribute(ct.of("FT"));return this.dict.context.lookup(e,ct)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[ob.fromDict(this.dict)];for(var n=new Array(e.size()),r=0,s=e.size();r<s;r++){var a=e.lookup(r,En);n[r]=ob.fromDict(a)}return n},t.prototype.addWidget=function(e){var n=this.normalizedEntries().Kids;n.push(e)},t.prototype.removeWidget=function(e){var n=this.Kids();if(n){if(e<0||e>n.size())throw new cm(e,0,n.size());n.remove(e)}else{if(e!==0)throw new cm(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(ct.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t})(mk),f2=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(ct.of("Opt"),sr,nn,tr)},t.prototype.setOpt=function(e){this.dict.set(ct.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof sr||e instanceof nn)return[e];for(var n=[],r=0,s=e.size();r<s;r++){var a=e.lookup(r);(a instanceof sr||a instanceof nn)&&n.push(a)}return n}},t.prototype.removeExportValue=function(e){var n=this.Opt();if(n)if(n instanceof sr||n instanceof nn){if(e!==0)throw new cm(e,0,0);this.setOpt([])}else{if(e<0||e>n.size())throw new cm(e,0,n.size());n.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,n,r,s,a=(e=this.getExportValues())!==null&&e!==void 0?e:[],o=[],l=this.getWidgets(),c=0,u=l.length;c<u;c++){var f=l[c],g=(n=a[c])!==null&&n!==void 0?n:nn.fromText((s=(r=f.getOnValue())===null||r===void 0?void 0:r.decodeText())!==null&&s!==void 0?s:"");o.push(g)}this.setOpt(o)},t.prototype.addOpt=function(e,n){var r;this.normalizeExportValues();var s=e.decodeText(),a;if(n)for(var o=(r=this.getExportValues())!==null&&r!==void 0?r:[],l=0,c=o.length;l<c;l++){var u=o[l];u.decodeText()===s&&(a=l)}var f=this.Opt();return f.push(e),a??f.size()-1},t.prototype.addWidgetWithOpt=function(e,n,r){var s=this.addOpt(n,r),a=ct.of(String(s));return this.addWidget(e),a},t})(ff),Vm=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setValue=function(e){var n,r=(n=this.getOnValue())!==null&&n!==void 0?n:ct.of("Yes");if(e!==r&&e!==ct.of("Off"))throw new l2;this.dict.set(ct.of("V"),e);for(var s=this.getWidgets(),a=0,o=s.length;a<o;a++){var l=s[a],c=l.getOnValue()===e?e:ct.of("Off");l.setAppearanceState(c)}},t.prototype.getValue=function(){var e=this.V();return e instanceof ct?e:ct.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return e?.getOnValue()},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Kids:[]}),r=e.register(n);return new t(n,r)},t})(f2),Fi=function(i){return 1<<i},Zo;(function(i){i[i.ReadOnly=Fi(0)]="ReadOnly",i[i.Required=Fi(1)]="Required",i[i.NoExport=Fi(2)]="NoExport"})(Zo||(Zo={}));var bo;(function(i){i[i.NoToggleToOff=Fi(14)]="NoToggleToOff",i[i.Radio=Fi(15)]="Radio",i[i.PushButton=Fi(16)]="PushButton",i[i.RadiosInUnison=Fi(25)]="RadiosInUnison"})(bo||(bo={}));var ni;(function(i){i[i.Multiline=Fi(12)]="Multiline",i[i.Password=Fi(13)]="Password",i[i.FileSelect=Fi(20)]="FileSelect",i[i.DoNotSpellCheck=Fi(22)]="DoNotSpellCheck",i[i.DoNotScroll=Fi(23)]="DoNotScroll",i[i.Comb=Fi(24)]="Comb",i[i.RichText=Fi(25)]="RichText"})(ni||(ni={}));var ir;(function(i){i[i.Combo=Fi(17)]="Combo",i[i.Edit=Fi(18)]="Edit",i[i.Sort=Fi(19)]="Sort",i[i.MultiSelect=Fi(21)]="MultiSelect",i[i.DoNotSpellCheck=Fi(22)]="DoNotSpellCheck",i[i.CommitOnSelChange=Fi(26)]="CommitOnSelChange"})(ir||(ir={}));var vk=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setValues=function(e){if(this.hasFlag(ir.Combo)&&!this.hasFlag(ir.Edit)&&!this.valuesAreValid(e))throw new l2;if(e.length===0&&this.dict.delete(ct.of("V")),e.length===1&&this.dict.set(ct.of("V"),e[0]),e.length>1){if(!this.hasFlag(ir.MultiSelect))throw new Y4;this.dict.set(ct.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var n=this.getOptions(),r=function(l,c){var u=e[l].decodeText();if(!n.find(function(f){return u===(f.display||f.value).decodeText()}))return{value:!1}},s=0,a=e.length;s<a;s++){var o=r(s);if(typeof o=="object")return o.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var n=new Array(e.length),r=this.getOptions(),s=function(l,c){var u=e[l].decodeText();n[l]=r.findIndex(function(f){return u===(f.display||f.value).decodeText()})},a=0,o=e.length;a<o;a++)s(a,o);this.dict.set(ct.of("I"),this.dict.context.obj(n.sort()))}else this.dict.delete(ct.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof sr||e instanceof nn)return[e];if(e instanceof tr){for(var n=[],r=0,s=e.size();r<s;r++){var a=e.lookup(r);(a instanceof sr||a instanceof nn)&&n.push(a)}return n}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(ct.of("Opt"),sr,nn,tr)},t.prototype.setOptions=function(e){for(var n=new Array(e.length),r=0,s=e.length;r<s;r++){var a=e[r],o=a.value,l=a.display;n[r]=this.dict.context.obj([o,l||o])}this.dict.set(ct.of("Opt"),this.dict.context.obj(n))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof sr||e instanceof nn)return[{value:e,display:e}];if(e instanceof tr){for(var n=[],r=0,s=e.size();r<s;r++){var a=e.lookup(r);if((a instanceof sr||a instanceof nn)&&n.push({value:a,display:a}),a instanceof tr&&a.size()>0){var o=a.lookup(0,sr,nn),l=a.lookupMaybe(1,sr,nn);n.push({value:o,display:l||o})}}return n}return[]},t})(ff),Gm=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Ff:ir.Combo,Kids:[]}),r=e.register(n);return new t(n,r)},t})(vk),dm=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.addField=function(e){var n=this.normalizedEntries().Kids;n?.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(ct.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({}),r=e.register(n);return new t(n,r)},t})(mk),p2=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t})(ff),Xm=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var e=this.dict.lookup(ct.of("MaxLen"));if(e instanceof cn)return e},t.prototype.Q=function(){var e=this.dict.lookup(ct.of("Q"));if(e instanceof cn)return e},t.prototype.setMaxLength=function(e){this.dict.set(ct.of("MaxLen"),cn.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(ct.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return(e=this.MaxLen())===null||e===void 0?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(ct.of("Q"),cn.of(e))},t.prototype.getQuadding=function(){var e;return(e=this.Q())===null||e===void 0?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(ct.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(ct.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof sr||e instanceof nn)return e},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Tx",Kids:[]}),r=e.register(n);return new t(n,r)},t})(ff),Km=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:bo.PushButton,Kids:[]}),r=e.register(n);return new t(n,r)},t})(f2),Ym=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setValue=function(e){var n=this.getOnValues();if(!n.includes(e)&&e!==ct.of("Off"))throw new l2;this.dict.set(ct.of("V"),e);for(var r=this.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s],l=o.getOnValue()===e?e:ct.of("Off");o.setAppearanceState(l)}},t.prototype.getValue=function(){var e=this.V();return e instanceof ct?e:ct.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),n=[],r=0,s=e.length;r<s;r++){var a=e[r].getOnValue();a&&n.push(a)}return n},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:bo.Radio,Kids:[]}),r=e.register(n);return new t(n,r)},t})(f2),Zm=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Kids:[]}),r=e.register(n);return new t(n,r)},t})(vk),g2=function(i){if(!i)return[];for(var t=[],e=0,n=i.size();e<n;e++){var r=i.get(e),s=i.lookup(e);r instanceof ar&&s instanceof En&&t.push([yk(s,r),r])}return t},yk=function(i,t){var e=zI(i);return e?dm.fromDict(i,t):UI(i,t)},zI=function(i){var t=i.lookup(ct.of("Kids"));if(t instanceof tr)for(var e=0,n=t.size();e<n;e++){var r=t.lookup(e),s=r instanceof En&&r.has(ct.of("T"));if(s)return!0}return!1},UI=function(i,t){var e=m2(i,ct.of("FT")),n=i.context.lookup(e,ct);return n===ct.of("Btn")?HI(i,t):n===ct.of("Ch")?qI(i,t):n===ct.of("Tx")?Xm.fromDict(i,t):n===ct.of("Sig")?p2.fromDict(i,t):ff.fromDict(i,t)},HI=function(i,t){var e,n=m2(i,ct.of("Ff")),r=i.context.lookupMaybe(n,cn),s=(e=r?.asNumber())!==null&&e!==void 0?e:0;return lb(s,bo.PushButton)?Km.fromDict(i,t):lb(s,bo.Radio)?Ym.fromDict(i,t):Vm.fromDict(i,t)},qI=function(i,t){var e,n=m2(i,ct.of("Ff")),r=i.context.lookupMaybe(n,cn),s=(e=r?.asNumber())!==null&&e!==void 0?e:0;return lb(s,ir.Combo)?Gm.fromDict(i,t):Zm.fromDict(i,t)},lb=function(i,t){return(i&t)!==0},m2=function(i,t){var e;return bk(i,function(n){e||(e=n.get(t))}),e},bk=function(i,t){t(i);var e=i.lookupMaybe(ct.of("Parent"),En);e&&bk(e,t)},fm=(function(){function i(t){this.dict=t}return i.prototype.Fields=function(){var t=this.dict.lookup(ct.of("Fields"));if(t instanceof tr)return t},i.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,e=new Array(t.size()),n=0,r=t.size();n<r;n++){var s=t.get(n),a=t.lookup(n,En);e[n]=[yk(a,s),s]}return e},i.prototype.getAllFields=function(){var t=[],e=function(n){if(n)for(var r=0,s=n.length;r<s;r++){var a=n[r];t.push(a);var o=a[0];o instanceof dm&&e(g2(o.Kids()))}};return e(this.getFields()),t},i.prototype.addField=function(t){var e=this.normalizedEntries().Fields;e?.push(t)},i.prototype.removeField=function(t){var e=t.getParent(),n=e===void 0?this.normalizedEntries().Fields:e.Kids(),r=n?.indexOf(t.ref);if(n===void 0||r===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());n.remove(r),e!==void 0&&n.size()===0&&this.removeField(e)},i.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(ct.of("Fields"),t)),{Fields:t}},i.fromDict=function(t){return new i(t)},i.create=function(t){var e=t.obj({Fields:[]});return new i(e)},i})(),wk=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(ct.of("Pages"),En)},t.prototype.AcroForm=function(){return this.lookupMaybe(ct.of("AcroForm"),En)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return fm.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=fm.create(this.context);var n=this.context.register(e.dict);this.set(ct.of("AcroForm"),n)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(ct.of("ViewerPreferences"),En)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return Kx.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=Kx.create(this.context);var n=this.context.register(e.dict);this.set(ct.of("ViewerPreferences"),n)}return e},t.prototype.insertLeafNode=function(e,n){var r=this.get(ct.of("Pages")),s=this.Pages().insertLeafNode(e,n);return s||r},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,n){var r=new Map;return r.set(ct.of("Type"),ct.of("Catalog")),r.set(ct.of("Pages"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t})(En),Ak=(function(i){ge(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(ct.of("Parent"))},t.prototype.Kids=function(){return this.lookup(ct.of("Kids"),tr)},t.prototype.Count=function(){return this.lookup(ct.of("Count"),cn)},t.prototype.pushTreeNode=function(e){var n=this.Kids();n.push(e)},t.prototype.pushLeafNode=function(e){var n=this.Kids();this.insertLeafKid(n.size(),e)},t.prototype.insertLeafNode=function(e,n){var r=this.Kids(),s=this.Count().asNumber();if(n>s)throw new Dx(n,s);for(var a=n,o=0,l=r.size();o<l;o++){if(a===0){this.insertLeafKid(o,e);return}var c=r.get(o),u=this.context.lookup(c);if(u instanceof t){if(u.Count().asNumber()>a)return u.insertLeafNode(e,a)||c;a-=u.Count().asNumber()}u instanceof Fc&&(a-=1)}if(a===0){this.insertLeafKid(r.size(),e);return}throw new Mx(n,"insertLeafNode")},t.prototype.removeLeafNode=function(e,n){n===void 0&&(n=!0);var r=this.Kids(),s=this.Count().asNumber();if(e>=s)throw new Dx(e,s);for(var a=e,o=0,l=r.size();o<l;o++){var c=r.get(o),u=this.context.lookup(c);if(u instanceof t)if(u.Count().asNumber()>a){u.removeLeafNode(a,n),n&&u.Kids().size()===0&&r.remove(o);return}else a-=u.Count().asNumber();if(u instanceof Fc)if(a===0){this.removeKid(o);return}else a-=1}throw new Mx(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var n=this.Parent();n&&n.ascend(e)},t.prototype.traverse=function(e){for(var n=this.Kids(),r=0,s=n.size();r<s;r++){var a=n.get(r),o=this.context.lookup(a);o instanceof t&&o.traverse(e),e(o,a)}},t.prototype.insertLeafKid=function(e,n){var r=this.Kids();this.ascend(function(s){var a=s.Count().asNumber()+1;s.set(ct.of("Count"),cn.of(a))}),r.insert(e,n)},t.prototype.removeKid=function(e){var n=this.Kids(),r=n.lookup(e);r instanceof Fc&&this.ascend(function(s){var a=s.Count().asNumber()-1;s.set(ct.of("Count"),cn.of(a))}),n.remove(e)},t.withContext=function(e,n){var r=new Map;return r.set(ct.of("Type"),ct.of("Pages")),r.set(ct.of("Kids"),e.obj([])),r.set(ct.of("Count"),e.obj(0)),n&&r.set(ct.of("Parent"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t})(En),Os=new Uint8Array(256);Os[ft.Zero]=1;Os[ft.One]=1;Os[ft.Two]=1;Os[ft.Three]=1;Os[ft.Four]=1;Os[ft.Five]=1;Os[ft.Six]=1;Os[ft.Seven]=1;Os[ft.Eight]=1;Os[ft.Nine]=1;var Jm=new Uint8Array(256);Jm[ft.Period]=1;Jm[ft.Plus]=1;Jm[ft.Minus]=1;var v2=new Uint8Array(256);for(var ap=0,WI=256;ap<WI;ap++)v2[ap]=Os[ap]||Jm[ap]?1:0;var Yx=ft.Newline,Zx=ft.CarriageReturn,VI=(function(){function i(t,e){e===void 0&&(e=!1),this.bytes=t,this.capNumbers=e}return i.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!Os[e])break;t+=Lc(this.bytes.next())}var n=Number(t);if(!t||!isFinite(n))throw new Ox(this.bytes.position(),t);return n},i.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!v2[e]||(t+=Lc(this.bytes.next()),e===ft.Period))break}for(;!this.bytes.done();){var e=this.bytes.peek();if(!Os[e])break;t+=Lc(this.bytes.next())}var n=Number(t);if(!t||!isFinite(n))throw new Ox(this.bytes.position(),t);if(n>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var r="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(r),Number.MAX_SAFE_INTEGER}else{var r="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(r)}return n},i.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Ic[this.bytes.peek()];)this.bytes.next()},i.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Yx||t===Zx)return;this.bytes.next()}},i.prototype.skipComment=function(){if(this.bytes.peek()!==ft.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Yx||t===Zx)return!0;this.bytes.next()}return!0},i.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},i.prototype.matchKeyword=function(t){for(var e=this.bytes.offset(),n=0,r=t.length;n<r;n++)if(this.bytes.done()||this.bytes.next()!==t[n])return this.bytes.moveTo(e),!1;return!0},i})(),Qm=(function(){function i(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return i.prototype.moveTo=function(t){this.idx=t},i.prototype.next=function(){var t=this.bytes[this.idx++];return t===ft.Newline?(this.line+=1,this.column=0):this.column+=1,t},i.prototype.assertNext=function(t){if(this.peek()!==t)throw new Q4(this.position(),t,this.peek());return this.next()},i.prototype.peek=function(){return this.bytes[this.idx]},i.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},i.prototype.peekAt=function(t){return this.bytes[t]},i.prototype.done=function(){return this.idx>=this.length},i.prototype.offset=function(){return this.idx},i.prototype.slice=function(t,e){return this.bytes.slice(t,e)},i.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},i.of=function(t){return new i(t)},i.fromPDFRawStream=function(t){return i.of(pk(t).decode())},i})(),GI=ft.Space,op=ft.CarriageReturn,lp=ft.Newline,cp=[ft.s,ft.t,ft.r,ft.e,ft.a,ft.m],b0=[ft.e,ft.n,ft.d,ft.s,ft.t,ft.r,ft.e,ft.a,ft.m],wr={header:[ft.Percent,ft.P,ft.D,ft.F,ft.Dash],eof:[ft.Percent,ft.Percent,ft.E,ft.O,ft.F],obj:[ft.o,ft.b,ft.j],endobj:[ft.e,ft.n,ft.d,ft.o,ft.b,ft.j],xref:[ft.x,ft.r,ft.e,ft.f],trailer:[ft.t,ft.r,ft.a,ft.i,ft.l,ft.e,ft.r],startxref:[ft.s,ft.t,ft.a,ft.r,ft.t,ft.x,ft.r,ft.e,ft.f],true:[ft.t,ft.r,ft.u,ft.e],false:[ft.f,ft.a,ft.l,ft.s,ft.e],null:[ft.n,ft.u,ft.l,ft.l],stream:cp,streamEOF1:Vn(cp,[GI,op,lp]),streamEOF2:Vn(cp,[op,lp]),streamEOF3:Vn(cp,[op]),streamEOF4:Vn(cp,[lp]),endstream:b0,EOF1endstream:Vn([op,lp],b0),EOF2endstream:Vn([op],b0),EOF3endstream:Vn([lp],b0)},xk=(function(i){ge(t,i);function t(e,n,r){r===void 0&&(r=!1);var s=i.call(this,e,r)||this;return s.context=n,s}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(wr.true))return Up.True;if(this.matchKeyword(wr.false))return Up.False;if(this.matchKeyword(wr.null))return xa;var e=this.bytes.peek();if(e===ft.LessThan&&this.bytes.peekAhead(1)===ft.LessThan)return this.parseDictOrStream();if(e===ft.LessThan)return this.parseHexString();if(e===ft.LeftParen)return this.parseString();if(e===ft.ForwardSlash)return this.parseName();if(e===ft.LeftSquareBracket)return this.parseArray();if(v2[e])return this.parseNumberOrRef();throw new $4(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var n=this.bytes.offset();if(Os[this.bytes.peek()]){var r=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===ft.R)return this.bytes.assertNext(ft.R),ar.of(e,r)}return this.bytes.moveTo(n),cn.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(ft.LessThan);!this.bytes.done()&&this.bytes.peek()!==ft.GreaterThan;)e+=Lc(this.bytes.next());return this.bytes.assertNext(ft.GreaterThan),nn.of(e)},t.prototype.parseString=function(){for(var e=0,n=!1,r="";!this.bytes.done();){var s=this.bytes.next();if(r+=Lc(s),n||(s===ft.LeftParen&&(e+=1),s===ft.RightParen&&(e-=1)),s===ft.BackSlash?n=!n:n&&(n=!1),e===0)return sr.of(r.substring(1,r.length-1))}throw new nI(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(ft.ForwardSlash);for(var e="";!this.bytes.done();){var n=this.bytes.peek();if(Ic[n]||_o[n])break;e+=Lc(n),this.bytes.next()}return ct.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(ft.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=tr.withContext(this.context);this.bytes.peek()!==ft.RightSquareBracket;){var n=this.parseObject();e.push(n),this.skipWhitespaceAndComments()}return this.bytes.assertNext(ft.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(ft.LessThan),this.bytes.assertNext(ft.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==ft.GreaterThan&&this.bytes.peekAhead(1)!==ft.GreaterThan;){var n=this.parseName(),r=this.parseObject();e.set(n,r),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(ft.GreaterThan),this.bytes.assertNext(ft.GreaterThan);var s=e.get(ct.of("Type"));return s===ct.of("Catalog")?wk.fromMapWithContext(e,this.context):s===ct.of("Pages")?Ak.fromMapWithContext(e,this.context):s===ct.of("Page")?Fc.fromMapWithContext(e,this.context):En.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e=this.bytes.position(),n=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(wr.streamEOF1)&&!this.matchKeyword(wr.streamEOF2)&&!this.matchKeyword(wr.streamEOF3)&&!this.matchKeyword(wr.streamEOF4)&&!this.matchKeyword(wr.stream))return n;var r=this.bytes.offset(),s,a=n.get(ct.of("Length"));a instanceof cn?(s=r+a.asNumber(),this.bytes.moveTo(s),this.skipWhitespaceAndComments(),this.matchKeyword(wr.endstream)||(this.bytes.moveTo(r),s=this.findEndOfStreamFallback(e))):s=this.findEndOfStreamFallback(e);var o=this.bytes.slice(r,s);return Hp.of(n,o)},t.prototype.findEndOfStreamFallback=function(e){for(var n=1,r=this.bytes.offset();!this.bytes.done()&&(r=this.bytes.offset(),this.matchKeyword(wr.stream)?n+=1:this.matchKeyword(wr.EOF1endstream)||this.matchKeyword(wr.EOF2endstream)||this.matchKeyword(wr.EOF3endstream)||this.matchKeyword(wr.endstream)?n-=1:this.bytes.next(),n!==0););if(n!==0)throw new eI(e);return r},t.forBytes=function(e,n,r){return new t(Qm.of(e),n,r)},t.forByteStream=function(e,n,r){return r===void 0&&(r=!1),new t(e,n,r)},t})(VI),XI=(function(i){ge(t,i);function t(e,n){var r=i.call(this,Qm.fromPDFRawStream(e),e.dict.context)||this,s=e.dict;return r.alreadyParsed=!1,r.shouldWaitForTick=n||(function(){return!1}),r.firstOffset=s.lookup(ct.of("First"),cn).asNumber(),r.objectCount=s.lookup(ct.of("N"),cn).asNumber(),r}return t.prototype.parseIntoContext=function(){return _n(this,void 0,void 0,function(){var e,n,r,s,a,o,l,c;return Pn(this,function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new o2("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),n=0,r=e.length,u.label=1;case 1:return n<r?(s=e[n],a=s.objectNumber,o=s.offset,this.bytes.moveTo(this.firstOffset+o),l=this.parseObject(),c=ar.of(a,0),this.context.assign(c,l),this.shouldWaitForTick()?[4,cf()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],n=0,r=this.objectCount;n<r;n++){this.skipWhitespaceAndComments();var s=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.parseRawInt();e.push({objectNumber:s,offset:a})}return e},t.forStream=function(e,n){return new t(e,n)},t})(xk),KI=(function(){function i(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=Qm.fromPDFRawStream(t),this.context=this.dict.context;var e=this.dict.lookup(ct.of("Size"),cn),n=this.dict.lookup(ct.of("Index"));if(n instanceof tr){this.subsections=[];for(var r=0,s=n.size();r<s;r+=2){var a=n.lookup(r+0,cn).asNumber(),o=n.lookup(r+1,cn).asNumber();this.subsections.push({firstObjectNumber:a,length:o})}}else this.subsections=[{firstObjectNumber:0,length:e.asNumber()}];var l=this.dict.lookup(ct.of("W"),tr);this.byteWidths=[-1,-1,-1];for(var r=0,s=l.size();r<s;r++)this.byteWidths[r]=l.lookup(r,cn).asNumber()}return i.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new o2("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(ct.of("Root")),Encrypt:this.dict.get(ct.of("Encrypt")),Info:this.dict.get(ct.of("Info")),ID:this.dict.get(ct.of("ID"))};var t=this.parseEntries();return t},i.prototype.parseEntries=function(){for(var t=[],e=this.byteWidths,n=e[0],r=e[1],s=e[2],a=0,o=this.subsections.length;a<o;a++)for(var l=this.subsections[a],c=l.firstObjectNumber,u=l.length,f=0;f<u;f++){for(var g=0,p=0,v=n;p<v;p++)g=g<<8|this.bytes.next();for(var y=0,p=0,v=r;p<v;p++)y=y<<8|this.bytes.next();for(var A=0,p=0,v=s;p<v;p++)A=A<<8|this.bytes.next();n===0&&(g=1);var w=c+f,C={ref:ar.of(w,A),offset:y,deleted:g===0,inObjectStream:g===2};t.push(C)}return t},i.forStream=function(t){return new i(t)},i})(),YI=(function(i){ge(t,i);function t(e,n,r,s){n===void 0&&(n=1/0),r===void 0&&(r=!1),s===void 0&&(s=!1);var a=i.call(this,Qm.of(e),sb.create(),s)||this;return a.alreadyParsed=!1,a.parsedObjects=0,a.shouldWaitForTick=function(){return a.parsedObjects+=1,a.parsedObjects%a.objectsPerTick===0},a.objectsPerTick=n,a.throwOnInvalidObject=r,a}return t.prototype.parseDocument=function(){return _n(this,void 0,void 0,function(){var e,n;return Pn(this,function(r){switch(r.label){case 0:if(this.alreadyParsed)throw new o2("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),r.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(r.sent(),n=this.bytes.offset(),n===e)throw new rI(this.bytes.position());return e=n,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(ar.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(ar.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var e=function(u){return u instanceof En&&u.lookup(ct.of("Type"))===ct.of("Catalog")},n=this.context.lookup(this.context.trailerInfo.Root);if(!e(n))for(var r=this.context.enumerateIndirectObjects(),s=0,a=r.length;s<a;s++){var o=r[s],l=o[0],c=o[1];e(c)&&(this.context.trailerInfo.Root=l)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(wr.header)){var e=this.parseRawInt();this.bytes.assertNext(ft.Period);var n=this.parseRawInt(),r=Wm.forVersion(e,n);return this.skipBinaryHeaderComment(),r}this.bytes.next()}throw new iI(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(wr.obj))throw new sI(this.bytes.position(),wr.obj);return ar.of(e,n)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return _n(this,void 0,void 0,function(){var e,n;return Pn(this,function(r){switch(r.label){case 0:return e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),n=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(wr.endobj),n instanceof Hp&&n.dict.lookup(ct.of("Type"))===ct.of("ObjStm")?[4,XI.forStream(n,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return r.sent(),[3,3];case 2:n instanceof Hp&&n.dict.lookup(ct.of("Type"))===ct.of("XRef")?KI.forStream(n).parseIntoContext():this.context.assign(e,n),r.label=3;case 3:return[2,e]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),n="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw new Error(n);console.warn(n);var r=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+r),this.skipWhitespaceAndComments();for(var s=this.bytes.offset(),a=!0;!this.bytes.done()&&(this.matchKeyword(wr.endobj)&&(a=!1),!!a);)this.bytes.next();if(a)throw new tI(e);var o=this.bytes.offset()-wr.endobj.length,l=hk.of(this.bytes.slice(s,o));return this.context.assign(r,l),r},t.prototype.parseIndirectObjects=function(){return _n(this,void 0,void 0,function(){var e;return Pn(this,function(n){switch(n.label){case 0:this.skipWhitespaceAndComments(),n.label=1;case 1:if(!(!this.bytes.done()&&Os[this.bytes.peek()]))return[3,8];e=this.bytes.offset(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return n.sent(),[3,5];case 4:return n.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,cf()]:[3,7];case 6:n.sent(),n.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(wr.xref)){this.skipWhitespaceAndComments();for(var e=-1,n=ok.createEmpty();!this.bytes.done()&&Os[this.bytes.peek()];){var r=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.bytes.peek();if(a===ft.n||a===ft.f){var o=ar.of(e,s);this.bytes.next()===ft.n?n.addEntry(o,r):n.addDeletedEntry(o,r),e+=1}else e=r;this.skipWhitespaceAndComments()}return n}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(wr.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),n=this.context;n.trailerInfo={Root:e.get(ct.of("Root"))||n.trailerInfo.Root,Encrypt:e.get(ct.of("Encrypt"))||n.trailerInfo.Encrypt,Info:e.get(ct.of("Info"))||n.trailerInfo.Info,ID:e.get(ct.of("ID"))||n.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(wr.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(wr.eof),this.skipWhitespaceAndComments(),this.matchKeyword(wr.eof),this.skipWhitespaceAndComments(),u2.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return _n(this,void 0,void 0,function(){return Pn(this,function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),n=this.bytes.peek(),r=n>=ft.Space&&n<=ft.Tilde;if(r&&(this.matchKeyword(wr.xref)||this.matchKeyword(wr.trailer)||this.matchKeyword(wr.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,n,r,s){return new t(e,n,r,s)},t})(xk),kl=function(i){return 1<<i},Np;(function(i){i[i.Invisible=kl(0)]="Invisible",i[i.Hidden=kl(1)]="Hidden",i[i.Print=kl(2)]="Print",i[i.NoZoom=kl(3)]="NoZoom",i[i.NoRotate=kl(4)]="NoRotate",i[i.NoView=kl(5)]="NoView",i[i.ReadOnly=kl(6)]="ReadOnly",i[i.Locked=kl(7)]="Locked",i[i.ToggleNoView=kl(8)]="ToggleNoView",i[i.LockedContents=kl(9)]="LockedContents"})(Np||(Np={}));var $m=function(i){return i instanceof ct?i:ct.of(i)},hn=function(i){return i instanceof cn?i:cn.of(i)},Tn=function(i){return i instanceof cn?i.asNumber():i},qp;(function(i){i.Degrees="degrees",i.Radians="radians"})(qp||(qp={}));var sn=function(i){return Ft(i,"degreeAngle",["number"]),{type:qp.Degrees,angle:i}},Sk=qp.Radians,Ek=qp.Degrees,Ck=function(i){return i*Math.PI/180},ZI=function(i){return i*180/Math.PI},ys=function(i){return i.type===Sk?i.angle:i.type===Ek?Ck(i.angle):lg("Invalid rotation: "+JSON.stringify(i))},kk=function(i){return i.type===Sk?ZI(i.angle):i.type===Ek?i.angle:lg("Invalid rotation: "+JSON.stringify(i))},Dc=function(i){i===void 0&&(i=0);var t=i/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},zu=function(i,t){t===void 0&&(t=0);var e=Dc(t);return e===90||e===270?{width:i.height,height:i.width}:{width:i.width,height:i.height}},JI=function(i,t,e){t===void 0&&(t=0),e===void 0&&(e=0);var n=i.x,r=i.y,s=i.width,a=i.height,o=Dc(e),l=t/2;return o===0?{x:n-l,y:r-l,width:s,height:a}:o===90?{x:n-a+l,y:r-l,width:a,height:s}:o===180?{x:n-s+l,y:r-a+l,width:s,height:a}:o===270?{x:n-l,y:r-s+l,width:a,height:s}:{x:n-l,y:r-l,width:s,height:a}},_k=function(){return Hn.of(Gn.ClipNonZero)},pm=Math.cos,gm=Math.sin,mm=Math.tan,tv=function(i,t,e,n,r,s){return Hn.of(Gn.ConcatTransformationMatrix,[hn(i),hn(t),hn(e),hn(n),hn(r),hn(s)])},xo=function(i,t){return tv(1,0,0,1,i,t)},Wp=function(i,t){return tv(i,0,0,t,0,0)},pf=function(i){return tv(pm(Tn(i)),gm(Tn(i)),-gm(Tn(i)),pm(Tn(i)),0,0)},w0=function(i){return pf(Ck(Tn(i)))},y2=function(i,t){return tv(1,mm(Tn(i)),mm(Tn(t)),1,0,0)},ev=function(i,t){return Hn.of(Gn.SetLineDashPattern,["["+i.map(hn).join(" ")+"]",hn(t)])},Gd;(function(i){i[i.Butt=0]="Butt",i[i.Round=1]="Round",i[i.Projecting=2]="Projecting"})(Gd||(Gd={}));var nv=function(i){return Hn.of(Gn.SetLineCapStyle,[hn(i)])},Jx;(function(i){i[i.Miter=0]="Miter",i[i.Round=1]="Round",i[i.Bevel=2]="Bevel"})(Jx||(Jx={}));var Uu=function(i){return Hn.of(Gn.SetGraphicsStateParams,[$m(i)])},Vi=function(){return Hn.of(Gn.PushGraphicsState)},Gi=function(){return Hn.of(Gn.PopGraphicsState)},hg=function(i){return Hn.of(Gn.SetLineWidth,[hn(i)])},Va=function(i,t,e,n,r,s){return Hn.of(Gn.AppendBezierCurve,[hn(i),hn(t),hn(e),hn(n),hn(r),hn(s)])},A0=function(i,t,e,n){return Hn.of(Gn.CurveToReplicateInitialPoint,[hn(i),hn(t),hn(e),hn(n)])},Rh=function(){return Hn.of(Gn.ClosePath)},Dl=function(i,t){return Hn.of(Gn.MoveTo,[hn(i),hn(t)])},as=function(i,t){return Hn.of(Gn.LineTo,[hn(i),hn(t)])},ug=function(){return Hn.of(Gn.StrokePath)},b2=function(){return Hn.of(Gn.FillNonZero)},w2=function(){return Hn.of(Gn.FillNonZeroAndStroke)},Pk=function(){return Hn.of(Gn.EndPath)},QI=function(){return Hn.of(Gn.NextLine)},Tk=function(i){return Hn.of(Gn.ShowText,[i])},Lk=function(){return Hn.of(Gn.BeginText)},Nk=function(){return Hn.of(Gn.EndText)},A2=function(i,t){return Hn.of(Gn.SetFontAndSize,[$m(i),hn(t)])},$I=function(i){return Hn.of(Gn.SetTextLineHeight,[hn(i)])},Qx;(function(i){i[i.Fill=0]="Fill",i[i.Outline=1]="Outline",i[i.FillAndOutline=2]="FillAndOutline",i[i.Invisible=3]="Invisible",i[i.FillAndClip=4]="FillAndClip",i[i.OutlineAndClip=5]="OutlineAndClip",i[i.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",i[i.Clip=7]="Clip"})(Qx||(Qx={}));var tD=function(i,t,e,n,r,s){return Hn.of(Gn.SetTextMatrix,[hn(i),hn(t),hn(e),hn(n),hn(r),hn(s)])},Fk=function(i,t,e,n,r){return tD(pm(Tn(i)),gm(Tn(i))+mm(Tn(t)),-gm(Tn(i))+mm(Tn(e)),pm(Tn(i)),n,r)},x2=function(i){return Hn.of(Gn.DrawObject,[$m(i)])},eD=function(i){return Hn.of(Gn.NonStrokingColorGray,[hn(i)])},nD=function(i){return Hn.of(Gn.StrokingColorGray,[hn(i)])},rD=function(i,t,e){return Hn.of(Gn.NonStrokingColorRgb,[hn(i),hn(t),hn(e)])},iD=function(i,t,e){return Hn.of(Gn.StrokingColorRgb,[hn(i),hn(t),hn(e)])},sD=function(i,t,e,n){return Hn.of(Gn.NonStrokingColorCmyk,[hn(i),hn(t),hn(e),hn(n)])},aD=function(i,t,e,n){return Hn.of(Gn.StrokingColorCmyk,[hn(i),hn(t),hn(e),hn(n)])},Rk=function(i){return Hn.of(Gn.BeginMarkedContent,[$m(i)])},Ik=function(){return Hn.of(Gn.EndMarkedContent)},Ih;(function(i){i.Grayscale="Grayscale",i.RGB="RGB",i.CMYK="CMYK"})(Ih||(Ih={}));var Dk=function(i){return Wa(i,"gray",0,1),{type:Ih.Grayscale,gray:i}},tn=function(i,t,e){return Wa(i,"red",0,1),Wa(t,"green",0,1),Wa(e,"blue",0,1),{type:Ih.RGB,red:i,green:t,blue:e}},Mk=function(i,t,e,n){return Wa(i,"cyan",0,1),Wa(t,"magenta",0,1),Wa(e,"yellow",0,1),Wa(n,"key",0,1),{type:Ih.CMYK,cyan:i,magenta:t,yellow:e,key:n}},S2=Ih.Grayscale,E2=Ih.RGB,C2=Ih.CMYK,Hu=function(i){return i.type===S2?eD(i.gray):i.type===E2?rD(i.red,i.green,i.blue):i.type===C2?sD(i.cyan,i.magenta,i.yellow,i.key):lg("Invalid color: "+JSON.stringify(i))},dg=function(i){return i.type===S2?nD(i.gray):i.type===E2?iD(i.red,i.green,i.blue):i.type===C2?aD(i.cyan,i.magenta,i.yellow,i.key):lg("Invalid color: "+JSON.stringify(i))},na=function(i,t){return t===void 0&&(t=1),i?.length===1?Dk(i[0]*t):i?.length===3?tn(i[0]*t,i[1]*t,i[2]*t):i?.length===4?Mk(i[0]*t,i[1]*t,i[2]*t,i[3]*t):void 0},$x=function(i){return i.type===S2?[i.gray]:i.type===E2?[i.red,i.green,i.blue]:i.type===C2?[i.cyan,i.magenta,i.yellow,i.key]:lg("Invalid color: "+JSON.stringify(i))},We=0,Ve=0,jn=0,zn=0,xp=0,Sp=0,t5=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),oD=function(i){for(var t,e=[],n=[],r="",s=!1,a=0,o=0,l=i;o<l.length;o++){var c=l[o];if(t5.has(c))a=t5.get(c),t&&(r.length>0&&(n[n.length]=+r),e[e.length]={cmd:t,args:n},n=[],r="",s=!1),t=c;else if([" ",","].includes(c)||c==="-"&&r.length>0&&r[r.length-1]!=="e"||c==="."&&s){if(r.length===0)continue;n.length===a?(e[e.length]={cmd:t,args:n},n=[+r],t==="M"&&(t="L"),t==="m"&&(t="l")):n[n.length]=+r,s=c===".",r=["-","."].includes(c)?c:""}else r+=c,c==="."&&(s=!0)}return r.length>0&&(n.length===a?(e[e.length]={cmd:t,args:n},n=[+r],t==="M"&&(t="L"),t==="m"&&(t="l")):n[n.length]=+r),e[e.length]={cmd:t,args:n},e},lD=function(i){We=Ve=jn=zn=xp=Sp=0;for(var t=[],e=0;e<i.length;e++){var n=i[e];if(n.cmd&&typeof e5[n.cmd]=="function"){var r=e5[n.cmd](n.args);Array.isArray(r)?t=t.concat(r):t.push(r)}}return t},e5={M:function(i){return We=i[0],Ve=i[1],jn=zn=null,xp=We,Sp=Ve,Dl(We,Ve)},m:function(i){return We+=i[0],Ve+=i[1],jn=zn=null,xp=We,Sp=Ve,Dl(We,Ve)},C:function(i){return We=i[4],Ve=i[5],jn=i[2],zn=i[3],Va(i[0],i[1],i[2],i[3],i[4],i[5])},c:function(i){var t=Va(i[0]+We,i[1]+Ve,i[2]+We,i[3]+Ve,i[4]+We,i[5]+Ve);return jn=We+i[2],zn=Ve+i[3],We+=i[4],Ve+=i[5],t},S:function(i){(jn===null||zn===null)&&(jn=We,zn=Ve);var t=Va(We-(jn-We),Ve-(zn-Ve),i[0],i[1],i[2],i[3]);return jn=i[0],zn=i[1],We=i[2],Ve=i[3],t},s:function(i){(jn===null||zn===null)&&(jn=We,zn=Ve);var t=Va(We-(jn-We),Ve-(zn-Ve),We+i[0],Ve+i[1],We+i[2],Ve+i[3]);return jn=We+i[0],zn=Ve+i[1],We+=i[2],Ve+=i[3],t},Q:function(i){return jn=i[0],zn=i[1],We=i[2],Ve=i[3],A0(i[0],i[1],We,Ve)},q:function(i){var t=A0(i[0]+We,i[1]+Ve,i[2]+We,i[3]+Ve);return jn=We+i[0],zn=Ve+i[1],We+=i[2],Ve+=i[3],t},T:function(i){jn===null||zn===null?(jn=We,zn=Ve):(jn=We-(jn-We),zn=Ve-(zn-Ve));var t=A0(jn,zn,i[0],i[1]);return jn=We-(jn-We),zn=Ve-(zn-Ve),We=i[0],Ve=i[1],t},t:function(i){jn===null||zn===null?(jn=We,zn=Ve):(jn=We-(jn-We),zn=Ve-(zn-Ve));var t=A0(jn,zn,We+i[0],Ve+i[1]);return We+=i[0],Ve+=i[1],t},A:function(i){var t=n5(We,Ve,i);return We=i[5],Ve=i[6],t},a:function(i){i[5]+=We,i[6]+=Ve;var t=n5(We,Ve,i);return We=i[5],Ve=i[6],t},L:function(i){return We=i[0],Ve=i[1],jn=zn=null,as(We,Ve)},l:function(i){return We+=i[0],Ve+=i[1],jn=zn=null,as(We,Ve)},H:function(i){return We=i[0],jn=zn=null,as(We,Ve)},h:function(i){return We+=i[0],jn=zn=null,as(We,Ve)},V:function(i){return Ve=i[0],jn=zn=null,as(We,Ve)},v:function(i){return Ve+=i[0],jn=zn=null,as(We,Ve)},Z:function(){var i=Rh();return We=xp,Ve=Sp,i},z:function(){var i=Rh();return We=xp,Ve=Sp,i}},n5=function(i,t,e){for(var n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=cD(l,c,n,r,a,o,s,i,t),f=[],g=0,p=u;g<p.length;g++){var v=p[g],y=hD.apply(void 0,v);f.push(Va.apply(void 0,y))}return f},cD=function(i,t,e,n,r,s,a,o,l){var c=a*(Math.PI/180),u=Math.sin(c),f=Math.cos(c);e=Math.abs(e),n=Math.abs(n),jn=f*(o-i)*.5+u*(l-t)*.5,zn=f*(l-t)*.5-u*(o-i)*.5;var g=jn*jn/(e*e)+zn*zn/(n*n);g>1&&(g=Math.sqrt(g),e*=g,n*=g);var p=f/e,v=u/e,y=-u/n,A=f/n,w=p*o+v*l,C=y*o+A*l,E=p*i+v*t,k=y*i+A*t,L=(E-w)*(E-w)+(k-C)*(k-C),R=1/L-.25;R<0&&(R=0);var M=Math.sqrt(R);s===r&&(M=-M);var j=.5*(w+E)-M*(k-C),B=.5*(C+k)+M*(E-w),X=Math.atan2(C-B,w-j),D=Math.atan2(k-B,E-j),z=D-X;z<0&&s===1?z+=2*Math.PI:z>0&&s===0&&(z-=2*Math.PI);for(var U=Math.ceil(Math.abs(z/(Math.PI*.5+.001))),Q=[],pt=0;pt<U;pt++){var Z=X+pt*z/U,$=X+(pt+1)*z/U;Q[pt]=[j,B,Z,$,e,n,u,f]}return Q},hD=function(i,t,e,n,r,s,a,o){var l=o*r,c=-a*s,u=a*r,f=o*s,g=.5*(n-e),p=8/3*Math.sin(g*.5)*Math.sin(g*.5)/Math.sin(g),v=i+Math.cos(e)-p*Math.sin(e),y=t+Math.sin(e)+p*Math.cos(e),A=i+Math.cos(n),w=t+Math.sin(n),C=A+p*Math.sin(n),E=w-p*Math.cos(n),k=[l*v+c*y,u*v+f*y,l*C+c*E,u*C+f*E,l*A+c*w,u*A+f*w];return k},uD=function(i){return lD(oD(i))},dD=function(i,t){for(var e=[Vi(),t.graphicsState&&Uu(t.graphicsState),Lk(),Hu(t.color),A2(t.font,t.size),$I(t.lineHeight),Fk(ys(t.rotate),ys(t.xSkew),ys(t.ySkew),t.x,t.y)].filter(Boolean),n=0,r=i.length;n<r;n++)e.push(Tk(i[n]),QI());return e.push(Nk(),Gi()),e},Ok=function(i,t){return[Vi(),t.graphicsState&&Uu(t.graphicsState),xo(t.x,t.y),pf(ys(t.rotate)),Wp(t.width,t.height),y2(ys(t.xSkew),ys(t.ySkew)),x2(i),Gi()].filter(Boolean)},fD=function(i,t){return[Vi(),t.graphicsState&&Uu(t.graphicsState),xo(t.x,t.y),pf(ys(t.rotate)),Wp(t.xScale,t.yScale),y2(ys(t.xSkew),ys(t.ySkew)),x2(i),Gi()].filter(Boolean)},pD=function(i){var t,e;return[Vi(),i.graphicsState&&Uu(i.graphicsState),i.color&&dg(i.color),hg(i.thickness),ev((t=i.dashArray)!==null&&t!==void 0?t:[],(e=i.dashPhase)!==null&&e!==void 0?e:0),Dl(i.start.x,i.start.y),i.lineCap&&nv(i.lineCap),Dl(i.start.x,i.start.y),as(i.end.x,i.end.y),ug(),Gi()].filter(Boolean)},hf=function(i){var t,e;return[Vi(),i.graphicsState&&Uu(i.graphicsState),i.color&&Hu(i.color),i.borderColor&&dg(i.borderColor),hg(i.borderWidth),i.borderLineCap&&nv(i.borderLineCap),ev((t=i.borderDashArray)!==null&&t!==void 0?t:[],(e=i.borderDashPhase)!==null&&e!==void 0?e:0),xo(i.x,i.y),pf(ys(i.rotate)),y2(ys(i.xSkew),ys(i.ySkew)),Dl(0,0),as(0,i.height),as(i.width,i.height),as(i.width,0),Rh(),i.color&&i.borderWidth?w2():i.color?b2():i.borderColor?ug():Rh(),Gi()].filter(Boolean)},vm=4*((Math.sqrt(2)-1)/3),gD=function(i){var t=Tn(i.x),e=Tn(i.y),n=Tn(i.xScale),r=Tn(i.yScale);t-=n,e-=r;var s=n*vm,a=r*vm,o=t+n*2,l=e+r*2,c=t+n,u=e+r;return[Vi(),Dl(t,u),Va(t,u-a,c-s,e,c,e),Va(c+s,e,o,u-a,o,u),Va(o,u+a,c+s,l,c,l),Va(c-s,l,t,u+a,t,u),Gi()]},mD=function(i){var t=Tn(i.x),e=Tn(i.y),n=Tn(i.xScale),r=Tn(i.yScale),s=-n,a=-r,o=n*vm,l=r*vm,c=s+n*2,u=a+r*2,f=s+n,g=a+r;return[xo(t,e),pf(ys(i.rotate)),Dl(s,g),Va(s,g-l,f-o,a,f,a),Va(f+o,a,c,g-l,c,g),Va(c,g+l,f+o,u,f,u),Va(f-o,u,s,g+l,s,g)]},cb=function(i){var t,e,n;return Vn([Vi(),i.graphicsState&&Uu(i.graphicsState),i.color&&Hu(i.color),i.borderColor&&dg(i.borderColor),hg(i.borderWidth),i.borderLineCap&&nv(i.borderLineCap),ev((t=i.borderDashArray)!==null&&t!==void 0?t:[],(e=i.borderDashPhase)!==null&&e!==void 0?e:0)],i.rotate===void 0?gD({x:i.x,y:i.y,xScale:i.xScale,yScale:i.yScale}):mD({x:i.x,y:i.y,xScale:i.xScale,yScale:i.yScale,rotate:(n=i.rotate)!==null&&n!==void 0?n:sn(0)}),[i.color&&i.borderWidth?w2():i.color?b2():i.borderColor?ug():Rh(),Gi()]).filter(Boolean)},vD=function(i,t){var e,n,r;return Vn([Vi(),t.graphicsState&&Uu(t.graphicsState),xo(t.x,t.y),pf(ys((e=t.rotate)!==null&&e!==void 0?e:sn(0))),t.scale?Wp(t.scale,-t.scale):Wp(1,-1),t.color&&Hu(t.color),t.borderColor&&dg(t.borderColor),t.borderWidth&&hg(t.borderWidth),t.borderLineCap&&nv(t.borderLineCap),ev((n=t.borderDashArray)!==null&&n!==void 0?n:[],(r=t.borderDashPhase)!==null&&r!==void 0?r:0)],uD(i),[t.color&&t.borderWidth?w2():t.color?b2():t.borderColor?ug():Rh(),Gi()]).filter(Boolean)},yD=function(i){var t=Tn(i.size),e=-1+.75,n=-1+.51,r=1-.525,s=1-.31,a=-1+.325,o=.3995/(r-n)+n;return[Vi(),i.color&&dg(i.color),hg(i.thickness),xo(i.x,i.y),Dl(a*t,o*t),as(e*t,n*t),as(s*t,r*t),ug(),Gi()].filter(Boolean)},jh=function(i){return i.rotation===0?[xo(0,0),w0(0)]:i.rotation===90?[xo(i.width,0),w0(90)]:i.rotation===180?[xo(i.width,i.height),w0(180)]:i.rotation===270?[xo(0,i.height),w0(270)]:[]},x0=function(i){var t=hf({x:i.x,y:i.y,width:i.width,height:i.height,borderWidth:i.borderWidth,color:i.color,borderColor:i.borderColor,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)});if(!i.filled)return t;var e=Tn(i.width),n=Tn(i.height),r=Math.min(e,n)/2,s=yD({x:e/2,y:n/2,size:r,thickness:i.thickness,color:i.markColor});return Vn([Vi()],t,s,[Gi()])},S0=function(i){var t=Tn(i.width),e=Tn(i.height),n=Math.min(t,e)/2,r=cb({x:i.x,y:i.y,xScale:n,yScale:n,color:i.color,borderColor:i.borderColor,borderWidth:i.borderWidth});if(!i.filled)return r;var s=cb({x:i.x,y:i.y,xScale:n*.45,yScale:n*.45,color:i.dotColor,borderColor:void 0,borderWidth:0});return Vn([Vi()],r,s,[Gi()])},r5=function(i){var t=Tn(i.x),e=Tn(i.y),n=Tn(i.width),r=Tn(i.height),s=hf({x:t,y:e,width:n,height:r,borderWidth:i.borderWidth,color:i.color,borderColor:i.borderColor,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)}),a=k2(i.textLines,{color:i.textColor,font:i.font,size:i.fontSize,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)});return Vn([Vi()],s,a,[Gi()])},k2=function(i,t){for(var e=[Lk(),Hu(t.color),A2(t.font,t.size)],n=0,r=i.length;n<r;n++){var s=i[n],a=s.encoded,o=s.x,l=s.y;e.push(Fk(ys(t.rotate),ys(t.xSkew),ys(t.ySkew),o,l),Tk(a))}return e.push(Nk()),e},Bk=function(i){var t=Tn(i.x),e=Tn(i.y),n=Tn(i.width),r=Tn(i.height),s=Tn(i.borderWidth),a=Tn(i.padding),o=t+s/2+a,l=e+s/2+a,c=n-(s/2+a)*2,u=r-(s/2+a)*2,f=[Dl(o,l),as(o,l+u),as(o+c,l+u),as(o+c,l),Rh(),_k(),Pk()],g=hf({x:t,y:e,width:n,height:r,borderWidth:i.borderWidth,color:i.color,borderColor:i.borderColor,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)}),p=k2(i.textLines,{color:i.textColor,font:i.font,size:i.fontSize,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)}),v=Vn([Rk("Tx"),Vi()],p,[Gi(),Ik()]);return Vn([Vi()],g,f,v,[Gi()])},bD=function(i){for(var t=Tn(i.x),e=Tn(i.y),n=Tn(i.width),r=Tn(i.height),s=Tn(i.lineHeight),a=Tn(i.borderWidth),o=Tn(i.padding),l=t+a/2+o,c=e+a/2+o,u=n-(a/2+o)*2,f=r-(a/2+o)*2,g=[Dl(l,c),as(l,c+f),as(l+u,c+f),as(l+u,c),Rh(),_k(),Pk()],p=hf({x:t,y:e,width:n,height:r,borderWidth:i.borderWidth,color:i.color,borderColor:i.borderColor,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)}),v=[],y=0,A=i.selectedLines.length;y<A;y++){var w=i.textLines[i.selectedLines[y]];v.push.apply(v,hf({x:w.x-o,y:w.y-(s-w.height)/2,width:n-a,height:w.height+(s-w.height)/2,borderWidth:0,color:i.selectedColor,borderColor:void 0,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)}))}var C=k2(i.textLines,{color:i.textColor,font:i.font,size:i.fontSize,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)}),E=Vn([Rk("Tx"),Vi()],C,[Gi(),Ik()]);return Vn([Vi()],p,v,g,E,[Gi()])},wD=(function(i){ge(t,i);function t(){var e=this,n="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return e=i.call(this,n)||this,e}return t})(Error),AD=(function(i){ge(t,i);function t(){var e=this,n="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return e=i.call(this,n)||this,e}return t})(Error),xD=(function(i){ge(t,i);function t(){var e=this,n="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return e=i.call(this,n)||this,e}return t})(Error),SD=(function(i){ge(t,i);function t(){var e=this,n="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return e=i.call(this,n)||this,e}return t})(Error),ED=(function(i){ge(t,i);function t(e){var n=this,r='PDFDocument has no form field with the name "'+e+'"';return n=i.call(this,r)||this,n}return t})(Error),mu=(function(i){ge(t,i);function t(e,n,r){var s,a,o=this,l=n?.name,c=(a=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:r,u='Expected field "'+e+'" to be of type '+l+", "+("but it is actually of type "+c);return o=i.call(this,u)||this,o}return t})(Error);(function(i){ge(t,i);function t(e){var n=this,r='Failed to select check box due to missing onValue: "'+e+'"';return n=i.call(this,r)||this,n}return t})(Error);var jk=(function(i){ge(t,i);function t(e){var n=this,r='A field already exists with the specified name: "'+e+'"';return n=i.call(this,r)||this,n}return t})(Error),CD=(function(i){ge(t,i);function t(e){var n=this,r='Field name contains invalid component: "'+e+'"';return n=i.call(this,r)||this,n}return t})(Error);(function(i){ge(t,i);function t(e){var n=this,r='A non-terminal field already exists with the specified name: "'+e+'"';return n=i.call(this,r)||this,n}return t})(Error);var kD=(function(i){ge(t,i);function t(e){var n=this,r="Reading rich text fields is not supported: Attempted to read rich text field: "+e;return n=i.call(this,r)||this,n}return t})(Error),_D=(function(i){ge(t,i);function t(e,n){var r=this,s="Failed to layout combed text as lineLength="+e+" is greater than cellCount="+n;return r=i.call(this,s)||this,r}return t})(Error),PD=(function(i){ge(t,i);function t(e,n,r){var s=this,a="Attempted to set text with length="+e+" for TextField with maxLength="+n+" and name="+r;return s=i.call(this,a)||this,s}return t})(Error),TD=(function(i){ge(t,i);function t(e,n,r){var s=this,a="Attempted to set maxLength="+n+", which is less than "+e+", the length of this field's current value (name="+r+")";return s=i.call(this,a)||this,s}return t})(Error),qi;(function(i){i[i.Left=0]="Left",i[i.Center=1]="Center",i[i.Right=2]="Right"})(qi||(qi={}));var zk=4,Uk=500,Hk=function(i,t,e,n){n===void 0&&(n=!1);for(var r=zk;r<Uk;){for(var s=0,a=0,o=i.length;a<o;a++){s+=1;for(var l=i[a],c=l.split(" "),u=e.width,f=0,g=c.length;f<g;f++){var p=f===g-1,v=p?c[f]:c[f]+" ",y=t.widthOfTextAtSize(v,r);u-=y,u<=0&&(s+=1,u=e.width-y)}}if(!n&&s>i.length)return r-1;var A=t.heightAtSize(r),w=A+A*.2,C=w*s;if(C>Math.abs(e.height))return r-1;r+=1}return r},LD=function(i,t,e,n){for(var r=e.width/n,s=e.height,a=zk,o=UR(i);a<Uk;){for(var l=0,c=o.length;l<c;l++){var u=o[l],f=t.widthOfTextAtSize(u,a)>r*.75;if(f)return a-1}var g=t.heightAtSize(a,{descender:!1});if(g>s)return a-1;a+=1}return a},ND=function(i){for(var t=i.length;t>0;t--)if(/\s/.test(i[t]))return t},FD=function(i,t,e,n){for(var r,s=i.length;s>0;){var a=i.substring(0,s),o=e.encodeText(a),l=e.widthOfTextAtSize(a,n);if(l<t){var c=i.substring(s)||void 0;return{line:a,encoded:o,width:l,remainder:c}}s=(r=ND(a))!==null&&r!==void 0?r:0}return{line:i,encoded:e.encodeText(i),width:e.widthOfTextAtSize(i,n),remainder:void 0}},qk=function(i,t){var e=t.alignment,n=t.fontSize,r=t.font,s=t.bounds,a=zC(og(i));(n===void 0||n===0)&&(n=Hk(a,r,s,!0));for(var o=r.heightAtSize(n),l=o+o*.2,c=[],u=s.x,f=s.y,g=s.x+s.width,p=s.y+s.height,v=s.y+s.height,y=0,A=a.length;y<A;y++)for(var w=a[y];w!==void 0;){var C=FD(w,s.width,r,n),E=C.line,k=C.encoded,L=C.width,R=C.remainder,M=e===qi.Left?s.x:e===qi.Center?s.x+s.width/2-L/2:e===qi.Right?s.x+s.width-L:s.x;v-=l,M<u&&(u=M),v<f&&(f=v),M+L>g&&(g=M+L),v+o>p&&(p=v+o),c.push({text:E,encoded:k,width:L,height:o,x:M,y:v}),w=R?.trim()}return{fontSize:n,lineHeight:l,lines:c,bounds:{x:u,y:f,width:g-u,height:p-f}}},RD=function(i,t){var e=t.fontSize,n=t.font,r=t.bounds,s=t.cellCount,a=UC(og(i));if(a.length>s)throw new _D(a.length,s);(e===void 0||e===0)&&(e=LD(a,n,r,s));for(var o=r.width/s,l=n.heightAtSize(e,{descender:!1}),c=r.y+(r.height/2-l/2),u=[],f=r.x,g=r.y,p=r.x+r.width,v=r.y+r.height,y=0,A=0;y<s;){var w=HC(a,A),C=w[0],E=w[1],k=n.encodeText(C),L=n.widthOfTextAtSize(C,e),R=r.x+(o*y+o/2),M=R-L/2;M<f&&(f=M),c<g&&(g=c),M+L>p&&(p=M+L),c+l>v&&(v=c+l),u.push({text:a,encoded:k,width:L,height:l,x:M,y:c}),y+=1,A+=E}return{fontSize:e,cells:u,bounds:{x:f,y:g,width:p-f,height:v-g}}},ym=function(i,t){var e=t.alignment,n=t.fontSize,r=t.font,s=t.bounds,a=UC(og(i));(n===void 0||n===0)&&(n=Hk([a],r,s));var o=r.encodeText(a),l=r.widthOfTextAtSize(a,n),c=r.heightAtSize(n,{descender:!1}),u=e===qi.Left?s.x:e===qi.Center?s.x+s.width/2-l/2:e===qi.Right?s.x+s.width-l:s.x,f=s.y+(s.height/2-c/2);return{fontSize:n,line:{text:a,encoded:o,width:l,height:c,x:u,y:f},bounds:{x:u,y:f,width:l,height:c}}},gf=function(i){return"normal"in i?i:{normal:i}},ID=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,Dh=function(i){var t,e,n=(t=i.getDefaultAppearance())!==null&&t!==void 0?t:"",r=(e=i2(n,ID).match)!==null&&e!==void 0?e:[],s=Number(r[2]);return isFinite(s)?s:void 0},DD=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Eo=function(i){var t,e=(t=i.getDefaultAppearance())!==null&&t!==void 0?t:"",n=i2(e,DD).match,r=n??[],s=r[1],a=r[2],o=r[3],l=r[4],c=r[5];if(c==="g"&&s)return Dk(Number(s));if(c==="rg"&&s&&a&&o)return tn(Number(s),Number(a),Number(o));if(c==="k"&&s&&a&&o&&l)return Mk(Number(s),Number(a),Number(o),Number(l))},Co=function(i,t,e,n){var r;n===void 0&&(n=0);var s=[Hu(t).toString(),A2((r=e?.name)!==null&&r!==void 0?r:"dummy__noop",n).toString()].join(`
`);i.setDefaultAppearance(s)},MD=function(i,t){var e,n,r,s=Eo(t),a=Eo(i.acroField),o=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),u=(e=c?.getWidth())!==null&&e!==void 0?e:0,f=Dc(l?.getRotation()),g=zu(o,f),p=g.width,v=g.height,y=jh(mn(mn({},o),{rotation:f})),A=tn(0,0,0),w=(n=na(l?.getBorderColor()))!==null&&n!==void 0?n:A,C=na(l?.getBackgroundColor()),E=na(l?.getBackgroundColor(),.8),k=(r=s??a)!==null&&r!==void 0?r:A;Co(s?t:i.acroField,k);var L={x:0+u/2,y:0+u/2,width:p-u,height:v-u,thickness:1.5,borderWidth:u,borderColor:w,markColor:k};return{normal:{on:Vn(y,x0(mn(mn({},L),{color:C,filled:!0}))),off:Vn(y,x0(mn(mn({},L),{color:C,filled:!1})))},down:{on:Vn(y,x0(mn(mn({},L),{color:E,filled:!0}))),off:Vn(y,x0(mn(mn({},L),{color:E,filled:!1})))}}},OD=function(i,t){var e,n,r,s=Eo(t),a=Eo(i.acroField),o=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),u=(e=c?.getWidth())!==null&&e!==void 0?e:0,f=Dc(l?.getRotation()),g=zu(o,f),p=g.width,v=g.height,y=jh(mn(mn({},o),{rotation:f})),A=tn(0,0,0),w=(n=na(l?.getBorderColor()))!==null&&n!==void 0?n:A,C=na(l?.getBackgroundColor()),E=na(l?.getBackgroundColor(),.8),k=(r=s??a)!==null&&r!==void 0?r:A;Co(s?t:i.acroField,k);var L={x:p/2,y:v/2,width:p-u,height:v-u,borderWidth:u,borderColor:w,dotColor:k};return{normal:{on:Vn(y,S0(mn(mn({},L),{color:C,filled:!0}))),off:Vn(y,S0(mn(mn({},L),{color:C,filled:!1})))},down:{on:Vn(y,S0(mn(mn({},L),{color:E,filled:!0}))),off:Vn(y,S0(mn(mn({},L),{color:E,filled:!1})))}}},BD=function(i,t,e){var n,r,s,a,o,l=Eo(t),c=Eo(i.acroField),u=Dh(t),f=Dh(i.acroField),g=t.getRectangle(),p=t.getAppearanceCharacteristics(),v=t.getBorderStyle(),y=p?.getCaptions(),A=(n=y?.normal)!==null&&n!==void 0?n:"",w=(s=(r=y?.down)!==null&&r!==void 0?r:A)!==null&&s!==void 0?s:"",C=(a=v?.getWidth())!==null&&a!==void 0?a:0,E=Dc(p?.getRotation()),k=zu(g,E),L=k.width,R=k.height,M=jh(mn(mn({},g),{rotation:E})),j=tn(0,0,0),B=na(p?.getBorderColor()),X=na(p?.getBackgroundColor()),D=na(p?.getBackgroundColor(),.8),z={x:C,y:C,width:L-C*2,height:R-C*2},U=ym(A,{alignment:qi.Center,fontSize:u??f,font:e,bounds:z}),Q=ym(w,{alignment:qi.Center,fontSize:u??f,font:e,bounds:z}),pt=Math.min(U.fontSize,Q.fontSize),Z=(o=l??c)!==null&&o!==void 0?o:j;Co(l||u!==void 0?t:i.acroField,Z,e,pt);var $={x:0+C/2,y:0+C/2,width:L-C,height:R-C,borderWidth:C,borderColor:B,textColor:Z,font:e.name,fontSize:pt};return{normal:Vn(M,r5(mn(mn({},$),{color:X,textLines:[U.line]}))),down:Vn(M,r5(mn(mn({},$),{color:D,textLines:[Q.line]})))}},jD=function(i,t,e){var n,r,s,a,o=Eo(t),l=Eo(i.acroField),c=Dh(t),u=Dh(i.acroField),f=t.getRectangle(),g=t.getAppearanceCharacteristics(),p=t.getBorderStyle(),v=(n=i.getText())!==null&&n!==void 0?n:"",y=(r=p?.getWidth())!==null&&r!==void 0?r:0,A=Dc(g?.getRotation()),w=zu(f,A),C=w.width,E=w.height,k=jh(mn(mn({},f),{rotation:A})),L=tn(0,0,0),R=na(g?.getBorderColor()),M=na(g?.getBackgroundColor()),j,B,X=i.isCombed()?0:1,D={x:y+X,y:y+X,width:C-(y+X)*2,height:E-(y+X)*2};if(i.isMultiline()){var z=qk(v,{alignment:i.getAlignment(),fontSize:c??u,font:e,bounds:D});j=z.lines,B=z.fontSize}else if(i.isCombed()){var z=RD(v,{fontSize:c??u,font:e,bounds:D,cellCount:(s=i.getMaxLength())!==null&&s!==void 0?s:0});j=z.cells,B=z.fontSize}else{var z=ym(v,{alignment:i.getAlignment(),fontSize:c??u,font:e,bounds:D});j=[z.line],B=z.fontSize}var U=(a=o??l)!==null&&a!==void 0?a:L;Co(o||c!==void 0?t:i.acroField,U,e,B);var Q={x:0+y/2,y:0+y/2,width:C-y,height:E-y,borderWidth:y??0,borderColor:R,textColor:U,font:e.name,fontSize:B,color:M,textLines:j,padding:X};return Vn(k,Bk(Q))},zD=function(i,t,e){var n,r,s,a=Eo(t),o=Eo(i.acroField),l=Dh(t),c=Dh(i.acroField),u=t.getRectangle(),f=t.getAppearanceCharacteristics(),g=t.getBorderStyle(),p=(n=i.getSelected()[0])!==null&&n!==void 0?n:"",v=(r=g?.getWidth())!==null&&r!==void 0?r:0,y=Dc(f?.getRotation()),A=zu(u,y),w=A.width,C=A.height,E=jh(mn(mn({},u),{rotation:y})),k=tn(0,0,0),L=na(f?.getBorderColor()),R=na(f?.getBackgroundColor()),M=1,j={x:v+M,y:v+M,width:w-(v+M)*2,height:C-(v+M)*2},B=ym(p,{alignment:qi.Left,fontSize:l??c,font:e,bounds:j}),X=B.line,D=B.fontSize,z=(s=a??o)!==null&&s!==void 0?s:k;Co(a||l!==void 0?t:i.acroField,z,e,D);var U={x:0+v/2,y:0+v/2,width:w-v,height:C-v,borderWidth:v??0,borderColor:L,textColor:z,font:e.name,fontSize:D,color:R,textLines:[X],padding:M};return Vn(E,Bk(U))},UD=function(i,t,e){var n,r,s=Eo(t),a=Eo(i.acroField),o=Dh(t),l=Dh(i.acroField),c=t.getRectangle(),u=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),g=(n=f?.getWidth())!==null&&n!==void 0?n:0,p=Dc(u?.getRotation()),v=zu(c,p),y=v.width,A=v.height,w=jh(mn(mn({},c),{rotation:p})),C=tn(0,0,0),E=na(u?.getBorderColor()),k=na(u?.getBackgroundColor()),L=i.getOptions(),R=i.getSelected();i.isSorted()&&L.sort();for(var M="",j=0,B=L.length;j<B;j++)M+=L[j],j<B-1&&(M+=`
`);for(var X=1,D={x:g+X,y:g+X,width:y-(g+X)*2,height:A-(g+X)*2},z=qk(M,{alignment:qi.Left,fontSize:o??l,font:e,bounds:D}),U=z.lines,Q=z.fontSize,pt=z.lineHeight,Z=[],j=0,B=U.length;j<B;j++){var $=U[j];R.includes($.text)&&Z.push(j)}var st=tn(153/255,193/255,218/255),rt=(r=s??a)!==null&&r!==void 0?r:C;return Co(s||o!==void 0?t:i.acroField,rt,e,Q),Vn(w,bD({x:0+g/2,y:0+g/2,width:y-g,height:A-g,borderWidth:g??0,borderColor:E,textColor:rt,font:e.name,fontSize:Q,color:k,textLines:U,lineHeight:pt,selectedColor:st,selectedLines:Z,padding:X}))},Wk=(function(){function i(t,e,n){this.alreadyEmbedded=!1,Ft(t,"ref",[[ar,"PDFRef"]]),Ft(e,"doc",[[Rc,"PDFDocument"]]),Ft(n,"embedder",[[gk,"PDFPageEmbedder"]]),this.ref=t,this.doc=e,this.width=n.width,this.height=n.height,this.embedder=n}return i.prototype.scale=function(t){return Ft(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},i.prototype.size=function(){return this.scale(1)},i.prototype.embed=function(){return _n(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},i.of=function(t,e,n){return new i(t,e,n)},i})(),Ka=(function(){function i(t,e,n){this.modified=!0,Ft(t,"ref",[[ar,"PDFRef"]]),Ft(e,"doc",[[Rc,"PDFDocument"]]),Ft(n,"embedder",[[d2,"CustomFontEmbedder"],[hm,"StandardFontEmbedder"]]),this.ref=t,this.doc=e,this.name=n.fontName,this.embedder=n}return i.prototype.encodeText=function(t){return Ft(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},i.prototype.widthOfTextAtSize=function(t,e){return Ft(t,"text",["string"]),Ft(e,"size",["number"]),this.embedder.widthOfTextAtSize(t,e)},i.prototype.heightAtSize=function(t,e){var n;return Ft(t,"size",["number"]),pe(e?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(n=e?.descender)!==null&&n!==void 0?n:!0})},i.prototype.sizeAtHeight=function(t){return Ft(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},i.prototype.getCharacterSet=function(){return this.embedder instanceof hm?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},i.prototype.embed=function(){return _n(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},i.of=function(t,e,n){return new i(t,e,n)},i})(),hb=(function(){function i(t,e,n){Ft(t,"ref",[[ar,"PDFRef"]]),Ft(e,"doc",[[Rc,"PDFDocument"]]),Ft(n,"embedder",[[uk,"JpegEmbedder"],[dk,"PngEmbedder"]]),this.ref=t,this.doc=e,this.width=n.width,this.height=n.height,this.embedder=n}return i.prototype.scale=function(t){return Ft(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},i.prototype.scaleToFit=function(t,e){Ft(t,"width",["number"]),Ft(e,"height",["number"]);var n=t/this.width,r=e/this.height,s=Math.min(n,r);return this.scale(s)},i.prototype.size=function(){return this.scale(1)},i.prototype.embed=function(){return _n(this,void 0,void 0,function(){var t,e,n;return Pn(this,function(r){switch(r.label){case 0:return this.embedder?(this.embedTask||(t=this,e=t.doc,n=t.ref,this.embedTask=this.embedder.embedIntoContext(e.context,n)),[4,this.embedTask]):[2];case 1:return r.sent(),this.embedder=void 0,[2]}})})},i.of=function(t,e,n){return new i(t,e,n)},i})(),Th;(function(i){i[i.Left=0]="Left",i[i.Center=1]="Center",i[i.Right=2]="Right"})(Th||(Th={}));var mf=function(i){pe(i?.x,"options.x",["number"]),pe(i?.y,"options.y",["number"]),pe(i?.width,"options.width",["number"]),pe(i?.height,"options.height",["number"]),pe(i?.textColor,"options.textColor",[[Object,"Color"]]),pe(i?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),pe(i?.borderColor,"options.borderColor",[[Object,"Color"]]),pe(i?.borderWidth,"options.borderWidth",["number"]),pe(i?.rotate,"options.rotate",[[Object,"Rotation"]])},qu=(function(){function i(t,e,n){Ft(t,"acroField",[[ff,"PDFAcroTerminal"]]),Ft(e,"ref",[[ar,"PDFRef"]]),Ft(n,"doc",[[Rc,"PDFDocument"]]),this.acroField=t,this.ref=e,this.doc=n}return i.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},i.prototype.isReadOnly=function(){return this.acroField.hasFlag(Zo.ReadOnly)},i.prototype.enableReadOnly=function(){this.acroField.setFlagTo(Zo.ReadOnly,!0)},i.prototype.disableReadOnly=function(){this.acroField.setFlagTo(Zo.ReadOnly,!1)},i.prototype.isRequired=function(){return this.acroField.hasFlag(Zo.Required)},i.prototype.enableRequired=function(){this.acroField.setFlagTo(Zo.Required,!0)},i.prototype.disableRequired=function(){this.acroField.setFlagTo(Zo.Required,!1)},i.prototype.isExported=function(){return!this.acroField.hasFlag(Zo.NoExport)},i.prototype.enableExporting=function(){this.acroField.setFlagTo(Zo.NoExport,!1)},i.prototype.disableExporting=function(){this.acroField.setFlagTo(Zo.NoExport,!0)},i.prototype.needsAppearancesUpdate=function(){throw new Ao(this.constructor.name,"needsAppearancesUpdate")},i.prototype.defaultUpdateAppearances=function(t){throw new Ao(this.constructor.name,"defaultUpdateAppearances")},i.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},i.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},i.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},i.prototype.createWidget=function(t){var e,n=t.textColor,r=t.backgroundColor,s=t.borderColor,a=t.borderWidth,o=kk(t.rotate),l=t.caption,c=t.x,u=t.y,f=t.width+a,g=t.height+a,p=!!t.hidden,v=t.page;ik(o,"degreesAngle",90);var y=ob.create(this.doc.context,this.ref),A=JI({x:c,y:u,width:f,height:g},a,o);y.setRectangle(A),v&&y.setP(v);var w=y.getOrCreateAppearanceCharacteristics();r&&w.setBackgroundColor($x(r)),w.setRotation(o),l&&w.setCaptions({normal:l}),s&&w.setBorderColor($x(s));var C=y.getOrCreateBorderStyle();if(a!==void 0&&C.setWidth(a),y.setFlagTo(Np.Print,!0),y.setFlagTo(Np.Hidden,p),y.setFlagTo(Np.Invisible,!1),n){var E=(e=this.acroField.getDefaultAppearance())!==null&&e!==void 0?e:"",k=E+`
`+Hu(n).toString();this.acroField.setDefaultAppearance(k)}return y},i.prototype.updateWidgetAppearanceWithFont=function(t,e,n){var r=n.normal,s=n.rollover,a=n.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,r,e),rollover:s&&this.createAppearanceStream(t,s,e),down:a&&this.createAppearanceStream(t,a,e)})},i.prototype.updateOnOffWidgetAppearance=function(t,e,n){var r=n.normal,s=n.rollover,a=n.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,r,e),rollover:s&&this.createAppearanceDict(t,s,e),down:a&&this.createAppearanceDict(t,a,e)})},i.prototype.updateWidgetAppearances=function(t,e){var n=e.normal,r=e.rollover,s=e.down;t.setNormalAppearance(n),r?t.setRolloverAppearance(r):t.removeRolloverAppearance(),s?t.setDownAppearance(s):t.removeDownAppearance()},i.prototype.createAppearanceStream=function(t,e,n){var r,s=this.acroField.dict.context,a=t.getRectangle(),o=a.width,l=a.height,c=n&&{Font:(r={},r[n.name]=n.ref,r)},u=s.formXObject(e,{Resources:c,BBox:s.obj([0,0,o,l]),Matrix:s.obj([1,0,0,1,0,0])}),f=s.register(u);return f},i.prototype.createImageAppearanceStream=function(t,e,n){var r,s,a=this.acroField.dict.context,o=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),u=(s=c?.getWidth())!==null&&s!==void 0?s:0,f=Dc(l?.getRotation()),g=jh(mn(mn({},o),{rotation:f})),p=zu(o,f),v=e.scaleToFit(p.width-u*2,p.height-u*2),y={x:u,y:u,width:v.width,height:v.height,rotate:sn(0),xSkew:sn(0),ySkew:sn(0)};n===Th.Center?(y.x+=(p.width-u*2)/2-v.width/2,y.y+=(p.height-u*2)/2-v.height/2):n===Th.Right&&(y.x=p.width-u-v.width,y.y=p.height-u-v.height);var A=this.doc.context.addRandomSuffix("Image",10),w=Vn(g,Ok(A,y)),C={XObject:(r={},r[A]=e.ref,r)},E=a.formXObject(w,{Resources:C,BBox:a.obj([0,0,o.width,o.height]),Matrix:a.obj([1,0,0,1,0,0])});return a.register(E)},i.prototype.createAppearanceDict=function(t,e,n){var r=this.acroField.dict.context,s=this.createAppearanceStream(t,e.on),a=this.createAppearanceStream(t,e.off),o=r.obj({});return o.set(n,s),o.set(ct.of("Off"),a),o},i})(),Ep=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroCheckBox",[[Vm,"PDFAcroCheckBox"]]),s.acroField=e,s}return t.prototype.check=function(){var e,n=(e=this.acroField.getOnValue())!==null&&e!==void 0?e:ct.of("Yes");this.markAsDirty(),this.acroField.setValue(n)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(ct.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,n){var r,s,a,o,l,c;Ft(e,"page",[[wo,"PDFPage"]]),mf(n),n||(n={}),"textColor"in n||(n.textColor=tn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=tn(1,1,1)),"borderColor"in n||(n.borderColor=tn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var u=this.createWidget({x:(r=n.x)!==null&&r!==void 0?r:0,y:(s=n.y)!==null&&s!==void 0?s:0,width:(a=n.width)!==null&&a!==void 0?a:50,height:(o=n.height)!==null&&o!==void 0?o:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:sn(0),hidden:n.hidden,page:e.ref}),f=this.doc.context.register(u.dict);this.acroField.addWidget(f),u.setAppearanceState(ct.of("Off")),this.updateWidgetAppearance(u,ct.of("Yes")),e.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){for(var e,n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=a.getAppearanceState(),l=(e=a.getAppearances())===null||e===void 0?void 0:e.normal;if(!(l instanceof En)||o&&!l.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){var n;pe(e,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s],l=(n=o.getOnValue())!==null&&n!==void 0?n:ct.of("Yes");l&&this.updateWidgetAppearance(o,l,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,r){var s=r??MD,a=gf(s(this,e));this.updateOnOffWidgetAppearance(e,n,a)},t.of=function(e,n,r){return new t(e,n,r)},t})(qu),q0=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroComboBox",[[Gm,"PDFAcroComboBox"]]),s.acroField=e,s}return t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),n=new Array(e.length),r=0,s=n.length;r<s;r++){var a=e[r],o=a.display,l=a.value;n[r]=(o??l).decodeText()}return n},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]=e[r].decodeText();return n},t.prototype.setOptions=function(e){Ft(e,"options",[Array]);for(var n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]={value:nn.fromText(e[r])};this.acroField.setOptions(n)},t.prototype.addOptions=function(e){Ft(e,"options",["string",Array]);for(var n=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),s=new Array(n.length),a=0,o=n.length;a<o;a++)s[a]={value:nn.fromText(n[a])};this.acroField.setOptions(r.concat(s))},t.prototype.select=function(e,n){n===void 0&&(n=!1),Ft(e,"options",["string",Array]),Ft(n,"merge",["boolean"]);var r=Array.isArray(e)?e:[e],s=this.getOptions(),a=r.find(function(f){return!s.includes(f)});a&&this.enableEditing(),this.markAsDirty(),(r.length>1||r.length===1&&n)&&this.enableMultiselect();for(var o=new Array(r.length),l=0,c=r.length;l<c;l++)o[l]=nn.fromText(r[l]);if(n){var u=this.acroField.getValues();this.acroField.setValues(u.concat(o))}else this.acroField.setValues(o)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){qm(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(ir.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(ir.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(ir.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(ir.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(ir.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(ir.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(ir.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ir.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ir.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ir.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ir.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ir.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ir.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ir.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ir.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,n){var r,s,a,o,l,c,u;Ft(e,"page",[[wo,"PDFPage"]]),mf(n),n||(n={}),"textColor"in n||(n.textColor=tn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=tn(1,1,1)),"borderColor"in n||(n.borderColor=tn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var f=this.createWidget({x:(r=n.x)!==null&&r!==void 0?r:0,y:(s=n.y)!==null&&s!==void 0?s:0,width:(a=n.width)!==null&&a!==void 0?a:200,height:(o=n.height)!==null&&o!==void 0?o:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:sn(0),hidden:n.hidden,page:e.ref}),g=this.doc.context.register(f.dict);this.acroField.addWidget(g);var p=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(f,p),e.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Xa;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Ft(e,"font",[[Ka,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){Ft(e,"font",[[Ka,"PDFFont"]]),pe(n,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,r){var s=r??zD,a=gf(s(this,e,n));this.updateWidgetAppearanceWithFont(e,n,a)},t.of=function(e,n,r){return new t(e,n,r)},t})(qu),W0=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroListBox",[[Zm,"PDFAcroListBox"]]),s.acroField=e,s}return t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),n=new Array(e.length),r=0,s=n.length;r<s;r++){var a=e[r],o=a.display,l=a.value;n[r]=(o??l).decodeText()}return n},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]=e[r].decodeText();return n},t.prototype.setOptions=function(e){Ft(e,"options",[Array]),this.markAsDirty();for(var n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]={value:nn.fromText(e[r])};this.acroField.setOptions(n)},t.prototype.addOptions=function(e){Ft(e,"options",["string",Array]),this.markAsDirty();for(var n=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),s=new Array(n.length),a=0,o=n.length;a<o;a++)s[a]={value:nn.fromText(n[a])};this.acroField.setOptions(r.concat(s))},t.prototype.select=function(e,n){n===void 0&&(n=!1),Ft(e,"options",["string",Array]),Ft(n,"merge",["boolean"]);var r=Array.isArray(e)?e:[e],s=this.getOptions();j4(r,"option",s),this.markAsDirty(),(r.length>1||r.length===1&&n)&&this.enableMultiselect();for(var a=new Array(r.length),o=0,l=r.length;o<l;o++)a[o]=nn.fromText(r[o]);if(n){var c=this.acroField.getValues();this.acroField.setValues(c.concat(a))}else this.acroField.setValues(a)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){qm(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(ir.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(ir.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(ir.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(ir.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ir.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ir.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ir.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ir.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ir.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,n){var r,s,a,o,l,c,u;Ft(e,"page",[[wo,"PDFPage"]]),mf(n),n||(n={}),"textColor"in n||(n.textColor=tn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=tn(1,1,1)),"borderColor"in n||(n.borderColor=tn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var f=this.createWidget({x:(r=n.x)!==null&&r!==void 0?r:0,y:(s=n.y)!==null&&s!==void 0?s:0,width:(a=n.width)!==null&&a!==void 0?a:200,height:(o=n.height)!==null&&o!==void 0?o:100,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:sn(0),hidden:n.hidden,page:e.ref}),g=this.doc.context.register(f.dict);this.acroField.addWidget(g);var p=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(f,p),e.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Xa;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Ft(e,"font",[[Ka,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){Ft(e,"font",[[Ka,"PDFFont"]]),pe(n,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,r){var s=r??UD,a=gf(s(this,e,n));this.updateWidgetAppearanceWithFont(e,n,a)},t.of=function(e,n,r){return new t(e,n,r)},t})(qu),Cp=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroRadioButton",[[Ym,"PDFAcroRadioButton"]]),s.acroField=e,s}return t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]=e[r].decodeText();return n}for(var a=this.acroField.getOnValues(),o=new Array(a.length),r=0,s=o.length;r<s;r++)o[r]=a[r].decodeText();return o},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==ct.of("Off")){var n=this.acroField.getExportValues();if(n){for(var r=this.acroField.getOnValues(),s=0,a=r.length;s<a;s++)if(r[s]===e)return n[s].decodeText()}return e.decodeText()}},t.prototype.select=function(e){Ft(e,"option",["string"]);var n=this.getOptions();kh(e,"option",n),this.markAsDirty();var r=this.acroField.getOnValues(),s=this.acroField.getExportValues();if(s)for(var a=0,o=s.length;a<o;a++)s[a].decodeText()===e&&this.acroField.setValue(r[a]);else for(var a=0,o=r.length;a<o;a++){var l=r[a];l.decodeText()===e&&this.acroField.setValue(l)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(ct.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(bo.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(bo.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(bo.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(bo.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(bo.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(bo.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,n,r){var s,a,o,l,c,u,f,g,p;Ft(e,"option",["string"]),Ft(n,"page",[[wo,"PDFPage"]]),mf(r);var v=this.createWidget({x:(s=r?.x)!==null&&s!==void 0?s:0,y:(a=r?.y)!==null&&a!==void 0?a:0,width:(o=r?.width)!==null&&o!==void 0?o:50,height:(l=r?.height)!==null&&l!==void 0?l:50,textColor:(c=r?.textColor)!==null&&c!==void 0?c:tn(0,0,0),backgroundColor:(u=r?.backgroundColor)!==null&&u!==void 0?u:tn(1,1,1),borderColor:(f=r?.borderColor)!==null&&f!==void 0?f:tn(0,0,0),borderWidth:(g=r?.borderWidth)!==null&&g!==void 0?g:1,rotate:(p=r?.rotate)!==null&&p!==void 0?p:sn(0),hidden:r?.hidden,page:n.ref}),y=this.doc.context.register(v.dict),A=this.acroField.addWidgetWithOpt(y,nn.fromText(e),!this.isMutuallyExclusive());v.setAppearanceState(ct.of("Off")),this.updateWidgetAppearance(v,A),n.node.addAnnot(y)},t.prototype.needsAppearancesUpdate=function(){for(var e,n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=a.getAppearanceState(),l=(e=a.getAppearances())===null||e===void 0?void 0:e.normal;if(!(l instanceof En)||o&&!l.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){pe(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=a.getOnValue();o&&this.updateWidgetAppearance(a,o,e)}},t.prototype.updateWidgetAppearance=function(e,n,r){var s=r??OD,a=gf(s(this,e));this.updateOnOffWidgetAppearance(e,n,a)},t.of=function(e,n,r){return new t(e,n,r)},t})(qu),ub=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroSignature",[[p2,"PDFAcroSignature"]]),s.acroField=e,s}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,n,r){return new t(e,n,r)},t})(qu),V0=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroText",[[Xm,"PDFAcroText"]]),s.acroField=e,s}return t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new kD(this.getName());return e?.decodeText()},t.prototype.setText=function(e){pe(e,"text",["string"]);var n=this.getMaxLength();if(n!==void 0&&e&&e.length>n)throw new PD(e.length,n,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(nn.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return e===0?qi.Left:e===1?qi.Center:e===2?qi.Right:qi.Left},t.prototype.setAlignment=function(e){kh(e,"alignment",qi),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(Yo(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),e===void 0)this.acroField.removeMaxLength();else{var n=this.getText();if(n&&n.length>e)throw new TD(n.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var n=this.getAlignment(),r=n===qi.Center?Th.Center:n===qi.Right?Th.Right:Th.Left,s=this.acroField.getWidgets(),a=0,o=s.length;a<o;a++){var l=s[a],c=this.createImageAppearanceStream(l,e,r);this.updateWidgetAppearances(l,{normal:c})}this.markAsClean()},t.prototype.setFontSize=function(e){qm(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(ni.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(ni.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(ni.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(ni.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(ni.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(ni.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(ni.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(ni.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(ni.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ni.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ni.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ni.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(ni.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(ni.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(ni.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(ni.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var e="PDFTextFields must have a max length in order to be combed";console.warn(e)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(ni.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(ni.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(ni.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(ni.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(ni.RichText,!1)},t.prototype.addToPage=function(e,n){var r,s,a,o,l,c,u;Ft(e,"page",[[wo,"PDFPage"]]),mf(n),n||(n={}),"textColor"in n||(n.textColor=tn(0,0,0)),"backgroundColor"in n||(n.backgroundColor=tn(1,1,1)),"borderColor"in n||(n.borderColor=tn(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var f=this.createWidget({x:(r=n.x)!==null&&r!==void 0?r:0,y:(s=n.y)!==null&&s!==void 0?s:0,width:(a=n.width)!==null&&a!==void 0?a:200,height:(o=n.height)!==null&&o!==void 0?o:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:sn(0),hidden:n.hidden,page:e.ref}),g=this.doc.context.register(f.dict);this.acroField.addWidget(g);var p=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(f,p),e.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Xa;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Ft(e,"font",[[Ka,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){Ft(e,"font",[[Ka,"PDFFont"]]),pe(n,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,r){var s=r??jD,a=gf(s(this,e,n));this.updateWidgetAppearanceWithFont(e,n,a)},t.of=function(e,n,r){return new t(e,n,r)},t})(qu),_u;(function(i){i.Courier="Courier",i.CourierBold="Courier-Bold",i.CourierOblique="Courier-Oblique",i.CourierBoldOblique="Courier-BoldOblique",i.Helvetica="Helvetica",i.HelveticaBold="Helvetica-Bold",i.HelveticaOblique="Helvetica-Oblique",i.HelveticaBoldOblique="Helvetica-BoldOblique",i.TimesRoman="Times-Roman",i.TimesRomanBold="Times-Bold",i.TimesRomanItalic="Times-Italic",i.TimesRomanBoldItalic="Times-BoldItalic",i.Symbol="Symbol",i.ZapfDingbats="ZapfDingbats"})(_u||(_u={}));var HD=(function(){function i(t,e){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(_u.Helvetica)},Ft(t,"acroForm",[[fm,"PDFAcroForm"]]),Ft(e,"doc",[[Rc,"PDFDocument"]]),this.acroForm=t,this.doc=e,this.dirtyFields=new Set,this.defaultFontCache=Nc.populatedBy(this.embedDefaultFont)}return i.prototype.hasXFA=function(){return this.acroForm.dict.has(ct.of("XFA"))},i.prototype.deleteXFA=function(){this.acroForm.dict.delete(ct.of("XFA"))},i.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),e=[],n=0,r=t.length;n<r;n++){var s=t[n],a=s[0],o=s[1],l=qD(a,o,this.doc);l&&e.push(l)}return e},i.prototype.getFieldMaybe=function(t){Ft(t,"name",["string"]);for(var e=this.getFields(),n=0,r=e.length;n<r;n++){var s=e[n];if(s.getName()===t)return s}},i.prototype.getField=function(t){Ft(t,"name",["string"]);var e=this.getFieldMaybe(t);if(e)return e;throw new ED(t)},i.prototype.getButton=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof G0)return e;throw new mu(t,G0,e)},i.prototype.getCheckBox=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof Ep)return e;throw new mu(t,Ep,e)},i.prototype.getDropdown=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof q0)return e;throw new mu(t,q0,e)},i.prototype.getOptionList=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof W0)return e;throw new mu(t,W0,e)},i.prototype.getRadioGroup=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof Cp)return e;throw new mu(t,Cp,e)},i.prototype.getSignature=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof ub)return e;throw new mu(t,ub,e)},i.prototype.getTextField=function(t){Ft(t,"name",["string"]);var e=this.getField(t);if(e instanceof V0)return e;throw new mu(t,V0,e)},i.prototype.createButton=function(t){Ft(t,"name",["string"]);var e=Td(t),n=this.findOrCreateNonTerminals(e.nonTerminal),r=Km.create(this.doc.context);return r.setPartialName(e.terminal),Ld(n,[r,r.ref],e.terminal),G0.of(r,r.ref,this.doc)},i.prototype.createCheckBox=function(t){Ft(t,"name",["string"]);var e=Td(t),n=this.findOrCreateNonTerminals(e.nonTerminal),r=Vm.create(this.doc.context);return r.setPartialName(e.terminal),Ld(n,[r,r.ref],e.terminal),Ep.of(r,r.ref,this.doc)},i.prototype.createDropdown=function(t){Ft(t,"name",["string"]);var e=Td(t),n=this.findOrCreateNonTerminals(e.nonTerminal),r=Gm.create(this.doc.context);return r.setPartialName(e.terminal),Ld(n,[r,r.ref],e.terminal),q0.of(r,r.ref,this.doc)},i.prototype.createOptionList=function(t){Ft(t,"name",["string"]);var e=Td(t),n=this.findOrCreateNonTerminals(e.nonTerminal),r=Zm.create(this.doc.context);return r.setPartialName(e.terminal),Ld(n,[r,r.ref],e.terminal),W0.of(r,r.ref,this.doc)},i.prototype.createRadioGroup=function(t){Ft(t,"name",["string"]);var e=Td(t),n=this.findOrCreateNonTerminals(e.nonTerminal),r=Ym.create(this.doc.context);return r.setPartialName(e.terminal),Ld(n,[r,r.ref],e.terminal),Cp.of(r,r.ref,this.doc)},i.prototype.createTextField=function(t){Ft(t,"name",["string"]);var e=Td(t),n=this.findOrCreateNonTerminals(e.nonTerminal),r=Xm.create(this.doc.context);return r.setPartialName(e.terminal),Ld(n,[r,r.ref],e.terminal),V0.of(r,r.ref,this.doc)},i.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var e=this.getFields(),n=0,r=e.length;n<r;n++){for(var s=e[n],a=s.acroField.getWidgets(),o=0,l=a.length;o<l;o++){var c=a[o],u=this.findWidgetPage(c),f=this.findWidgetAppearanceRef(s,c),g=u.node.newXObject("FlatWidget",f),p=c.getRectangle(),v=Vn([Vi(),xo(p.x,p.y)],jh(mn(mn({},p),{rotation:0})),[x2(g),Gi()]).filter(Boolean);u.pushOperators.apply(u,v)}this.removeField(s)}},i.prototype.removeField=function(t){for(var e=t.acroField.getWidgets(),n=new Set,r=0,s=e.length;r<s;r++){var a=e[r],o=this.findWidgetAppearanceRef(t,a),l=this.findWidgetPage(a);n.add(l),l.node.removeAnnot(o)}n.forEach(function(p){return p.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var c=t.acroField.normalizedEntries().Kids,u=c.size(),f=0;f<u;f++){var g=c.get(f);g instanceof ar&&this.doc.context.delete(g)}this.doc.context.delete(t.ref)},i.prototype.updateFieldAppearances=function(t){pe(t,"font",[[Ka,"PDFFont"]]),t=t??this.getDefaultFont();for(var e=this.getFields(),n=0,r=e.length;n<r;n++){var s=e[n];s.needsAppearancesUpdate()&&s.defaultUpdateAppearances(t)}},i.prototype.markFieldAsDirty=function(t){pe(t,"fieldRef",[[ar,"PDFRef"]]),this.dirtyFields.add(t)},i.prototype.markFieldAsClean=function(t){pe(t,"fieldRef",[[ar,"PDFRef"]]),this.dirtyFields.delete(t)},i.prototype.fieldIsDirty=function(t){return pe(t,"fieldRef",[[ar,"PDFRef"]]),this.dirtyFields.has(t)},i.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},i.prototype.findWidgetPage=function(t){var e=t.P(),n=this.doc.getPages().find(function(s){return s.ref===e});if(n===void 0){var r=this.doc.context.getObjectRef(t.dict);if(r===void 0)throw new Error("Could not find PDFRef for PDFObject");if(n=this.doc.findPageForAnnotationRef(r),n===void 0)throw new Error("Could not find page for PDFRef "+r)}return n},i.prototype.findWidgetAppearanceRef=function(t,e){var n,r=e.getNormalAppearance();if(r instanceof En&&(t instanceof Ep||t instanceof Cp)){var s=t.acroField.getValue(),a=(n=r.get(s))!==null&&n!==void 0?n:r.get(ct.of("Off"));a instanceof ar&&(r=a)}if(!(r instanceof ar)){var o=t.getName();throw new Error("Failed to extract appearance ref for: "+o)}return r},i.prototype.findOrCreateNonTerminals=function(t){for(var e=[this.acroForm],n=0,r=t.length;n<r;n++){var s=t[n];if(!s)throw new CD(s);var a=e[0],o=e[1],l=this.findNonTerminal(s,a);if(l)e=l;else{var c=dm.create(this.doc.context);c.setPartialName(s),c.setParent(o);var u=this.doc.context.register(c.dict);a.addField(u),e=[c,u]}}return e},i.prototype.findNonTerminal=function(t,e){for(var n=e instanceof fm?this.acroForm.getFields():g2(e.Kids()),r=0,s=n.length;r<s;r++){var a=n[r],o=a[0],l=a[1];if(o.getPartialName()===t){if(o instanceof dm)return[o,l];throw new jk(t)}}},i.of=function(t,e){return new i(t,e)},i})(),qD=function(i,t,e){if(i instanceof Km)return G0.of(i,t,e);if(i instanceof Vm)return Ep.of(i,t,e);if(i instanceof Gm)return q0.of(i,t,e);if(i instanceof Zm)return W0.of(i,t,e);if(i instanceof Xm)return V0.of(i,t,e);if(i instanceof Ym)return Cp.of(i,t,e);if(i instanceof p2)return ub.of(i,t,e)},Td=function(i){if(i.length===0)throw new Error("PDF field names must not be empty strings");for(var t=i.split("."),e=0,n=t.length;e<n;e++)if(t[e]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+i+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},Ld=function(i,t,e){for(var n=i[0],r=i[1],s=t[0],a=t[1],o=n.normalizedEntries(),l=g2("Kids"in o?o.Kids:o.Fields),c=0,u=l.length;c<u;c++)if(l[c][0].getPartialName()===e)throw new jk(e);n.addField(a),s.setParent(r)},WD={A4:[595.28,841.89]},db;(function(i){i[i.Fastest=1/0]="Fastest",i[i.Fast=1500]="Fast",i[i.Medium=500]="Medium",i[i.Slow=100]="Slow"})(db||(db={}));var VD=(function(){function i(t,e,n){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=n}return i.prototype.embed=function(){return _n(this,void 0,void 0,function(){var t,e,n,r,s;return Pn(this,function(a){switch(a.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=a.sent(),this.doc.catalog.has(ct.of("Names"))||this.doc.catalog.set(ct.of("Names"),this.doc.context.obj({})),e=this.doc.catalog.lookup(ct.of("Names"),En),e.has(ct.of("EmbeddedFiles"))||e.set(ct.of("EmbeddedFiles"),this.doc.context.obj({})),n=e.lookup(ct.of("EmbeddedFiles"),En),n.has(ct.of("Names"))||n.set(ct.of("Names"),this.doc.context.obj([])),r=n.lookup(ct.of("Names"),tr),r.push(nn.fromText(this.embedder.fileName)),r.push(t),this.doc.catalog.has(ct.of("AF"))||this.doc.catalog.set(ct.of("AF"),this.doc.context.obj([])),s=this.doc.catalog.lookup(ct.of("AF"),tr),s.push(t),this.alreadyEmbedded=!0,a.label=2;case 2:return[2]}})})},i.of=function(t,e,n){return new i(t,e,n)},i})(),GD=(function(){function i(t,e,n){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=n}return i.prototype.embed=function(){return _n(this,void 0,void 0,function(){var t,e,n,r,s,a,o;return Pn(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,e=t.catalog,n=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:r=l.sent(),e.has(ct.of("Names"))||e.set(ct.of("Names"),n.obj({})),s=e.lookup(ct.of("Names"),En),s.has(ct.of("JavaScript"))||s.set(ct.of("JavaScript"),n.obj({})),a=s.lookup(ct.of("JavaScript"),En),a.has(ct.of("Names"))||a.set(ct.of("Names"),n.obj([])),o=a.lookup(ct.of("Names"),tr),o.push(nn.fromText(this.embedder.scriptName)),o.push(r),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},i.of=function(t,e,n){return new i(t,e,n)},i})(),XD=(function(){function i(t,e){this.script=t,this.scriptName=e}return i.for=function(t,e){return new i(t,e)},i.prototype.embedIntoContext=function(t,e){return _n(this,void 0,void 0,function(){var n;return Pn(this,function(r){return n=t.obj({Type:"Action",S:"JavaScript",JS:nn.fromText(this.script)}),e?(t.assign(e,n),[2,e]):[2,t.register(n)]})})},i})(),Rc=(function(){function i(t,e,n){var r=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var s=[];return r.catalog.Pages().traverse(function(a,o){if(a instanceof Fc){var l=r.pageMap.get(a);l||(l=wo.of(a,o,r),r.pageMap.set(a,l)),s.push(l)}}),s},this.getOrCreateForm=function(){var s=r.catalog.getOrCreateAcroForm();return HD.of(s,r)},Ft(t,"context",[[sb,"PDFContext"]]),Ft(e,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Nc.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Nc.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!e&&this.isEncrypted)throw new wD;n&&this.updateInfoDict()}return i.load=function(t,e){return e===void 0&&(e={}),_n(this,void 0,void 0,function(){var n,r,s,a,o,l,c,u,f,g,p,v;return Pn(this,function(y){switch(y.label){case 0:return n=e.ignoreEncryption,r=n===void 0?!1:n,s=e.parseSpeed,a=s===void 0?db.Slow:s,o=e.throwOnInvalidObject,l=o===void 0?!1:o,c=e.updateMetadata,u=c===void 0?!0:c,f=e.capNumbers,g=f===void 0?!1:f,Ft(t,"pdf",["string",Uint8Array,ArrayBuffer]),Ft(r,"ignoreEncryption",["boolean"]),Ft(a,"parseSpeed",["number"]),Ft(l,"throwOnInvalidObject",["boolean"]),p=rp(t),[4,YI.forBytesWithOptions(p,a,l,g).parseDocument()];case 1:return v=y.sent(),[2,new i(v,r,u)]}})})},i.create=function(t){return t===void 0&&(t={}),_n(this,void 0,void 0,function(){var e,n,r,s,a,o;return Pn(this,function(l){return e=t.updateMetadata,n=e===void 0?!0:e,r=sb.create(),s=Ak.withContext(r),a=r.register(s),o=wk.withContextAndPages(r,a),r.trailerInfo.Root=r.register(o),[2,new i(r,!1,n)]})})},i.prototype.registerFontkit=function(t){this.fontkit=t},i.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},i.prototype.getTitle=function(){var t=this.getInfoDict().lookup(ct.Title);if(t)return mh(t),t.decodeText()},i.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(ct.Author);if(t)return mh(t),t.decodeText()},i.prototype.getSubject=function(){var t=this.getInfoDict().lookup(ct.Subject);if(t)return mh(t),t.decodeText()},i.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(ct.Keywords);if(t)return mh(t),t.decodeText()},i.prototype.getCreator=function(){var t=this.getInfoDict().lookup(ct.Creator);if(t)return mh(t),t.decodeText()},i.prototype.getProducer=function(){var t=this.getInfoDict().lookup(ct.Producer);if(t)return mh(t),t.decodeText()},i.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(ct.CreationDate);if(t)return mh(t),t.decodeDate()},i.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(ct.ModDate);if(t)return mh(t),t.decodeDate()},i.prototype.setTitle=function(t,e){Ft(t,"title",["string"]);var n=ct.of("Title");if(this.getInfoDict().set(n,nn.fromText(t)),e?.showInWindowTitleBar){var r=this.catalog.getOrCreateViewerPreferences();r.setDisplayDocTitle(!0)}},i.prototype.setAuthor=function(t){Ft(t,"author",["string"]);var e=ct.of("Author");this.getInfoDict().set(e,nn.fromText(t))},i.prototype.setSubject=function(t){Ft(t,"author",["string"]);var e=ct.of("Subject");this.getInfoDict().set(e,nn.fromText(t))},i.prototype.setKeywords=function(t){Ft(t,"keywords",[Array]);var e=ct.of("Keywords");this.getInfoDict().set(e,nn.fromText(t.join(" ")))},i.prototype.setCreator=function(t){Ft(t,"creator",["string"]);var e=ct.of("Creator");this.getInfoDict().set(e,nn.fromText(t))},i.prototype.setProducer=function(t){Ft(t,"creator",["string"]);var e=ct.of("Producer");this.getInfoDict().set(e,nn.fromText(t))},i.prototype.setLanguage=function(t){Ft(t,"language",["string"]);var e=ct.of("Lang");this.catalog.set(e,sr.of(t))},i.prototype.setCreationDate=function(t){Ft(t,"creationDate",[[Date,"Date"]]);var e=ct.of("CreationDate");this.getInfoDict().set(e,sr.fromDate(t))},i.prototype.setModificationDate=function(t){Ft(t,"modificationDate",[[Date,"Date"]]);var e=ct.of("ModDate");this.getInfoDict().set(e,sr.fromDate(t))},i.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},i.prototype.getPages=function(){return this.pageCache.access()},i.prototype.getPage=function(t){var e=this.getPages();return Wa(t,"index",0,e.length-1),e[t]},i.prototype.getPageIndices=function(){return ZR(0,this.getPageCount())},i.prototype.removePage=function(t){var e=this.getPageCount();if(this.pageCount===0)throw new SD;Wa(t,"index",0,e-1),this.catalog.removeLeafNode(t),this.pageCount=e-1},i.prototype.addPage=function(t){return Ft(t,"page",["undefined",[wo,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},i.prototype.insertPage=function(t,e){var n=this.getPageCount();if(Wa(t,"index",0,n),Ft(e,"page",["undefined",[wo,"PDFPage"],Array]),!e||Array.isArray(e)){var r=Array.isArray(e)?e:WD.A4;e=wo.create(this),e.setSize.apply(e,r)}else if(e.doc!==this)throw new xD;var s=this.catalog.insertLeafNode(e.ref,t);return e.node.setParent(s),this.pageMap.set(e.node,e),this.pageCache.invalidate(),this.pageCount=n+1,e},i.prototype.copyPages=function(t,e){return _n(this,void 0,void 0,function(){var n,r,s,a,o,l,c,u;return Pn(this,function(f){switch(f.label){case 0:return Ft(t,"srcDoc",[[i,"PDFDocument"]]),Ft(e,"indices",[Array]),[4,t.flush()];case 1:for(f.sent(),n=Hx.for(t.context,this.context),r=t.getPages(),s=new Array(e.length),a=0,o=e.length;a<o;a++)l=r[e[a]],c=n.copy(l.node),u=this.context.register(c),s[a]=wo.of(c,u,this);return[2,s]}})})},i.prototype.copy=function(){return _n(this,void 0,void 0,function(){var t,e,n,r;return Pn(this,function(s){switch(s.label){case 0:return[4,i.create()];case 1:return t=s.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(e=s.sent(),n=0,r=e.length;n<r;n++)t.addPage(e[n]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},i.prototype.addJavaScript=function(t,e){Ft(t,"name",["string"]),Ft(e,"script",["string"]);var n=XD.for(e,t),r=this.context.nextRef(),s=GD.of(r,this,n);this.javaScripts.push(s)},i.prototype.attach=function(t,e,n){return n===void 0&&(n={}),_n(this,void 0,void 0,function(){var r,s,a,o;return Pn(this,function(l){return Ft(t,"attachment",["string",Uint8Array,ArrayBuffer]),Ft(e,"name",["string"]),pe(n.mimeType,"mimeType",["string"]),pe(n.description,"description",["string"]),pe(n.creationDate,"options.creationDate",[Date]),pe(n.modificationDate,"options.modificationDate",[Date]),vo(n.afRelationship,"options.afRelationship",ab),r=rp(t),s=AI.for(r,e,n),a=this.context.nextRef(),o=VD.of(a,this,s),this.embeddedFiles.push(o),[2]})})},i.prototype.embedFont=function(t,e){return e===void 0&&(e={}),_n(this,void 0,void 0,function(){var n,r,s,a,o,l,c,u,f,g;return Pn(this,function(p){switch(p.label){case 0:return n=e.subset,r=n===void 0?!1:n,s=e.customName,a=e.features,Ft(t,"font",["string",Uint8Array,ArrayBuffer]),Ft(r,"subset",["boolean"]),Rx(t)?(o=hm.for(t,s),[3,7]):[3,1];case 1:return QR(t)?(l=rp(t),c=this.assertFontkit(),r?[4,wI.for(c,l,s,a)]:[3,3]):[3,6];case 2:return u=p.sent(),[3,5];case 3:return[4,d2.for(c,l,s,a)];case 4:u=p.sent(),p.label=5;case 5:return o=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return f=this.context.nextRef(),g=Ka.of(f,this,o),this.fonts.push(g),[2,g]}})})},i.prototype.embedStandardFont=function(t,e){if(Ft(t,"font",["string"]),!Rx(t))throw new TypeError("`font` must be one of type `StandardFonts`");var n=hm.for(t,e),r=this.context.nextRef(),s=Ka.of(r,this,n);return this.fonts.push(s),s},i.prototype.embedJpg=function(t){return _n(this,void 0,void 0,function(){var e,n,r,s;return Pn(this,function(a){switch(a.label){case 0:return Ft(t,"jpg",["string",Uint8Array,ArrayBuffer]),e=rp(t),[4,uk.for(e)];case 1:return n=a.sent(),r=this.context.nextRef(),s=hb.of(r,this,n),this.images.push(s),[2,s]}})})},i.prototype.embedPng=function(t){return _n(this,void 0,void 0,function(){var e,n,r,s;return Pn(this,function(a){switch(a.label){case 0:return Ft(t,"png",["string",Uint8Array,ArrayBuffer]),e=rp(t),[4,dk.for(e)];case 1:return n=a.sent(),r=this.context.nextRef(),s=hb.of(r,this,n),this.images.push(s),[2,s]}})})},i.prototype.embedPdf=function(t,e){return e===void 0&&(e=[0]),_n(this,void 0,void 0,function(){var n,r,s;return Pn(this,function(a){switch(a.label){case 0:return Ft(t,"pdf",["string",Uint8Array,ArrayBuffer,[i,"PDFDocument"]]),Ft(e,"indices",[Array]),t instanceof i?(r=t,[3,3]):[3,1];case 1:return[4,i.load(t)];case 2:r=a.sent(),a.label=3;case 3:return n=r,s=JR(n.getPages(),e),[2,this.embedPages(s)]}})})},i.prototype.embedPage=function(t,e,n){return _n(this,void 0,void 0,function(){var r;return Pn(this,function(s){switch(s.label){case 0:return Ft(t,"page",[[wo,"PDFPage"]]),[4,this.embedPages([t],[e],[n])];case 1:return r=s.sent()[0],[2,r]}})})},i.prototype.embedPages=function(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=[]),_n(this,void 0,void 0,function(){var c,u,r,s,a,o,l,c,u,f,g,p,v,y,A;return Pn(this,function(w){switch(w.label){case 0:if(t.length===0)return[2,[]];for(c=0,u=t.length-1;c<u;c++)if(r=t[c],s=t[c+1],r.node.context!==s.node.context)throw new X4;a=t[0].node.context,o=a===this.context?function(C){return C}:Hx.for(a,this.context).copy,l=new Array(t.length),c=0,u=t.length,w.label=1;case 1:return c<u?(f=o(t[c].node),g=e[c],p=n[c],[4,gk.for(f,g,p)]):[3,4];case 2:v=w.sent(),y=this.context.nextRef(),l[c]=Wk.of(y,this,v),w.label=3;case 3:return c++,[3,1];case 4:return(A=this.embeddedPages).push.apply(A,l),[2,l]}})})},i.prototype.flush=function(){return _n(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},i.prototype.save=function(t){return t===void 0&&(t={}),_n(this,void 0,void 0,function(){var e,n,r,s,a,o,l,c,u,f;return Pn(this,function(g){switch(g.label){case 0:return e=t.useObjectStreams,n=e===void 0?!0:e,r=t.addDefaultPage,s=r===void 0?!0:r,a=t.objectsPerTick,o=a===void 0?50:a,l=t.updateFieldAppearances,c=l===void 0?!0:l,Ft(n,"useObjectStreams",["boolean"]),Ft(s,"addDefaultPage",["boolean"]),Ft(o,"objectsPerTick",["number"]),Ft(c,"updateFieldAppearances",["boolean"]),s&&this.getPageCount()===0&&this.addPage(),c&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return g.sent(),f=n?pI:ck,[2,f.forContext(this.context,o).serializeToBuffer()]}})})},i.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),_n(this,void 0,void 0,function(){var e,n,r,s,a;return Pn(this,function(o){switch(o.label){case 0:return e=t.dataUri,n=e===void 0?!1:e,r=RR(t,["dataUri"]),Ft(n,"dataUri",["boolean"]),[4,this.save(r)];case 1:return s=o.sent(),a=IR(s),[2,n?"data:application/pdf;base64,"+a:a]}})})},i.prototype.findPageForAnnotationRef=function(t){for(var e=this.getPages(),n=0,r=e.length;n<r;n++){var s=e[n],a=s.node.Annots();if(a?.indexOf(t)!==void 0)return s}},i.prototype.embedAll=function(t){return _n(this,void 0,void 0,function(){var e,n;return Pn(this,function(r){switch(r.label){case 0:e=0,n=t.length,r.label=1;case 1:return e<n?[4,t[e].embed()]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},i.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",e=new Date,n=this.getInfoDict();this.setProducer(t),this.setModificationDate(e),n.get(ct.of("Creator"))||this.setCreator(t),n.get(ct.of("CreationDate"))||this.setCreationDate(e)},i.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof En)return t;var e=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(e),e},i.prototype.assertFontkit=function(){if(!this.fontkit)throw new AD;return this.fontkit},i})();function mh(i){if(!(i instanceof nn)&&!(i instanceof sr))throw new lm([nn,sr],i)}var kc;(function(i){i.Normal="Normal",i.Multiply="Multiply",i.Screen="Screen",i.Overlay="Overlay",i.Darken="Darken",i.Lighten="Lighten",i.ColorDodge="ColorDodge",i.ColorBurn="ColorBurn",i.HardLight="HardLight",i.SoftLight="SoftLight",i.Difference="Difference",i.Exclusion="Exclusion"})(kc||(kc={}));var wo=(function(){function i(t,e,n){this.fontSize=24,this.fontColor=tn(0,0,0),this.lineHeight=24,this.x=0,this.y=0,Ft(t,"leafNode",[[Fc,"PDFPageLeaf"]]),Ft(e,"ref",[[ar,"PDFRef"]]),Ft(n,"doc",[[Rc,"PDFDocument"]]),this.node=t,this.ref=e,this.doc=n}return i.prototype.setRotation=function(t){var e=kk(t);ik(e,"degreesAngle",90),this.node.set(ct.of("Rotate"),this.doc.context.obj(e))},i.prototype.getRotation=function(){var t=this.node.Rotate();return sn(t?t.asNumber():0)},i.prototype.setSize=function(t,e){Ft(t,"width",["number"]),Ft(e,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,t,e);var r=this.getCropBox(),s=this.getBleedBox(),a=this.getTrimBox(),o=this.getArtBox(),l=this.node.CropBox(),c=this.node.BleedBox(),u=this.node.TrimBox(),f=this.node.ArtBox();l&&m0(r,n)&&this.setCropBox(n.x,n.y,t,e),c&&m0(s,n)&&this.setBleedBox(n.x,n.y,t,e),u&&m0(a,n)&&this.setTrimBox(n.x,n.y,t,e),f&&m0(o,n)&&this.setArtBox(n.x,n.y,t,e)},i.prototype.setWidth=function(t){Ft(t,"width",["number"]),this.setSize(t,this.getSize().height)},i.prototype.setHeight=function(t){Ft(t,"height",["number"]),this.setSize(this.getSize().width,t)},i.prototype.setMediaBox=function(t,e,n,r){Ft(t,"x",["number"]),Ft(e,"y",["number"]),Ft(n,"width",["number"]),Ft(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+n,e+r]);this.node.set(ct.MediaBox,s)},i.prototype.setCropBox=function(t,e,n,r){Ft(t,"x",["number"]),Ft(e,"y",["number"]),Ft(n,"width",["number"]),Ft(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+n,e+r]);this.node.set(ct.CropBox,s)},i.prototype.setBleedBox=function(t,e,n,r){Ft(t,"x",["number"]),Ft(e,"y",["number"]),Ft(n,"width",["number"]),Ft(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+n,e+r]);this.node.set(ct.BleedBox,s)},i.prototype.setTrimBox=function(t,e,n,r){Ft(t,"x",["number"]),Ft(e,"y",["number"]),Ft(n,"width",["number"]),Ft(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+n,e+r]);this.node.set(ct.TrimBox,s)},i.prototype.setArtBox=function(t,e,n,r){Ft(t,"x",["number"]),Ft(e,"y",["number"]),Ft(n,"width",["number"]),Ft(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+n,e+r]);this.node.set(ct.ArtBox,s)},i.prototype.getSize=function(){var t=this.getMediaBox(),e=t.width,n=t.height;return{width:e,height:n}},i.prototype.getWidth=function(){return this.getSize().width},i.prototype.getHeight=function(){return this.getSize().height},i.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},i.prototype.getCropBox=function(){var t,e=this.node.CropBox();return(t=e?.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},i.prototype.getBleedBox=function(){var t,e=this.node.BleedBox();return(t=e?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},i.prototype.getTrimBox=function(){var t,e=this.node.TrimBox();return(t=e?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},i.prototype.getArtBox=function(){var t,e=this.node.ArtBox();return(t=e?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},i.prototype.translateContent=function(t,e){Ft(t,"x",["number"]),Ft(e,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Vi(),xo(t,e)),r=this.doc.context.register(n),s=this.createContentStream(Gi()),a=this.doc.context.register(s);this.node.wrapContentStreams(r,a)},i.prototype.scale=function(t,e){Ft(t,"x",["number"]),Ft(e,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*e),this.scaleContent(t,e),this.scaleAnnotations(t,e)},i.prototype.scaleContent=function(t,e){Ft(t,"x",["number"]),Ft(e,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Vi(),Wp(t,e)),r=this.doc.context.register(n),s=this.createContentStream(Gi()),a=this.doc.context.register(s);this.node.wrapContentStreams(r,a)},i.prototype.scaleAnnotations=function(t,e){Ft(t,"x",["number"]),Ft(e,"y",["number"]);var n=this.node.Annots();if(n)for(var r=0;r<n.size();r++){var s=n.lookup(r);s instanceof En&&this.scaleAnnot(s,t,e)}},i.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},i.prototype.setFont=function(t){Ft(t,"font",[[Ka,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},i.prototype.setFontSize=function(t){Ft(t,"fontSize",["number"]),this.fontSize=t},i.prototype.setFontColor=function(t){Ft(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},i.prototype.setLineHeight=function(t){Ft(t,"lineHeight",["number"]),this.lineHeight=t},i.prototype.getPosition=function(){return{x:this.x,y:this.y}},i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.moveTo=function(t,e){Ft(t,"x",["number"]),Ft(e,"y",["number"]),this.x=t,this.y=e},i.prototype.moveDown=function(t){Ft(t,"yDecrease",["number"]),this.y-=t},i.prototype.moveUp=function(t){Ft(t,"yIncrease",["number"]),this.y+=t},i.prototype.moveLeft=function(t){Ft(t,"xDecrease",["number"]),this.x-=t},i.prototype.moveRight=function(t){Ft(t,"xIncrease",["number"]),this.x+=t},i.prototype.pushOperators=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];rk(t,"operator",[[Hn,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,t)},i.prototype.drawText=function(t,e){var n,r,s,a,o,l,c;e===void 0&&(e={}),Ft(t,"text",["string"]),pe(e.color,"options.color",[[Object,"Color"]]),Yo(e.opacity,"opacity.opacity",0,1),pe(e.font,"options.font",[[Ka,"PDFFont"]]),pe(e.size,"options.size",["number"]),pe(e.rotate,"options.rotate",[[Object,"Rotation"]]),pe(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),pe(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),pe(e.x,"options.x",["number"]),pe(e.y,"options.y",["number"]),pe(e.lineHeight,"options.lineHeight",["number"]),pe(e.maxWidth,"options.maxWidth",["number"]),pe(e.wordBreaks,"options.wordBreaks",[Array]),vo(e.blendMode,"options.blendMode",kc);for(var u=this.setOrEmbedFont(e.font),f=u.oldFont,g=u.newFont,p=u.newFontKey,v=e.size||this.fontSize,y=e.wordBreaks||this.doc.defaultWordBreaks,A=function(M){return g.widthOfTextAtSize(M,v)},w=e.maxWidth===void 0?zC(og(t)):qR(t,y,e.maxWidth,A),C=new Array(w.length),E=0,k=w.length;E<k;E++)C[E]=g.encodeText(w[E]);var L=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),R=this.getContentStream();R.push.apply(R,dD(C,{color:(n=e.color)!==null&&n!==void 0?n:this.fontColor,font:p,size:v,rotate:(r=e.rotate)!==null&&r!==void 0?r:sn(0),xSkew:(s=e.xSkew)!==null&&s!==void 0?s:sn(0),ySkew:(a=e.ySkew)!==null&&a!==void 0?a:sn(0),x:(o=e.x)!==null&&o!==void 0?o:this.x,y:(l=e.y)!==null&&l!==void 0?l:this.y,lineHeight:(c=e.lineHeight)!==null&&c!==void 0?c:this.lineHeight,graphicsState:L})),e.font&&(f?this.setFont(f):this.resetFont())},i.prototype.drawImage=function(t,e){var n,r,s,a,o,l,c;e===void 0&&(e={}),Ft(t,"image",[[hb,"PDFImage"]]),pe(e.x,"options.x",["number"]),pe(e.y,"options.y",["number"]),pe(e.width,"options.width",["number"]),pe(e.height,"options.height",["number"]),pe(e.rotate,"options.rotate",[[Object,"Rotation"]]),pe(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),pe(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Yo(e.opacity,"opacity.opacity",0,1),vo(e.blendMode,"options.blendMode",kc);var u=this.node.newXObject("Image",t.ref),f=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),g=this.getContentStream();g.push.apply(g,Ok(u,{x:(n=e.x)!==null&&n!==void 0?n:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,width:(s=e.width)!==null&&s!==void 0?s:t.size().width,height:(a=e.height)!==null&&a!==void 0?a:t.size().height,rotate:(o=e.rotate)!==null&&o!==void 0?o:sn(0),xSkew:(l=e.xSkew)!==null&&l!==void 0?l:sn(0),ySkew:(c=e.ySkew)!==null&&c!==void 0?c:sn(0),graphicsState:f}))},i.prototype.drawPage=function(t,e){var n,r,s,a,o;e===void 0&&(e={}),Ft(t,"embeddedPage",[[Wk,"PDFEmbeddedPage"]]),pe(e.x,"options.x",["number"]),pe(e.y,"options.y",["number"]),pe(e.xScale,"options.xScale",["number"]),pe(e.yScale,"options.yScale",["number"]),pe(e.width,"options.width",["number"]),pe(e.height,"options.height",["number"]),pe(e.rotate,"options.rotate",[[Object,"Rotation"]]),pe(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),pe(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Yo(e.opacity,"opacity.opacity",0,1),vo(e.blendMode,"options.blendMode",kc);var l=this.node.newXObject("EmbeddedPdfPage",t.ref),c=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),u=e.width!==void 0?e.width/t.width:e.xScale!==void 0?e.xScale:1,f=e.height!==void 0?e.height/t.height:e.yScale!==void 0?e.yScale:1,g=this.getContentStream();g.push.apply(g,fD(l,{x:(n=e.x)!==null&&n!==void 0?n:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,xScale:u,yScale:f,rotate:(s=e.rotate)!==null&&s!==void 0?s:sn(0),xSkew:(a=e.xSkew)!==null&&a!==void 0?a:sn(0),ySkew:(o=e.ySkew)!==null&&o!==void 0?o:sn(0),graphicsState:c}))},i.prototype.drawSvgPath=function(t,e){var n,r,s,a,o,l,c,u,f;e===void 0&&(e={}),Ft(t,"path",["string"]),pe(e.x,"options.x",["number"]),pe(e.y,"options.y",["number"]),pe(e.scale,"options.scale",["number"]),pe(e.rotate,"options.rotate",[[Object,"Rotation"]]),pe(e.borderWidth,"options.borderWidth",["number"]),pe(e.color,"options.color",[[Object,"Color"]]),Yo(e.opacity,"opacity.opacity",0,1),pe(e.borderColor,"options.borderColor",[[Object,"Color"]]),pe(e.borderDashArray,"options.borderDashArray",[Array]),pe(e.borderDashPhase,"options.borderDashPhase",["number"]),vo(e.borderLineCap,"options.borderLineCap",Gd),Yo(e.borderOpacity,"options.borderOpacity",0,1),vo(e.blendMode,"options.blendMode",kc);var g=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.borderColor=tn(0,0,0));var p=this.getContentStream();p.push.apply(p,vD(t,{x:(n=e.x)!==null&&n!==void 0?n:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,scale:e.scale,rotate:(s=e.rotate)!==null&&s!==void 0?s:sn(0),color:(a=e.color)!==null&&a!==void 0?a:void 0,borderColor:(o=e.borderColor)!==null&&o!==void 0?o:void 0,borderWidth:(l=e.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(c=e.borderDashArray)!==null&&c!==void 0?c:void 0,borderDashPhase:(u=e.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(f=e.borderLineCap)!==null&&f!==void 0?f:void 0,graphicsState:g}))},i.prototype.drawLine=function(t){var e,n,r,s,a;Ft(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),Ft(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),Ft(t.start.x,"options.start.x",["number"]),Ft(t.start.y,"options.start.y",["number"]),Ft(t.end.x,"options.end.x",["number"]),Ft(t.end.y,"options.end.y",["number"]),pe(t.thickness,"options.thickness",["number"]),pe(t.color,"options.color",[[Object,"Color"]]),pe(t.dashArray,"options.dashArray",[Array]),pe(t.dashPhase,"options.dashPhase",["number"]),vo(t.lineCap,"options.lineCap",Gd),Yo(t.opacity,"opacity.opacity",0,1),vo(t.blendMode,"options.blendMode",kc);var o=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=tn(0,0,0));var l=this.getContentStream();l.push.apply(l,pD({start:t.start,end:t.end,thickness:(e=t.thickness)!==null&&e!==void 0?e:1,color:(n=t.color)!==null&&n!==void 0?n:void 0,dashArray:(r=t.dashArray)!==null&&r!==void 0?r:void 0,dashPhase:(s=t.dashPhase)!==null&&s!==void 0?s:void 0,lineCap:(a=t.lineCap)!==null&&a!==void 0?a:void 0,graphicsState:o}))},i.prototype.drawRectangle=function(t){var e,n,r,s,a,o,l,c,u,f,g,p,v;t===void 0&&(t={}),pe(t.x,"options.x",["number"]),pe(t.y,"options.y",["number"]),pe(t.width,"options.width",["number"]),pe(t.height,"options.height",["number"]),pe(t.rotate,"options.rotate",[[Object,"Rotation"]]),pe(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),pe(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),pe(t.borderWidth,"options.borderWidth",["number"]),pe(t.color,"options.color",[[Object,"Color"]]),Yo(t.opacity,"opacity.opacity",0,1),pe(t.borderColor,"options.borderColor",[[Object,"Color"]]),pe(t.borderDashArray,"options.borderDashArray",[Array]),pe(t.borderDashPhase,"options.borderDashPhase",["number"]),vo(t.borderLineCap,"options.borderLineCap",Gd),Yo(t.borderOpacity,"options.borderOpacity",0,1),vo(t.blendMode,"options.blendMode",kc);var y=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=tn(0,0,0));var A=this.getContentStream();A.push.apply(A,hf({x:(e=t.x)!==null&&e!==void 0?e:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,width:(r=t.width)!==null&&r!==void 0?r:150,height:(s=t.height)!==null&&s!==void 0?s:100,rotate:(a=t.rotate)!==null&&a!==void 0?a:sn(0),xSkew:(o=t.xSkew)!==null&&o!==void 0?o:sn(0),ySkew:(l=t.ySkew)!==null&&l!==void 0?l:sn(0),borderWidth:(c=t.borderWidth)!==null&&c!==void 0?c:0,color:(u=t.color)!==null&&u!==void 0?u:void 0,borderColor:(f=t.borderColor)!==null&&f!==void 0?f:void 0,borderDashArray:(g=t.borderDashArray)!==null&&g!==void 0?g:void 0,borderDashPhase:(p=t.borderDashPhase)!==null&&p!==void 0?p:void 0,graphicsState:y,borderLineCap:(v=t.borderLineCap)!==null&&v!==void 0?v:void 0}))},i.prototype.drawSquare=function(t){t===void 0&&(t={});var e=t.size;pe(e,"size",["number"]),this.drawRectangle(mn(mn({},t),{width:e,height:e}))},i.prototype.drawEllipse=function(t){var e,n,r,s,a,o,l,c,u,f,g;t===void 0&&(t={}),pe(t.x,"options.x",["number"]),pe(t.y,"options.y",["number"]),pe(t.xScale,"options.xScale",["number"]),pe(t.yScale,"options.yScale",["number"]),pe(t.rotate,"options.rotate",[[Object,"Rotation"]]),pe(t.color,"options.color",[[Object,"Color"]]),Yo(t.opacity,"opacity.opacity",0,1),pe(t.borderColor,"options.borderColor",[[Object,"Color"]]),Yo(t.borderOpacity,"options.borderOpacity",0,1),pe(t.borderWidth,"options.borderWidth",["number"]),pe(t.borderDashArray,"options.borderDashArray",[Array]),pe(t.borderDashPhase,"options.borderDashPhase",["number"]),vo(t.borderLineCap,"options.borderLineCap",Gd),vo(t.blendMode,"options.blendMode",kc);var p=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=tn(0,0,0));var v=this.getContentStream();v.push.apply(v,cb({x:(e=t.x)!==null&&e!==void 0?e:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,xScale:(r=t.xScale)!==null&&r!==void 0?r:100,yScale:(s=t.yScale)!==null&&s!==void 0?s:100,rotate:(a=t.rotate)!==null&&a!==void 0?a:void 0,color:(o=t.color)!==null&&o!==void 0?o:void 0,borderColor:(l=t.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(c=t.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(u=t.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(f=t.borderDashPhase)!==null&&f!==void 0?f:void 0,borderLineCap:(g=t.borderLineCap)!==null&&g!==void 0?g:void 0,graphicsState:p}))},i.prototype.drawCircle=function(t){t===void 0&&(t={});var e=t.size,n=e===void 0?100:e;pe(n,"size",["number"]),this.drawEllipse(mn(mn({},t),{xScale:n,yScale:n}))},i.prototype.setOrEmbedFont=function(t){var e=this.font,n=this.fontKey;t?this.setFont(t):this.getFont();var r=this.font,s=this.fontKey;return{oldFont:e,oldFontKey:n,newFont:r,newFontKey:s}},i.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(_u.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},i.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},i.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},i.prototype.createContentStream=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.doc.context.obj({}),r=_p.of(n,t);return r},i.prototype.maybeEmbedGraphicsState=function(t){var e=t.opacity,n=t.borderOpacity,r=t.blendMode;if(!(e===void 0&&n===void 0&&r===void 0)){var s=this.doc.context.obj({Type:"ExtGState",ca:e,CA:n,BM:r}),a=this.node.newExtGState("GS",s);return a}},i.prototype.scaleAnnot=function(t,e,n){for(var r=["RD","CL","Vertices","QuadPoints","L","Rect"],s=0,a=r.length;s<a;s++){var o=t.lookup(ct.of(r[s]));o instanceof tr&&o.scalePDFNumbers(e,n)}var l=t.lookup(ct.of("InkList"));if(l instanceof tr)for(var s=0,a=l.size();s<a;s++){var c=l.lookup(s);c instanceof tr&&c.scalePDFNumbers(e,n)}},i.of=function(t,e,n){return new i(t,e,n)},i.create=function(t){Ft(t,"doc",[[Rc,"PDFDocument"]]);var e=ar.of(-1),n=Fc.withContextAndParent(t.context,e),r=t.context.register(n);return new i(n,r,t)},i})(),G0=(function(i){ge(t,i);function t(e,n,r){var s=i.call(this,e,n,r)||this;return Ft(e,"acroButton",[[Km,"PDFAcroPushButton"]]),s.acroField=e,s}return t.prototype.setImage=function(e,n){n===void 0&&(n=Th.Center);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s],l=this.createImageAppearanceStream(o,e,n);this.updateWidgetAppearances(o,{normal:l})}this.markAsClean()},t.prototype.setFontSize=function(e){qm(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,n,r){var s,a,o,l,c,u,f,g,p,v,y;pe(e,"text",["string"]),pe(n,"page",[[wo,"PDFPage"]]),mf(r);var A=this.createWidget({x:((s=r?.x)!==null&&s!==void 0?s:0)-((a=r?.borderWidth)!==null&&a!==void 0?a:0)/2,y:((o=r?.y)!==null&&o!==void 0?o:0)-((l=r?.borderWidth)!==null&&l!==void 0?l:0)/2,width:(c=r?.width)!==null&&c!==void 0?c:100,height:(u=r?.height)!==null&&u!==void 0?u:50,textColor:(f=r?.textColor)!==null&&f!==void 0?f:tn(0,0,0),backgroundColor:(g=r?.backgroundColor)!==null&&g!==void 0?g:tn(.75,.75,.75),borderColor:r?.borderColor,borderWidth:(p=r?.borderWidth)!==null&&p!==void 0?p:0,rotate:(v=r?.rotate)!==null&&v!==void 0?v:sn(0),caption:e,hidden:r?.hidden,page:n.ref}),w=this.doc.context.register(A.dict);this.acroField.addWidget(w);var C=(y=r?.font)!==null&&y!==void 0?y:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(A,C),n.node.addAnnot(w)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var a=n[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Xa;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Ft(e,"font",[[Ka,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){Ft(e,"font",[[Ka,"PDFFont"]]),pe(n,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,n)}},t.prototype.updateWidgetAppearance=function(e,n,r){var s=r??BD,a=gf(s(this,e,n));this.updateWidgetAppearanceWithFont(e,n,a)},t.of=function(e,n,r){return new t(e,n,r)},t})(qu);const KD="modulepreload",YD=function(i){return"/"+i},i5={},iy=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");r=l(e.map(c=>{if(c=YD(c),c in i5)return;i5[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":KD,u||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),u)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function mr(i){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(i)}var el=Uint8Array,Ga=Uint16Array,_2=Int32Array,P2=new el([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T2=new el([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s5=new el([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vk=function(i,t){for(var e=new Ga(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new _2(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)r[s]=s-e[n]<<5|n;return{b:e,r}},Gk=Vk(P2,2),ZD=Gk.b,fb=Gk.r;ZD[28]=258,fb[258]=28;var JD=Vk(T2,0),a5=JD.r,pb=new Ga(32768);for(var Br=0;Br<32768;++Br){var vh=(Br&43690)>>1|(Br&21845)<<1;vh=(vh&52428)>>2|(vh&13107)<<2,vh=(vh&61680)>>4|(vh&3855)<<4,pb[Br]=((vh&65280)>>8|(vh&255)<<8)>>1}var Fp=(function(i,t,e){for(var n=i.length,r=0,s=new Ga(t);r<n;++r)i[r]&&++s[i[r]-1];var a=new Ga(t);for(r=1;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(e){o=new Ga(1<<t);var l=15-t;for(r=0;r<n;++r)if(i[r])for(var c=r<<4|i[r],u=t-i[r],f=a[i[r]-1]++<<u,g=f|(1<<u)-1;f<=g;++f)o[pb[f]>>l]=c}else for(o=new Ga(n),r=0;r<n;++r)i[r]&&(o[r]=pb[a[i[r]-1]++]>>15-i[r]);return o}),Iu=new el(288);for(var Br=0;Br<144;++Br)Iu[Br]=8;for(var Br=144;Br<256;++Br)Iu[Br]=9;for(var Br=256;Br<280;++Br)Iu[Br]=7;for(var Br=280;Br<288;++Br)Iu[Br]=8;var bm=new el(32);for(var Br=0;Br<32;++Br)bm[Br]=5;var QD=Fp(Iu,9,0),$D=Fp(bm,5,0),Xk=function(i){return(i+7)/8|0},tM=function(i,t,e){return(e==null||e>i.length)&&(e=i.length),new el(i.subarray(t,e))},bc=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},hp=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},sy=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,s=e.slice();if(!r)return{t:Yk,l:0};if(r==1){var a=new el(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function(L,R){return L.f-R.f}),e.push({s:-1,f:25001});var o=e[0],l=e[1],c=0,u=1,f=2;for(e[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=r-1;)o=e[e[c].f<e[f].f?c++:f++],l=e[c!=u&&e[c].f<e[f].f?c++:f++],e[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<r;++n)s[n].s>g&&(g=s[n].s);var p=new Ga(g+1),v=gb(e[u-1],p,0);if(v>t){var n=0,y=0,A=v-t,w=1<<A;for(s.sort(function(R,M){return p[M.s]-p[R.s]||R.f-M.f});n<r;++n){var C=s[n].s;if(p[C]>t)y+=w-(1<<v-p[C]),p[C]=t;else break}for(y>>=A;y>0;){var E=s[n].s;p[E]<t?y-=1<<t-p[E]++-1:++n}for(;n>=0&&y;--n){var k=s[n].s;p[k]==t&&(--p[k],++y)}v=t}return{t:new el(p),l:v}},gb=function(i,t,e){return i.s==-1?Math.max(gb(i.l,t,e+1),gb(i.r,t,e+1)):t[i.s]=e},o5=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Ga(++t),n=0,r=i[0],s=1,a=function(l){e[n++]=l},o=1;o<=t;++o)if(i[o]==r&&o!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=i[o]}return{c:e.subarray(0,n),n:t}},up=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},Kk=function(i,t,e){var n=e.length,r=Xk(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=e[s];return(r+4+n)*8},l5=function(i,t,e,n,r,s,a,o,l,c,u){bc(t,u++,e),++r[256];for(var f=sy(r,15),g=f.t,p=f.l,v=sy(s,15),y=v.t,A=v.l,w=o5(g),C=w.c,E=w.n,k=o5(y),L=k.c,R=k.n,M=new Ga(19),j=0;j<C.length;++j)++M[C[j]&31];for(var j=0;j<L.length;++j)++M[L[j]&31];for(var B=sy(M,7),X=B.t,D=B.l,z=19;z>4&&!X[s5[z-1]];--z);var U=c+5<<3,Q=up(r,Iu)+up(s,bm)+a,pt=up(r,g)+up(s,y)+a+14+3*z+up(M,X)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&U<=Q&&U<=pt)return Kk(t,u,i.subarray(l,l+c));var Z,$,st,rt;if(bc(t,u,1+(pt<Q)),u+=2,pt<Q){Z=Fp(g,p,0),$=g,st=Fp(y,A,0),rt=y;var ot=Fp(X,D,0);bc(t,u,E-257),bc(t,u+5,R-1),bc(t,u+10,z-4),u+=14;for(var j=0;j<z;++j)bc(t,u+3*j,X[s5[j]]);u+=3*z;for(var q=[C,L],I=0;I<2;++I)for(var W=q[I],j=0;j<W.length;++j){var nt=W[j]&31;bc(t,u,ot[nt]),u+=X[nt],nt>15&&(bc(t,u,W[j]>>5&127),u+=W[j]>>12)}}else Z=QD,$=Iu,st=$D,rt=bm;for(var j=0;j<o;++j){var lt=n[j];if(lt>255){var nt=lt>>18&31;hp(t,u,Z[nt+257]),u+=$[nt+257],nt>7&&(bc(t,u,lt>>23&31),u+=P2[nt]);var dt=lt&31;hp(t,u,st[dt]),u+=rt[dt],dt>3&&(hp(t,u,lt>>5&8191),u+=T2[dt])}else hp(t,u,Z[lt]),u+=$[lt]}return hp(t,u,Z[256]),u+$[256]},eM=new _2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yk=new el(0),nM=function(i,t,e,n,r,s){var a=s.z||i.length,o=new el(n+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(n,o.length-r),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var f=eM[t-1],g=f>>13,p=f&8191,v=(1<<e)-1,y=s.p||new Ga(32768),A=s.h||new Ga(v+1),w=Math.ceil(e/3),C=2*w,E=function(zt){return(i[zt]^i[zt+1]<<w^i[zt+2]<<C)&v},k=new _2(25e3),L=new Ga(288),R=new Ga(32),M=0,j=0,B=s.i||0,X=0,D=s.w||0,z=0;B+2<a;++B){var U=E(B),Q=B&32767,pt=A[U];if(y[Q]=pt,A[U]=Q,D<=B){var Z=a-B;if((M>7e3||X>24576)&&(Z>423||!c)){u=l5(i,l,0,k,L,R,j,X,z,B-z,u),X=M=j=0,z=B;for(var $=0;$<286;++$)L[$]=0;for(var $=0;$<30;++$)R[$]=0}var st=2,rt=0,ot=p,q=Q-pt&32767;if(Z>2&&U==E(B-q))for(var I=Math.min(g,Z)-1,W=Math.min(32767,B),nt=Math.min(258,Z);q<=W&&--ot&&Q!=pt;){if(i[B+st]==i[B+st-q]){for(var lt=0;lt<nt&&i[B+lt]==i[B+lt-q];++lt);if(lt>st){if(st=lt,rt=q,lt>I)break;for(var dt=Math.min(q,lt-2),mt=0,$=0;$<dt;++$){var yt=B-q+$&32767,_t=y[yt],Ot=yt-_t&32767;Ot>mt&&(mt=Ot,pt=yt)}}}Q=pt,pt=y[Q],q+=Q-pt&32767}if(rt){k[X++]=268435456|fb[st]<<18|a5[rt];var Xt=fb[st]&31,ee=a5[rt]&31;j+=P2[Xt]+T2[ee],++L[257+Xt],++R[ee],D=B+st,++M}else k[X++]=i[B],++L[i[B]]}}for(B=Math.max(B,D);B<a;++B)k[X++]=i[B],++L[i[B]];u=l5(i,l,c,k,L,R,j,X,z,B-z,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=A,s.p=y,s.i=B,s.w=D)}else{for(var B=s.w||0;B<a+c;B+=65535){var le=B+65535;le>=a&&(l[u/8|0]=c,le=a),u=Kk(l,u+1,i.subarray(B,le))}s.i=a}return tM(o,0,n+Xk(u)+r)},Zk=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,s=e.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=n+=e[a];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},rM=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new el(s.length+i.length);a.set(s),a.set(i,s.length),i=a,r.w=s.length}return nM(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)},Jk=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8},iM=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=Zk();r.p(t.dictionary),Jk(i,2,r.d())}};function mb(i,t){t||(t={});var e=Zk();e.p(i);var n=rM(i,t,t.dictionary?6:2,4);return iM(n,t),Jk(n,n.length-4,e.d()),n}var sM=typeof TextDecoder<"u"&&new TextDecoder,aM=0;try{sM.decode(Yk,{stream:!0}),aM=1}catch{}function oM(i){if(Array.isArray(i))return i}function lM(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n,r,s,a,o=[],l=!0,c=!1;try{if(s=(e=e.call(i)).next,t!==0)for(;!(l=(n=s.call(e)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}function c5(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=Array(t);e<t;e++)n[e]=i[e];return n}function cM(i,t){if(i){if(typeof i=="string")return c5(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c5(i,t):void 0}}function hM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5(i,t){return oM(i)||lM(i,t)||cM(i,t)||hM()}function u5(i,t="utf8"){return new TextDecoder(t).decode(i)}const uM=new TextEncoder;function dM(i){return uM.encode(i)}const fM=1024*8,pM=(()=>{const i=new Uint8Array(4),t=new Uint32Array(i.buffer);return!((t[0]=1)&i[0])})(),ay={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class L2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=fM,e={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const r=e.offset?e.offset>>>0:0,s=t.byteLength-r;let a=r;(ArrayBuffer.isView(t)||t instanceof L2)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+r),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const n=ay[e].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+n);if(this.littleEndian===pM&&e!=="uint8"&&e!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+n));o.reverse();const l=new ay[e](o.buffer);return this.offset+=n,l.reverse(),l}const a=new ay[e](s);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return u5(this.readBytes(t))}decodeText(t=1,e="utf8"){return u5(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(dM(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function vf(i){let t=i.length;for(;--t>=0;)i[t]=0}const gM=3,mM=258,Qk=29,vM=256,yM=vM+1+Qk,$k=30,bM=512,wM=new Array((yM+2)*2);vf(wM);const AM=new Array($k*2);vf(AM);const xM=new Array(bM);vf(xM);const SM=new Array(mM-gM+1);vf(SM);const EM=new Array(Qk);vf(EM);const CM=new Array($k);vf(CM);const kM=(i,t,e,n)=>{let r=i&65535|0,s=i>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do r=r+t[n++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var vb=kM;const _M=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},PM=new Uint32Array(_M()),TM=(i,t,e,n)=>{const r=PM,s=n+e;i^=-1;for(let a=n;a<s;a++)i=i>>>8^r[(i^t[a])&255];return i^-1};var _l=TM,yb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},t_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const LM=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var NM=function(i){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)LM(e,n)&&(i[n]=e[n])}}return i},FM=i=>{let t=0;for(let n=0,r=i.length;n<r;n++)t+=i[n].length;const e=new Uint8Array(t);for(let n=0,r=0,s=i.length;n<s;n++){let a=i[n];e.set(a,r),r+=a.length}return e},e_={assign:NM,flattenChunks:FM};let n_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n_=!1}const Vp=new Uint8Array(256);for(let i=0;i<256;i++)Vp[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Vp[254]=Vp[254]=1;var RM=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,n,r,s,a=i.length,o=0;for(r=0;r<a;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(o),s=0,r=0;s<o;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};const IM=(i,t)=>{if(t<65534&&i.subarray&&n_)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(i[n]);return e};var DM=(i,t)=>{const e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let n,r;const s=new Array(e*2);for(r=0,n=0;n<e;){let a=i[n++];if(a<128){s[r++]=a;continue}let o=Vp[a];if(o>4){s[r++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<e;)a=a<<6|i[n++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return IM(s,r)},MM=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+Vp[i[e]]>t?e:t},bb={string2buf:RM,buf2string:DM,utf8border:MM};function OM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var BM=OM;const E0=16209,jM=16191;var zM=function(t,e){let n,r,s,a,o,l,c,u,f,g,p,v,y,A,w,C,E,k,L,R,M,j,B,X;const D=t.state;n=t.next_in,B=t.input,r=n+(t.avail_in-5),s=t.next_out,X=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),l=D.dmax,c=D.wsize,u=D.whave,f=D.wnext,g=D.window,p=D.hold,v=D.bits,y=D.lencode,A=D.distcode,w=(1<<D.lenbits)-1,C=(1<<D.distbits)-1;t:do{v<15&&(p+=B[n++]<<v,v+=8,p+=B[n++]<<v,v+=8),E=y[p&w];e:for(;;){if(k=E>>>24,p>>>=k,v-=k,k=E>>>16&255,k===0)X[s++]=E&65535;else if(k&16){L=E&65535,k&=15,k&&(v<k&&(p+=B[n++]<<v,v+=8),L+=p&(1<<k)-1,p>>>=k,v-=k),v<15&&(p+=B[n++]<<v,v+=8,p+=B[n++]<<v,v+=8),E=A[p&C];n:for(;;){if(k=E>>>24,p>>>=k,v-=k,k=E>>>16&255,k&16){if(R=E&65535,k&=15,v<k&&(p+=B[n++]<<v,v+=8,v<k&&(p+=B[n++]<<v,v+=8)),R+=p&(1<<k)-1,R>l){t.msg="invalid distance too far back",D.mode=E0;break t}if(p>>>=k,v-=k,k=s-a,R>k){if(k=R-k,k>u&&D.sane){t.msg="invalid distance too far back",D.mode=E0;break t}if(M=0,j=g,f===0){if(M+=c-k,k<L){L-=k;do X[s++]=g[M++];while(--k);M=s-R,j=X}}else if(f<k){if(M+=c+f-k,k-=f,k<L){L-=k;do X[s++]=g[M++];while(--k);if(M=0,f<L){k=f,L-=k;do X[s++]=g[M++];while(--k);M=s-R,j=X}}}else if(M+=f-k,k<L){L-=k;do X[s++]=g[M++];while(--k);M=s-R,j=X}for(;L>2;)X[s++]=j[M++],X[s++]=j[M++],X[s++]=j[M++],L-=3;L&&(X[s++]=j[M++],L>1&&(X[s++]=j[M++]))}else{M=s-R;do X[s++]=X[M++],X[s++]=X[M++],X[s++]=X[M++],L-=3;while(L>2);L&&(X[s++]=X[M++],L>1&&(X[s++]=X[M++]))}}else if((k&64)===0){E=A[(E&65535)+(p&(1<<k)-1)];continue n}else{t.msg="invalid distance code",D.mode=E0;break t}break}}else if((k&64)===0){E=y[(E&65535)+(p&(1<<k)-1)];continue e}else if(k&32){D.mode=jM;break t}else{t.msg="invalid literal/length code",D.mode=E0;break t}break}}while(n<r&&s<o);L=v>>3,n-=L,v-=L<<3,p&=(1<<v)-1,t.next_in=n,t.next_out=s,t.avail_in=n<r?5+(r-n):5-(n-r),t.avail_out=s<o?257+(o-s):257-(s-o),D.hold=p,D.bits=v};const Nd=15,d5=852,f5=592,p5=0,oy=1,g5=2,UM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),HM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VM=(i,t,e,n,r,s,a,o)=>{const l=o.bits;let c=0,u=0,f=0,g=0,p=0,v=0,y=0,A=0,w=0,C=0,E,k,L,R,M,j=null,B;const X=new Uint16Array(Nd+1),D=new Uint16Array(Nd+1);let z=null,U,Q,pt;for(c=0;c<=Nd;c++)X[c]=0;for(u=0;u<n;u++)X[t[e+u]]++;for(p=l,g=Nd;g>=1&&X[g]===0;g--);if(p>g&&(p=g),g===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<g&&X[f]===0;f++);for(p<f&&(p=f),A=1,c=1;c<=Nd;c++)if(A<<=1,A-=X[c],A<0)return-1;if(A>0&&(i===p5||g!==1))return-1;for(D[1]=0,c=1;c<Nd;c++)D[c+1]=D[c]+X[c];for(u=0;u<n;u++)t[e+u]!==0&&(a[D[t[e+u]]++]=u);if(i===p5?(j=z=a,B=20):i===oy?(j=UM,z=HM,B=257):(j=qM,z=WM,B=0),C=0,u=0,c=f,M=s,v=p,y=0,L=-1,w=1<<p,R=w-1,i===oy&&w>d5||i===g5&&w>f5)return 1;for(;;){U=c-y,a[u]+1<B?(Q=0,pt=a[u]):a[u]>=B?(Q=z[a[u]-B],pt=j[a[u]-B]):(Q=96,pt=0),E=1<<c-y,k=1<<v,f=k;do k-=E,r[M+(C>>y)+k]=U<<24|Q<<16|pt|0;while(k!==0);for(E=1<<c-1;C&E;)E>>=1;if(E!==0?(C&=E-1,C+=E):C=0,u++,--X[c]===0){if(c===g)break;c=t[e+a[u]]}if(c>p&&(C&R)!==L){for(y===0&&(y=p),M+=f,v=c-y,A=1<<v;v+y<g&&(A-=X[v+y],!(A<=0));)v++,A<<=1;if(w+=1<<v,i===oy&&w>d5||i===g5&&w>f5)return 1;L=C&R,r[L]=p<<24|v<<16|M-s|0}}return C!==0&&(r[M+C]=c-y<<24|64<<16|0),o.bits=p,0};var Rp=VM;const GM=0,r_=1,i_=2,{Z_FINISH:m5,Z_BLOCK:XM,Z_TREES:C0,Z_OK:Du,Z_STREAM_END:KM,Z_NEED_DICT:YM,Z_STREAM_ERROR:ko,Z_DATA_ERROR:s_,Z_MEM_ERROR:a_,Z_BUF_ERROR:ZM,Z_DEFLATED:v5}=t_,rv=16180,y5=16181,b5=16182,w5=16183,A5=16184,x5=16185,S5=16186,E5=16187,C5=16188,k5=16189,wm=16190,wc=16191,ly=16192,_5=16193,cy=16194,P5=16195,T5=16196,L5=16197,N5=16198,k0=16199,_0=16200,F5=16201,R5=16202,I5=16203,D5=16204,M5=16205,hy=16206,O5=16207,B5=16208,Vr=16209,o_=16210,l_=16211,JM=852,QM=592,$M=15,t6=$M,j5=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function e6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wu=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.mode<rv||t.mode>l_?1:0},c_=i=>{if(Wu(i))return ko;const t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=rv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(JM),t.distcode=t.distdyn=new Int32Array(QM),t.sane=1,t.back=-1,Du},h_=i=>{if(Wu(i))return ko;const t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,c_(i)},u_=(i,t)=>{let e;if(Wu(i))return ko;const n=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ko:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,h_(i))},d_=(i,t)=>{if(!i)return ko;const e=new e6;i.state=e,e.strm=i,e.window=null,e.mode=rv;const n=u_(i,t);return n!==Du&&(i.state=null),n},n6=i=>d_(i,t6);let z5=!0,uy,dy;const r6=i=>{if(z5){uy=new Int32Array(512),dy=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(Rp(r_,i.lens,0,288,uy,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;Rp(i_,i.lens,0,32,dy,0,i.work,{bits:5}),z5=!1}i.lencode=uy,i.lenbits=9,i.distcode=dy,i.distbits=5},f_=(i,t,e,n)=>{let r;const s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(t.subarray(e-n,e-n+r),s.wnext),n-=r,n?(s.window.set(t.subarray(e-n,e),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},i6=(i,t)=>{let e,n,r,s,a,o,l,c,u,f,g,p,v,y,A=0,w,C,E,k,L,R,M,j;const B=new Uint8Array(4);let X,D;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wu(i)||!i.output||!i.input&&i.avail_in!==0)return ko;e=i.state,e.mode===wc&&(e.mode=ly),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=e.hold,u=e.bits,f=o,g=l,j=Du;t:for(;;)switch(e.mode){case rv:if(e.wrap===0){e.mode=ly;break}for(;u<16;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,B[0]=c&255,B[1]=c>>>8&255,e.check=_l(e.check,B,2,0),c=0,u=0,e.mode=y5;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){i.msg="incorrect header check",e.mode=Vr;break}if((c&15)!==v5){i.msg="unknown compression method",e.mode=Vr;break}if(c>>>=4,u-=4,M=(c&15)+8,e.wbits===0&&(e.wbits=M),M>15||M>e.wbits){i.msg="invalid window size",e.mode=Vr;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=c&512?k5:wc,c=0,u=0;break;case y5:for(;u<16;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(e.flags=c,(e.flags&255)!==v5){i.msg="unknown compression method",e.mode=Vr;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=Vr;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,e.check=_l(e.check,B,2,0)),c=0,u=0,e.mode=b5;case b5:for(;u<32;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,B[2]=c>>>16&255,B[3]=c>>>24&255,e.check=_l(e.check,B,4,0)),c=0,u=0,e.mode=w5;case w5:for(;u<16;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,e.check=_l(e.check,B,2,0)),c=0,u=0,e.mode=A5;case A5:if(e.flags&1024){for(;u<16;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,e.check=_l(e.check,B,2,0)),c=0,u=0}else e.head&&(e.head.extra=null);e.mode=x5;case x5:if(e.flags&1024&&(p=e.length,p>o&&(p=o),p&&(e.head&&(M=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(s,s+p),M)),e.flags&512&&e.wrap&4&&(e.check=_l(e.check,n,p,s)),o-=p,s+=p,e.length-=p),e.length))break t;e.length=0,e.mode=S5;case S5:if(e.flags&2048){if(o===0)break t;p=0;do M=n[s+p++],e.head&&M&&e.length<65536&&(e.head.name+=String.fromCharCode(M));while(M&&p<o);if(e.flags&512&&e.wrap&4&&(e.check=_l(e.check,n,p,s)),o-=p,s+=p,M)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=E5;case E5:if(e.flags&4096){if(o===0)break t;p=0;do M=n[s+p++],e.head&&M&&e.length<65536&&(e.head.comment+=String.fromCharCode(M));while(M&&p<o);if(e.flags&512&&e.wrap&4&&(e.check=_l(e.check,n,p,s)),o-=p,s+=p,M)break t}else e.head&&(e.head.comment=null);e.mode=C5;case C5:if(e.flags&512){for(;u<16;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.check&65535)){i.msg="header crc mismatch",e.mode=Vr;break}c=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=wc;break;case k5:for(;u<32;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}i.adler=e.check=j5(c),c=0,u=0,e.mode=wm;case wm:if(e.havedict===0)return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,e.hold=c,e.bits=u,YM;i.adler=e.check=1,e.mode=wc;case wc:if(t===XM||t===C0)break t;case ly:if(e.last){c>>>=u&7,u-=u&7,e.mode=hy;break}for(;u<3;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}switch(e.last=c&1,c>>>=1,u-=1,c&3){case 0:e.mode=_5;break;case 1:if(r6(e),e.mode=k0,t===C0){c>>>=2,u-=2;break t}break;case 2:e.mode=T5;break;case 3:i.msg="invalid block type",e.mode=Vr}c>>>=2,u-=2;break;case _5:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){i.msg="invalid stored block lengths",e.mode=Vr;break}if(e.length=c&65535,c=0,u=0,e.mode=cy,t===C0)break t;case cy:e.mode=P5;case P5:if(p=e.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break t;r.set(n.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,e.length-=p;break}e.mode=wc;break;case T5:for(;u<14;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(e.nlen=(c&31)+257,c>>>=5,u-=5,e.ndist=(c&31)+1,c>>>=5,u-=5,e.ncode=(c&15)+4,c>>>=4,u-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=Vr;break}e.have=0,e.mode=L5;case L5:for(;e.have<e.ncode;){for(;u<3;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}e.lens[z[e.have++]]=c&7,c>>>=3,u-=3}for(;e.have<19;)e.lens[z[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,X={bits:e.lenbits},j=Rp(GM,e.lens,0,19,e.lencode,0,e.work,X),e.lenbits=X.bits,j){i.msg="invalid code lengths set",e.mode=Vr;break}e.have=0,e.mode=N5;case N5:for(;e.have<e.nlen+e.ndist;){for(;A=e.lencode[c&(1<<e.lenbits)-1],w=A>>>24,C=A>>>16&255,E=A&65535,!(w<=u);){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(E<16)c>>>=w,u-=w,e.lens[e.have++]=E;else{if(E===16){for(D=w+2;u<D;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(c>>>=w,u-=w,e.have===0){i.msg="invalid bit length repeat",e.mode=Vr;break}M=e.lens[e.have-1],p=3+(c&3),c>>>=2,u-=2}else if(E===17){for(D=w+3;u<D;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,M=0,p=3+(c&7),c>>>=3,u-=3}else{for(D=w+7;u<D;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,M=0,p=11+(c&127),c>>>=7,u-=7}if(e.have+p>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=Vr;break}for(;p--;)e.lens[e.have++]=M}}if(e.mode===Vr)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=Vr;break}if(e.lenbits=9,X={bits:e.lenbits},j=Rp(r_,e.lens,0,e.nlen,e.lencode,0,e.work,X),e.lenbits=X.bits,j){i.msg="invalid literal/lengths set",e.mode=Vr;break}if(e.distbits=6,e.distcode=e.distdyn,X={bits:e.distbits},j=Rp(i_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,X),e.distbits=X.bits,j){i.msg="invalid distances set",e.mode=Vr;break}if(e.mode=k0,t===C0)break t;case k0:e.mode=_0;case _0:if(o>=6&&l>=258){i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,e.hold=c,e.bits=u,zM(i,g),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=e.hold,u=e.bits,e.mode===wc&&(e.back=-1);break}for(e.back=0;A=e.lencode[c&(1<<e.lenbits)-1],w=A>>>24,C=A>>>16&255,E=A&65535,!(w<=u);){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(C&&(C&240)===0){for(k=w,L=C,R=E;A=e.lencode[R+((c&(1<<k+L)-1)>>k)],w=A>>>24,C=A>>>16&255,E=A&65535,!(k+w<=u);){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}c>>>=k,u-=k,e.back+=k}if(c>>>=w,u-=w,e.back+=w,e.length=E,C===0){e.mode=M5;break}if(C&32){e.back=-1,e.mode=wc;break}if(C&64){i.msg="invalid literal/length code",e.mode=Vr;break}e.extra=C&15,e.mode=F5;case F5:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=R5;case R5:for(;A=e.distcode[c&(1<<e.distbits)-1],w=A>>>24,C=A>>>16&255,E=A&65535,!(w<=u);){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if((C&240)===0){for(k=w,L=C,R=E;A=e.distcode[R+((c&(1<<k+L)-1)>>k)],w=A>>>24,C=A>>>16&255,E=A&65535,!(k+w<=u);){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}c>>>=k,u-=k,e.back+=k}if(c>>>=w,u-=w,e.back+=w,C&64){i.msg="invalid distance code",e.mode=Vr;break}e.offset=E,e.extra=C&15,e.mode=I5;case I5:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=Vr;break}e.mode=D5;case D5:if(l===0)break t;if(p=g-l,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=Vr;break}p>e.wnext?(p-=e.wnext,v=e.wsize-p):v=e.wnext-p,p>e.length&&(p=e.length),y=e.window}else y=r,v=a-e.offset,p=e.length;p>l&&(p=l),l-=p,e.length-=p;do r[a++]=y[v++];while(--p);e.length===0&&(e.mode=_0);break;case M5:if(l===0)break t;r[a++]=e.length,l--,e.mode=_0;break;case hy:if(e.wrap){for(;u<32;){if(o===0)break t;o--,c|=n[s++]<<u,u+=8}if(g-=l,i.total_out+=g,e.total+=g,e.wrap&4&&g&&(i.adler=e.check=e.flags?_l(e.check,r,g,a-g):vb(e.check,r,g,a-g)),g=l,e.wrap&4&&(e.flags?c:j5(c))!==e.check){i.msg="incorrect data check",e.mode=Vr;break}c=0,u=0}e.mode=O5;case O5:if(e.wrap&&e.flags){for(;u<32;){if(o===0)break t;o--,c+=n[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=Vr;break}c=0,u=0}e.mode=B5;case B5:j=KM;break t;case Vr:j=s_;break t;case o_:return a_;case l_:default:return ko}return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,e.hold=c,e.bits=u,(e.wsize||g!==i.avail_out&&e.mode<Vr&&(e.mode<hy||t!==m5))&&f_(i,i.output,i.next_out,g-i.avail_out),f-=i.avail_in,g-=i.avail_out,i.total_in+=f,i.total_out+=g,e.total+=g,e.wrap&4&&g&&(i.adler=e.check=e.flags?_l(e.check,r,g,i.next_out-g):vb(e.check,r,g,i.next_out-g)),i.data_type=e.bits+(e.last?64:0)+(e.mode===wc?128:0)+(e.mode===k0||e.mode===cy?256:0),(f===0&&g===0||t===m5)&&j===Du&&(j=ZM),j},s6=i=>{if(Wu(i))return ko;let t=i.state;return t.window&&(t.window=null),i.state=null,Du},a6=(i,t)=>{if(Wu(i))return ko;const e=i.state;return(e.wrap&2)===0?ko:(e.head=t,t.done=!1,Du)},o6=(i,t)=>{const e=t.length;let n,r,s;return Wu(i)||(n=i.state,n.wrap!==0&&n.mode!==wm)?ko:n.mode===wm&&(r=1,r=vb(r,t,e,0),r!==n.check)?s_:(s=f_(i,t,e,e),s?(n.mode=o_,a_):(n.havedict=1,Du))};var l6=h_,c6=u_,h6=c_,u6=n6,d6=d_,f6=i6,p6=s6,g6=a6,m6=o6,v6="pako inflate (from Nodeca project)",_c={inflateReset:l6,inflateReset2:c6,inflateResetKeep:h6,inflateInit:u6,inflateInit2:d6,inflate:f6,inflateEnd:p6,inflateGetHeader:g6,inflateSetDictionary:m6,inflateInfo:v6};function y6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var b6=y6;const p_=Object.prototype.toString,{Z_NO_FLUSH:w6,Z_FINISH:A6,Z_OK:Gp,Z_STREAM_END:fy,Z_NEED_DICT:py,Z_STREAM_ERROR:x6,Z_DATA_ERROR:U5,Z_MEM_ERROR:S6}=t_;function fg(i){this.options=e_.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new BM,this.strm.avail_out=0;let e=_c.inflateInit2(this.strm,t.windowBits);if(e!==Gp)throw new Error(yb[e]);if(this.header=new b6,_c.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=bb.string2buf(t.dictionary):p_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=_c.inflateSetDictionary(this.strm,t.dictionary),e!==Gp)))throw new Error(yb[e])}fg.prototype.push=function(i,t){const e=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?A6:w6,p_.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),s=_c.inflate(e,a),s===py&&r&&(s=_c.inflateSetDictionary(e,r),s===Gp?s=_c.inflate(e,a):s===U5&&(s=py));e.avail_in>0&&s===fy&&e.state.wrap>0&&i[e.next_in]!==0;)_c.inflateReset(e),s=_c.inflate(e,a);switch(s){case x6:case U5:case py:case S6:return this.onEnd(s),this.ended=!0,!1}if(o=e.avail_out,e.next_out&&(e.avail_out===0||s===fy))if(this.options.to==="string"){let l=bb.utf8border(e.output,e.next_out),c=e.next_out-l,u=bb.buf2string(e.output,l);e.next_out=c,e.avail_out=n-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===Gp&&o===0)){if(s===fy)return s=_c.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};fg.prototype.onData=function(i){this.chunks.push(i)};fg.prototype.onEnd=function(i){i===Gp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e_.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function E6(i,t){const e=new fg(t);if(e.push(i),e.err)throw e.msg||yb[e.err];return e.result}var C6=fg,k6=E6,_6={Inflate:C6,inflate:k6};const{Inflate:P6,inflate:T6}=_6;var H5=P6,L6=T6;const g_=[];for(let i=0;i<256;i++){let t=i;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;g_[i]=t}const q5=4294967295;function N6(i,t,e){let n=i;for(let r=0;r<e;r++)n=g_[(n^t[r])&255]^n>>>8;return n}function F6(i,t){return(N6(q5,i,t)^q5)>>>0}function W5(i,t,e){const n=i.readUint32(),r=F6(new Uint8Array(i.buffer,i.byteOffset+i.offset-t-4,t),t);if(r!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${r}`)}function m_(i,t,e){for(let n=0;n<e;n++)t[n]=i[n]}function v_(i,t,e,n){let r=0;for(;r<n;r++)t[r]=i[r];for(;r<e;r++)t[r]=i[r]+t[r-n]&255}function y_(i,t,e,n){let r=0;if(e.length===0)for(;r<n;r++)t[r]=i[r];else for(;r<n;r++)t[r]=i[r]+e[r]&255}function b_(i,t,e,n,r){let s=0;if(e.length===0){for(;s<r;s++)t[s]=i[s];for(;s<n;s++)t[s]=i[s]+(t[s-r]>>1)&255}else{for(;s<r;s++)t[s]=i[s]+(e[s]>>1)&255;for(;s<n;s++)t[s]=i[s]+(t[s-r]+e[s]>>1)&255}}function w_(i,t,e,n,r){let s=0;if(e.length===0){for(;s<r;s++)t[s]=i[s];for(;s<n;s++)t[s]=i[s]+t[s-r]&255}else{for(;s<r;s++)t[s]=i[s]+e[s]&255;for(;s<n;s++)t[s]=i[s]+R6(t[s-r],e[s],e[s-r])&255}}function R6(i,t,e){const n=i+t-e,r=Math.abs(n-i),s=Math.abs(n-t),a=Math.abs(n-e);return r<=s&&r<=a?i:s<=a?t:e}function I6(i,t,e,n,r,s){switch(i){case 0:m_(t,e,r);break;case 1:v_(t,e,r,s);break;case 2:y_(t,e,n,r);break;case 3:b_(t,e,n,r,s);break;case 4:w_(t,e,n,r,s);break;default:throw new Error(`Unsupported filter: ${i}`)}}const D6=new Uint16Array([255]),M6=new Uint8Array(D6.buffer),O6=M6[0]===255;function B6(i){const{data:t,width:e,height:n,channels:r,depth:s}=i,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,l=new Uint8Array(n*e*o);let c=0;for(let u=0;u<7;u++){const f=a[u],g=Math.ceil((e-f.x)/f.xStep),p=Math.ceil((n-f.y)/f.yStep);if(g<=0||p<=0)continue;const v=g*o,y=new Uint8Array(v);for(let A=0;A<p;A++){const w=t[c++],C=t.subarray(c,c+v);c+=v;const E=new Uint8Array(v);I6(w,C,E,y,v,o),y.set(E);for(let k=0;k<g;k++){const L=f.x+k*f.xStep,R=f.y+A*f.yStep;if(!(L>=e||R>=n))for(let M=0;M<o;M++)l[(R*e+L)*o+M]=E[k*o+M]}}}if(s===16){const u=new Uint16Array(l.buffer);if(O6)for(let f=0;f<u.length;f++)u[f]=j6(u[f]);return u}else return l}function j6(i){return(i&255)<<8|i>>8&255}const z6=new Uint16Array([255]),U6=new Uint8Array(z6.buffer),H6=U6[0]===255,q6=new Uint8Array(0);function V5(i){const{data:t,width:e,height:n,channels:r,depth:s}=i,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*e),l=new Uint8Array(n*o);let c=q6,u=0,f,g;for(let p=0;p<n;p++){switch(f=t.subarray(u+1,u+1+o),g=l.subarray(p*o,(p+1)*o),t[u]){case 0:m_(f,g,o);break;case 1:v_(f,g,o,a);break;case 2:y_(f,g,c,o);break;case 3:b_(f,g,c,o,a);break;case 4:w_(f,g,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=g,u+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(H6)for(let v=0;v<p.length;v++)p[v]=W6(p[v]);return p}else return l}function W6(i){return(i&255)<<8|i>>8&255}const X0=Uint8Array.of(137,80,78,71,13,10,26,10);function G5(i){if(!V6(i.readBytes(X0.length)))throw new Error("wrong PNG signature")}function V6(i){if(i.length<X0.length)return!1;for(let t=0;t<X0.length;t++)if(i[t]!==X0[t])return!1;return!0}const G6="tEXt",X6=0,A_=new TextDecoder("latin1");function K6(i){if(Z6(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const Y6=/^[\u0000-\u00FF]*$/;function Z6(i){if(!Y6.test(i))throw new Error("invalid latin1 text")}function J6(i,t,e){const n=x_(t);i[n]=Q6(t,e-n.length-1)}function x_(i){for(i.mark();i.readByte()!==X6;);const t=i.offset;i.reset();const e=A_.decode(i.readBytes(t-i.offset-1));return i.skip(1),K6(e),e}function Q6(i,t){return A_.decode(i.readBytes(t))}const ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},gy={UNKNOWN:-1,DEFLATE:0},X5={UNKNOWN:-1,ADAPTIVE:0},my={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},P0={NONE:0,BACKGROUND:1,PREVIOUS:2},vy={SOURCE:0,OVER:1};class $6 extends L2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new H5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=gy.UNKNOWN,this._filterMethod=X5.UNKNOWN,this._interlaceMethod=my.UNKNOWN,this._colorType=ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(G5(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(G5(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case G6:J6(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?W5(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const n=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?W5(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=t8(this.readUint8());const e=this.readUint8();this._colorType=e;let n;switch(e){case ja.GREYSCALE:n=1;break;case ja.TRUECOLOUR:n=3;break;case ja.INDEXED_COLOUR:n=1;break;case ja.GREYSCALE_ALPHA:n=2;break;case ja.TRUECOLOUR_ALPHA:n=4;break;case ja.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==gy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<e;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,n=this.offset+this.byteOffset;if(n+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ja.GREYSCALE:case ja.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case ja.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const n=this.readByte();this._palette[e].push(n)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case ja.UNKNOWN:case ja.GREYSCALE_ALPHA:case ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=x_(this),n=this.readUint8();if(n!==gy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:L6(r)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:e,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=V5({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)e.data=n.data;else{const r=this._apng.frames.at(t-1);this.disposeFrame(n,r,e),this.addFrameDataToCanvas(e,n)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,n){switch(t.disposeOp){case P0.NONE:break;case P0.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let s=0;s<this._png.width;s++){const a=(r*t.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case P0.PREVIOUS:n.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const n=1<<this._png.depth,r=(s,a)=>{const o=((s+e.yOffset)*this._png.width+e.xOffset+a)*this._png.channels,l=(s*e.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(e.blendOp){case vy.SOURCE:for(let s=0;s<e.height;s++)for(let a=0;a<e.width;a++){const{index:o,frameIndex:l}=r(s,a);for(let c=0;c<this._png.channels;c++)t.data[o+c]=e.data[l+c]}break;case vy.OVER:for(let s=0;s<e.height;s++)for(let a=0;a<e.width;a++){const{index:o,frameIndex:l}=r(s,a);for(let c=0;c<this._png.channels;c++){const u=e.data[l+this._png.channels-1]/n,f=c%(this._png.channels-1)===0?1:e.data[l+c],g=Math.floor(u*f+(1-u)*t.data[o+c]);t.data[o+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==X5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===my.NO_INTERLACE)this._png.data=V5({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===my.ADAM7)this._png.data=B6({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:P0.NONE,blendOp:vy.SOURCE,data:t}),this._inflator=new H5,this._writingDataChunks=!1}}function t8(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var K5;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(K5||(K5={}));function e8(i,t){return new $6(i,t).decode()}var dn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function yy(){dn.console&&typeof dn.console.log=="function"&&dn.console.log.apply(dn.console,arguments)}var kr={log:yy,warn:function(i){dn.console&&(typeof dn.console.warn=="function"?dn.console.warn.apply(dn.console,arguments):yy.call(null,arguments))},error:function(i){dn.console&&(typeof dn.console.error=="function"?dn.console.error.apply(dn.console,arguments):yy(i))}};function by(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){vu(n.response,t,e)},n.onerror=function(){kr.error("could not download file")},n.send()}function Y5(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function T0(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var vu=dn.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=dn.URL||dn.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?Y5(r.href)?by(i,t,e):T0(r,r.target="_blank"):T0(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){T0(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(Y5(i))by(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){T0(n)})}else navigator.msSaveOrOpenBlob((function(r,s){return s===void 0?s={autoBom:!1}:mr(s)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return by(i,t,e);var r=i.type==="application/octet-stream",s=/constructor/i.test(dn.HTMLElement)||dn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(i)}else{var l=dn.URL||dn.webkitURL,c=l.createObjectURL(i);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S_(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,s=e[n].process,a=r.exec(i);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var K0=dn.atob.bind(dn),Z5=dn.btoa.bind(dn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wy(i,t){var e=i[0],n=i[1],r=i[2],s=i[3];e=Ns(e,n,r,s,t[0],7,-680876936),s=Ns(s,e,n,r,t[1],12,-389564586),r=Ns(r,s,e,n,t[2],17,606105819),n=Ns(n,r,s,e,t[3],22,-1044525330),e=Ns(e,n,r,s,t[4],7,-176418897),s=Ns(s,e,n,r,t[5],12,1200080426),r=Ns(r,s,e,n,t[6],17,-1473231341),n=Ns(n,r,s,e,t[7],22,-45705983),e=Ns(e,n,r,s,t[8],7,1770035416),s=Ns(s,e,n,r,t[9],12,-1958414417),r=Ns(r,s,e,n,t[10],17,-42063),n=Ns(n,r,s,e,t[11],22,-1990404162),e=Ns(e,n,r,s,t[12],7,1804603682),s=Ns(s,e,n,r,t[13],12,-40341101),r=Ns(r,s,e,n,t[14],17,-1502002290),e=Fs(e,n=Ns(n,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Fs(s,e,n,r,t[6],9,-1069501632),r=Fs(r,s,e,n,t[11],14,643717713),n=Fs(n,r,s,e,t[0],20,-373897302),e=Fs(e,n,r,s,t[5],5,-701558691),s=Fs(s,e,n,r,t[10],9,38016083),r=Fs(r,s,e,n,t[15],14,-660478335),n=Fs(n,r,s,e,t[4],20,-405537848),e=Fs(e,n,r,s,t[9],5,568446438),s=Fs(s,e,n,r,t[14],9,-1019803690),r=Fs(r,s,e,n,t[3],14,-187363961),n=Fs(n,r,s,e,t[8],20,1163531501),e=Fs(e,n,r,s,t[13],5,-1444681467),s=Fs(s,e,n,r,t[2],9,-51403784),r=Fs(r,s,e,n,t[7],14,1735328473),e=Rs(e,n=Fs(n,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Rs(s,e,n,r,t[8],11,-2022574463),r=Rs(r,s,e,n,t[11],16,1839030562),n=Rs(n,r,s,e,t[14],23,-35309556),e=Rs(e,n,r,s,t[1],4,-1530992060),s=Rs(s,e,n,r,t[4],11,1272893353),r=Rs(r,s,e,n,t[7],16,-155497632),n=Rs(n,r,s,e,t[10],23,-1094730640),e=Rs(e,n,r,s,t[13],4,681279174),s=Rs(s,e,n,r,t[0],11,-358537222),r=Rs(r,s,e,n,t[3],16,-722521979),n=Rs(n,r,s,e,t[6],23,76029189),e=Rs(e,n,r,s,t[9],4,-640364487),s=Rs(s,e,n,r,t[12],11,-421815835),r=Rs(r,s,e,n,t[15],16,530742520),e=Is(e,n=Rs(n,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Is(s,e,n,r,t[7],10,1126891415),r=Is(r,s,e,n,t[14],15,-1416354905),n=Is(n,r,s,e,t[5],21,-57434055),e=Is(e,n,r,s,t[12],6,1700485571),s=Is(s,e,n,r,t[3],10,-1894986606),r=Is(r,s,e,n,t[10],15,-1051523),n=Is(n,r,s,e,t[1],21,-2054922799),e=Is(e,n,r,s,t[8],6,1873313359),s=Is(s,e,n,r,t[15],10,-30611744),r=Is(r,s,e,n,t[6],15,-1560198380),n=Is(n,r,s,e,t[13],21,1309151649),e=Is(e,n,r,s,t[4],6,-145523070),s=Is(s,e,n,r,t[11],10,-1120210379),r=Is(r,s,e,n,t[2],15,718787259),n=Is(n,r,s,e,t[9],21,-343485551),i[0]=_h(e,i[0]),i[1]=_h(n,i[1]),i[2]=_h(r,i[2]),i[3]=_h(s,i[3])}function iv(i,t,e,n,r,s){return t=_h(_h(t,i),_h(n,s)),_h(t<<r|t>>>32-r,e)}function Ns(i,t,e,n,r,s,a){return iv(t&e|~t&n,i,t,r,s,a)}function Fs(i,t,e,n,r,s,a){return iv(t&n|e&~n,i,t,r,s,a)}function Rs(i,t,e,n,r,s,a){return iv(t^e^n,i,t,r,s,a)}function Is(i,t,e,n,r,s,a){return iv(e^(t|~n),i,t,r,s,a)}function E_(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)wy(n,n8(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(wy(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,wy(n,r),n}function n8(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}var J5="0123456789abcdef".split("");function r8(i){for(var t="",e=0;e<4;e++)t+=J5[i>>8*e+4&15]+J5[i>>8*e&15];return t}function i8(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function wb(i){return E_(i).map(i8).join("")}var s8=(function(i){for(var t=0;t<i.length;t++)i[t]=r8(i[t]);return i.join("")})(E_("hello"))!="5d41402abc4b2a76b9719d911017c592";function _h(i,t){if(s8){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ab(i,t){var e,n,r,s;if(i!==e){for(var a=(r=i,s=1+(256/i.length|0),new Array(s+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}e=i,n=o}else o=n;var f=t.length,g=0,p=0,v="";for(l=0;l<f;l++)p=(p+(u=o[g=(g+1)%256]))%256,o[g]=o[p],o[p]=u,a=o[(o[g]+o[p])%256],v+=String.fromCharCode(t.charCodeAt(l)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q5={print:4,modify:8,copy:16,"annot-forms":32};function zd(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(o){if(Q5.perm!==void 0)throw new Error("Invalid permission: "+o);r+=Q5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=wb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ab(this.encryptionKey,this.padding)}function Ud(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):i[n]}return t}function $5(i){if(mr(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var a=t[e][s];try{a[0].apply(i,n)}catch(o){dn.console&&kr.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Am(i){if(!(this instanceof Am))return new Am(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function C_(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function bu(i,t,e,n,r){if(!(this instanceof bu))return new bu(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,C_.call(this,n,r)}function Xd(i,t,e,n,r){if(!(this instanceof Xd))return new Xd(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,C_.call(this,n,r)}function Ge(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;mr(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(u=i.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(l=i.floatPrecision),c=i.defaultPathOperation||"S"),a=i.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",e=(""+(e||"P")).toLowerCase();var f=i.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=$5;var v="1.3",y=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(_){v=_};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return A};var w=p.__private__.getPageFormat=function(_){return A[_]};r=r||"a4";var C="compat",E="advanced",k=C;function L(){this.saveGraphicsState(),vt(new ve(Ue,0,0,-Ue,0,la()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),c="n",k=E}function R(){this.restoreGraphicsState(),c="S",k=C}var M=p.__private__.combineFontStyleAndFontWeight=function(_,G){if(_=="bold"&&G=="normal"||_=="bold"&&G==400||_=="normal"&&G=="italic"||_=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(_=G==400||G==="normal"?_==="italic"?"italic":"normal":G!=700&&G!=="bold"||_!=="normal"?(G==700?"bold":G)+""+_:"bold"),_};p.advancedAPI=function(_){var G=k===C;return G&&L.call(this),typeof _!="function"||(_(this),G&&R.call(this)),this},p.compatAPI=function(_){var G=k===E;return G&&R.call(this),typeof _!="function"||(_(this),G&&L.call(this)),this},p.isAdvancedAPI=function(){return k===E};var j,B=function(_){if(k!==E)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=p.roundToPrecision=p.__private__.roundToPrecision=function(_,G){var gt=t||G;if(isNaN(_)||isNaN(gt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(gt).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return X(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return X(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return X(_,16)};var D=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return X(_,2)},z=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return X(_,3)},U=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return k===C?_*Ue:k===E?_:void 0},Q=function(_){return U((function(G){return k===C?la()-G:k===E?G:void 0})(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var pt,Z="00000000000000000000000000000000",$=p.__private__.getFileId=function(){return Z},st=p.__private__.setFileId=function(_){return Z=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Kr=new zd(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};p.setFileId=function(_){return st(_),this},p.getFileId=function(){return $()};var rt=p.__private__.convertDateToPDFDate=function(_){var G=_.getTimezoneOffset(),gt=G<0?"+":"-",xt=Math.floor(Math.abs(G/60)),Pt=Math.abs(G%60),Zt=[gt,nt(xt),"'",nt(Pt),"'"].join("");return["D:",_.getFullYear(),nt(_.getMonth()+1),nt(_.getDate()),nt(_.getHours()),nt(_.getMinutes()),nt(_.getSeconds()),Zt].join("")},ot=p.__private__.convertPDFDateToDate=function(_){var G=parseInt(_.substr(2,4),10),gt=parseInt(_.substr(6,2),10)-1,xt=parseInt(_.substr(8,2),10),Pt=parseInt(_.substr(10,2),10),Zt=parseInt(_.substr(12,2),10),ie=parseInt(_.substr(14,2),10);return new Date(G,gt,xt,Pt,Zt,ie,0)},q=p.__private__.setCreationDate=function(_){var G;if(_===void 0&&(_=new Date),_ instanceof Date)G=rt(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=_}return pt=G},I=p.__private__.getCreationDate=function(_){var G=pt;return _==="jsDate"&&(G=ot(pt)),G};p.setCreationDate=function(_){return q(_),this},p.getCreationDate=function(_){return I(_)};var W,nt=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},lt=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},dt=0,mt=[],yt=[],_t=0,Ot=[],Xt=[],ee=!1,le=yt;p.__private__.setCustomOutputDestination=function(_){ee=!0,le=_};var zt=function(_){ee||(le=_)};p.__private__.resetCustomOutputDestination=function(){ee=!1,le=yt};var vt=p.__private__.out=function(_){return _=_.toString(),_t+=_.length+1,le.push(_),le},de=p.__private__.write=function(_){return vt(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},re=p.__private__.getArrayBuffer=function(_){for(var G=_.length,gt=new ArrayBuffer(G),xt=new Uint8Array(gt);G--;)xt[G]=_.charCodeAt(G);return gt},ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ne};var Jt=i.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return Jt=k===E?_/Ue:_,this};var ye,ce=p.__private__.getFontSize=p.getFontSize=function(){return k===C?Jt:Jt*Ue},Re=i.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return Re=_,this},p.__private__.getR2L=p.getR2L=function(){return Re};var Ce,yn=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ye=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ye=_}else ye=parseInt(_,10)};p.__private__.getZoomMode=function(){return ye};var qe,Ke=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ce=_};p.__private__.getPageMode=function(){return Ce};var Ln=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');qe=_};p.__private__.getLayoutMode=function(){return qe},p.__private__.setDisplayMode=p.setDisplayMode=function(_,G,gt){return yn(_),Ln(G),Ke(gt),this};var Ie={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(Ie).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ie[_]},p.__private__.getDocumentProperties=function(){return Ie},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var G in Ie)Ie.hasOwnProperty(G)&&_[G]&&(Ie[G]=_[G]);return this},p.__private__.setDocumentProperty=function(_,G){if(Object.keys(Ie).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ie[_]=G};var Ee,Ue,tt,Kt,Qt,Yt={},At={},Bt=[],H={},qt={},he={},N={},Nt=null,Lt=0,K=[],wt=new $5(p),Mt=i.hotfixes||[],xe={},be={},Ae=[],ve=function _(G,gt,xt,Pt,Zt,ie){if(!(this instanceof _))return new _(G,gt,xt,Pt,Zt,ie);isNaN(G)&&(G=1),isNaN(gt)&&(gt=0),isNaN(xt)&&(xt=0),isNaN(Pt)&&(Pt=1),isNaN(Zt)&&(Zt=0),isNaN(ie)&&(ie=0),this._matrix=[G,gt,xt,Pt,Zt,ie]};Object.defineProperty(ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ve.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(_)},ve.prototype.multiply=function(_){var G=_.sx*this.sx+_.shy*this.shx,gt=_.sx*this.shy+_.shy*this.sy,xt=_.shx*this.sx+_.sy*this.shx,Pt=_.shx*this.shy+_.sy*this.sy,Zt=_.tx*this.sx+_.ty*this.shx+this.tx,ie=_.tx*this.shy+_.ty*this.sy+this.ty;return new ve(G,gt,xt,Pt,Zt,ie)},ve.prototype.decompose=function(){var _=this.sx,G=this.shy,gt=this.shx,xt=this.sy,Pt=this.tx,Zt=this.ty,ie=Math.sqrt(_*_+G*G),Ne=(_/=ie)*gt+(G/=ie)*xt;gt-=_*Ne,xt-=G*Ne;var je=Math.sqrt(gt*gt+xt*xt);return Ne/=je,_*(xt/=je)<G*(gt/=je)&&(_=-_,G=-G,Ne=-Ne,ie=-ie),{scale:new ve(ie,0,0,je,0,0),translate:new ve(1,0,0,1,Pt,Zt),rotate:new ve(_,G,-G,_,0,0),skew:new ve(1,0,Ne,1,0,0)}},ve.prototype.toString=function(_){return this.join(" ")},ve.prototype.inversed=function(){var _=this.sx,G=this.shy,gt=this.shx,xt=this.sy,Pt=this.tx,Zt=this.ty,ie=1/(_*xt-G*gt),Ne=xt*ie,je=-G*ie,an=-gt*ie,on=_*ie;return new ve(Ne,je,an,on,-Ne*Pt-an*Zt,-je*Pt-on*Zt)},ve.prototype.applyToPoint=function(_){var G=_.x*this.sx+_.y*this.shx+this.tx,gt=_.x*this.shy+_.y*this.sy+this.ty;return new $a(G,gt)},ve.prototype.applyToRectangle=function(_){var G=this.applyToPoint(_),gt=this.applyToPoint(new $a(_.x+_.w,_.y+_.h));return new Kl(G.x,G.y,gt.x-G.x,gt.y-G.y)},ve.prototype.clone=function(){var _=this.sx,G=this.shy,gt=this.shx,xt=this.sy,Pt=this.tx,Zt=this.ty;return new ve(_,G,gt,xt,Pt,Zt)},p.Matrix=ve;var Rr=p.matrixMult=function(_,G){return G.multiply(_)},Bn=new ve(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Bn;var Ye=function(_,G){if(!qt[_]){var gt=(G instanceof bu?"Sh":"P")+(Object.keys(H).length+1).toString(10);G.id=gt,qt[_]=gt,H[gt]=G,wt.publish("addPattern",G)}};p.ShadingPattern=bu,p.TilingPattern=Xd,p.addShadingPattern=function(_,G){return B("addShadingPattern()"),Ye(_,G),this},p.beginTilingPattern=function(_){B("beginTilingPattern()"),sa(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,G){B("endTilingPattern()"),G.stream=Xt[W].join(`
`),Ye(_,G),wt.publish("endTilingPattern",G),Ae.pop().restore()};var Xn,bn=p.__private__.newObject=function(){var _=Rn();return Sr(_,!0),_},Rn=p.__private__.newObjectDeferred=function(){return dt++,mt[dt]=function(){return _t},dt},Sr=function(_,G){return G=typeof G=="boolean"&&G,mt[_]=_t,G&&vt(_+" 0 obj"),_},bs=p.__private__.newAdditionalObject=function(){var _={objId:Rn(),content:""};return Ot.push(_),_},nr=Rn(),Pr=Rn(),or=p.__private__.decodeColorString=function(_){var G=_.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var gt=parseFloat(G[0]);G=[gt,gt,gt,"r"]}for(var xt="#",Pt=0;Pt<3;Pt++)xt+=("0"+Math.floor(255*parseFloat(G[Pt])).toString(16)).slice(-2);return xt},ur=p.__private__.encodeColorString=function(_){var G;typeof _=="string"&&(_={ch1:_});var gt=_.ch1,xt=_.ch2,Pt=_.ch3,Zt=_.ch4,ie=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof gt=="string"&&gt.charAt(0)!=="#"){var Ne=new S_(gt);if(Ne.ok)gt=Ne.toHex();else if(!/^\d*\.?\d*$/.test(gt))throw new Error('Invalid color "'+gt+'" passed to jsPDF.encodeColorString.')}if(typeof gt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(gt)&&(gt="#"+gt[1]+gt[1]+gt[2]+gt[2]+gt[3]+gt[3]),typeof gt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(gt)){var je=parseInt(gt.substr(1),16);gt=je>>16&255,xt=je>>8&255,Pt=255&je}if(xt===void 0||Zt===void 0&&gt===xt&&xt===Pt)G=typeof gt=="string"?gt+" "+ie[0]:_.precision===2?D(gt/255)+" "+ie[0]:z(gt/255)+" "+ie[0];else if(Zt===void 0||mr(Zt)==="object"){if(Zt&&!isNaN(Zt.a)&&Zt.a===0)return["1.","1.","1.",ie[1]].join(" ");G=typeof gt=="string"?[gt,xt,Pt,ie[1]].join(" "):_.precision===2?[D(gt/255),D(xt/255),D(Pt/255),ie[1]].join(" "):[z(gt/255),z(xt/255),z(Pt/255),ie[1]].join(" ")}else G=typeof gt=="string"?[gt,xt,Pt,Zt,ie[2]].join(" "):_.precision===2?[D(gt),D(xt),D(Pt),D(Zt),ie[2]].join(" "):[z(gt),z(xt),z(Pt),z(Zt),ie[2]].join(" ");return G},Ir=p.__private__.getFilters=function(){return a},Xi=p.__private__.putStream=function(_){var G=(_=_||{}).data||"",gt=_.filters||Ir(),xt=_.alreadyAppliedFilters||[],Pt=_.addLength1||!1,Zt=G.length,ie=_.objectId,Ne=function(fi){return fi};if(u!==null&&ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ne=Kr.encryptor(ie,0));var je={};gt===!0&&(gt=["FlateEncode"]);var an=_.additionalKeyValues||[],on=(je=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(G,gt):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(xt)?xt.join(" "):xt.toString());if(je.data.length!==0&&(an.push({key:"Length",value:je.data.length}),Pt===!0&&an.push({key:"Length1",value:Zt})),on.length!=0)if(on.split("/").length-1==1)an.push({key:"Filter",value:on});else{an.push({key:"Filter",value:"["+on+"]"});for(var Yn=0;Yn<an.length;Yn+=1)if(an[Yn].key==="DecodeParms"){for(var Dr=[],ai=0;ai<je.reverseChain.split("/").length-1;ai+=1)Dr.push("null");Dr.push(an[Yn].value),an[Yn].value="["+Dr.join(" ")+"]"}}vt("<<");for(var vr=0;vr<an.length;vr++)vt("/"+an[vr].key+" "+an[vr].value);vt(">>"),je.data.length!==0&&(vt("stream"),vt(Ne(je.data)),vt("endstream"))},Bl=p.__private__.putPage=function(_){var G=_.number,gt=_.data,xt=_.objId,Pt=_.contentsObjId;Sr(xt,!0),vt("<</Type /Page"),vt("/Parent "+_.rootDictionaryObjId+" 0 R"),vt("/Resources "+_.resourceDictionaryObjId+" 0 R"),vt("/MediaBox ["+parseFloat(j(_.mediaBox.bottomLeftX))+" "+parseFloat(j(_.mediaBox.bottomLeftY))+" "+j(_.mediaBox.topRightX)+" "+j(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&vt("/CropBox ["+j(_.cropBox.bottomLeftX)+" "+j(_.cropBox.bottomLeftY)+" "+j(_.cropBox.topRightX)+" "+j(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&vt("/BleedBox ["+j(_.bleedBox.bottomLeftX)+" "+j(_.bleedBox.bottomLeftY)+" "+j(_.bleedBox.topRightX)+" "+j(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&vt("/TrimBox ["+j(_.trimBox.bottomLeftX)+" "+j(_.trimBox.bottomLeftY)+" "+j(_.trimBox.topRightX)+" "+j(_.trimBox.topRightY)+"]"),_.artBox!==null&&vt("/ArtBox ["+j(_.artBox.bottomLeftX)+" "+j(_.artBox.bottomLeftY)+" "+j(_.artBox.topRightX)+" "+j(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&vt("/UserUnit "+_.userUnit),wt.publish("putPage",{objId:xt,pageContext:K[G],pageNumber:G,page:gt}),vt("/Contents "+Pt+" 0 R"),vt(">>"),vt("endobj");var Zt=gt.join(`
`);return k===E&&(Zt+=`
Q`),Sr(Pt,!0),Xi({data:Zt,filters:Ir(),objectId:Pt}),vt("endobj"),xt},Ca=p.__private__.putPages=function(){var _,G,gt=[];for(_=1;_<=Lt;_++)K[_].objId=Rn(),K[_].contentsObjId=Rn();for(_=1;_<=Lt;_++)gt.push(Bl({number:_,data:Xt[_],objId:K[_].objId,contentsObjId:K[_].contentsObjId,mediaBox:K[_].mediaBox,cropBox:K[_].cropBox,bleedBox:K[_].bleedBox,trimBox:K[_].trimBox,artBox:K[_].artBox,userUnit:K[_].userUnit,rootDictionaryObjId:nr,resourceDictionaryObjId:Pr}));Sr(nr,!0),vt("<</Type /Pages");var xt="/Kids [";for(G=0;G<Lt;G++)xt+=gt[G]+" 0 R ";vt(xt+"]"),vt("/Count "+Lt),vt(">>"),vt("endobj"),wt.publish("postPutPages")},il=function(_){wt.publish("putFont",{font:_,out:vt,newObject:bn,putStream:Xi}),_.isAlreadyPutted!==!0&&(_.objectNumber=bn(),vt("<<"),vt("/Type /Font"),vt("/BaseFont /"+Ud(_.postScriptName)),vt("/Subtype /Type1"),typeof _.encoding=="string"&&vt("/Encoding /"+_.encoding),vt("/FirstChar 32"),vt("/LastChar 255"),vt(">>"),vt("endobj"))},jl=function(_){_.objectNumber=bn();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[j(_.x),j(_.y),j(_.x+_.width),j(_.y+_.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var gt=_.pages[1].join(`
`);Xi({data:gt,additionalKeyValues:G,objectId:_.objectNumber}),vt("endobj")},zl=function(_,G){G||(G=21);var gt=bn(),xt=(function(ie,Ne){var je,an=[],on=1/(Ne-1);for(je=0;je<1;je+=on)an.push(je);if(an.push(1),ie[0].offset!=0){var Yn={offset:0,color:ie[0].color};ie.unshift(Yn)}if(ie[ie.length-1].offset!=1){var Dr={offset:1,color:ie[ie.length-1].color};ie.push(Dr)}for(var ai="",vr=0,fi=0;fi<an.length;fi++){for(je=an[fi];je>ie[vr+1].offset;)vr++;var Yr=ie[vr].offset,Di=(je-Yr)/(ie[vr+1].offset-Yr),ca=ie[vr].color,xs=ie[vr+1].color;ai+=lt(Math.round((1-Di)*ca[0]+Di*xs[0]).toString(16))+lt(Math.round((1-Di)*ca[1]+Di*xs[1]).toString(16))+lt(Math.round((1-Di)*ca[2]+Di*xs[2]).toString(16))}return ai.trim()})(_.colors,G),Pt=[];Pt.push({key:"FunctionType",value:"0"}),Pt.push({key:"Domain",value:"[0.0 1.0]"}),Pt.push({key:"Size",value:"["+G+"]"}),Pt.push({key:"BitsPerSample",value:"8"}),Pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xi({data:xt,additionalKeyValues:Pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:gt}),vt("endobj"),_.objectNumber=bn(),vt("<< /ShadingType "+_.type),vt("/ColorSpace /DeviceRGB");var Zt="/Coords ["+j(parseFloat(_.coords[0]))+" "+j(parseFloat(_.coords[1]))+" ";_.type===2?Zt+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3])):Zt+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3]))+" "+j(parseFloat(_.coords[4]))+" "+j(parseFloat(_.coords[5])),vt(Zt+="]"),_.matrix&&vt("/Matrix ["+_.matrix.toString()+"]"),vt("/Function "+gt+" 0 R"),vt("/Extend [true true]"),vt(">>"),vt("endobj")},Mc=function(_,G){var gt=Rn(),xt=bn();G.push({resourcesOid:gt,objectOid:xt}),_.objectNumber=xt;var Pt=[];Pt.push({key:"Type",value:"/Pattern"}),Pt.push({key:"PatternType",value:"1"}),Pt.push({key:"PaintType",value:"1"}),Pt.push({key:"TilingType",value:"1"}),Pt.push({key:"BBox",value:"["+_.boundingBox.map(j).join(" ")+"]"}),Pt.push({key:"XStep",value:j(_.xStep)}),Pt.push({key:"YStep",value:j(_.yStep)}),Pt.push({key:"Resources",value:gt+" 0 R"}),_.matrix&&Pt.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Xi({data:_.stream,additionalKeyValues:Pt,objectId:_.objectNumber}),vt("endobj")},yf=function(_){for(var G in _.objectNumber=bn(),vt("<<"),_)switch(G){case"opacity":vt("/ca "+D(_[G]));break;case"stroke-opacity":vt("/CA "+D(_[G]))}vt(">>"),vt("endobj")},Er=function(_){Sr(_.resourcesOid,!0),vt("<<"),vt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var G in vt("/Font <<"),Yt)Yt.hasOwnProperty(G)&&(f===!1||f===!0&&g.hasOwnProperty(G))&&vt("/"+G+" "+Yt[G].objectNumber+" 0 R");vt(">>")})(),(function(){if(Object.keys(H).length>0){for(var G in vt("/Shading <<"),H)H.hasOwnProperty(G)&&H[G]instanceof bu&&H[G].objectNumber>=0&&vt("/"+G+" "+H[G].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),vt(">>")}})(),(function(G){if(Object.keys(H).length>0){for(var gt in vt("/Pattern <<"),H)H.hasOwnProperty(gt)&&H[gt]instanceof p.TilingPattern&&H[gt].objectNumber>=0&&H[gt].objectNumber<G&&vt("/"+gt+" "+H[gt].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),vt(">>")}})(_.objectOid),(function(){if(Object.keys(he).length>0){var G;for(G in vt("/ExtGState <<"),he)he.hasOwnProperty(G)&&he[G].objectNumber>=0&&vt("/"+G+" "+he[G].objectNumber+" 0 R");wt.publish("putGStateDict"),vt(">>")}})(),(function(){for(var G in vt("/XObject <<"),xe)xe.hasOwnProperty(G)&&xe[G].objectNumber>=0&&vt("/"+G+" "+xe[G].objectNumber+" 0 R");wt.publish("putXobjectDict"),vt(">>")})(),vt(">>"),vt("endobj")},Gu=function(_){At[_.fontName]=At[_.fontName]||{},At[_.fontName][_.fontStyle]=_.id},Oc=function(_,G,gt,xt,Pt){var Zt={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:_,fontName:G,fontStyle:gt,encoding:xt,isStandardFont:Pt||!1,metadata:{}};return wt.publish("addFont",{font:Zt,instance:this}),Yt[Zt.id]=Zt,Gu(Zt),Zt.id},Bs=p.__private__.pdfEscape=p.pdfEscape=function(_,G){return(function(gt,xt){var Pt,Zt,ie,Ne,je,an,on,Yn,Dr;if(ie=(xt=xt||{}).sourceEncoding||"Unicode",je=xt.outputEncoding,(xt.autoencode||je)&&Yt[Ee].metadata&&Yt[Ee].metadata[ie]&&Yt[Ee].metadata[ie].encoding&&(Ne=Yt[Ee].metadata[ie].encoding,!je&&Yt[Ee].encoding&&(je=Yt[Ee].encoding),!je&&Ne.codePages&&(je=Ne.codePages[0]),typeof je=="string"&&(je=Ne[je]),je)){for(on=!1,an=[],Pt=0,Zt=gt.length;Pt<Zt;Pt++)(Yn=je[gt.charCodeAt(Pt)])?an.push(String.fromCharCode(Yn)):an.push(gt[Pt]),an[Pt].charCodeAt(0)>>8&&(on=!0);gt=an.join("")}for(Pt=gt.length;on===void 0&&Pt!==0;)gt.charCodeAt(Pt-1)>>8&&(on=!0),Pt--;if(!on)return gt;for(an=xt.noBOM?[]:[254,255],Pt=0,Zt=gt.length;Pt<Zt;Pt++){if((Dr=(Yn=gt.charCodeAt(Pt))>>8)>>8)throw new Error("Character at position "+Pt+" of string '"+gt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");an.push(Dr),an.push(Yn-(Dr<<8))}return String.fromCharCode.apply(void 0,an)})(_,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sl=p.__private__.beginPage=function(_){Xt[++Lt]=[],K[Lt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ul(Lt),zt(Xt[W])},Xu=function(_,G){var gt,xt,Pt;switch(e=G||e,typeof _=="string"&&(gt=w(_.toLowerCase()),Array.isArray(gt)&&(xt=gt[0],Pt=gt[1])),Array.isArray(_)&&(xt=_[0]*Ue,Pt=_[1]*Ue),isNaN(xt)&&(xt=r[0],Pt=r[1]),(xt>14400||Pt>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xt=Math.min(14400,xt),Pt=Math.min(14400,Pt)),r=[xt,Pt],e.substr(0,1)){case"l":Pt>xt&&(r=[Pt,xt]);break;case"p":xt>Pt&&(r=[Pt,xt])}sl(r),Gl(ia),vt(Xl),qh!==0&&vt(qh+" J"),Wh!==0&&vt(Wh+" j"),wt.publish("addPage",{pageNumber:Lt})},Bc=function(_){_>0&&_<=Lt&&(Xt.splice(_,1),K.splice(_,1),Lt--,W>Lt&&(W=Lt),this.setPage(W))},Ul=function(_){_>0&&_<=Lt&&(W=_)},js=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Xt.length-1},Ku=function(_,G,gt){var xt,Pt=void 0;return gt=gt||{},_=_!==void 0?_:Yt[Ee].fontName,G=G!==void 0?G:Yt[Ee].fontStyle,xt=_.toLowerCase(),At[xt]!==void 0&&At[xt][G]!==void 0?Pt=At[xt][G]:At[_]!==void 0&&At[_][G]!==void 0?Pt=At[_][G]:gt.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+_+"', '"+G+"'. Refer to getFontList() for available fonts."),Pt||gt.noFallback||(Pt=At.times[G])==null&&(Pt=At.times.normal),Pt},Ki=p.__private__.putInfo=function(){var _=bn(),G=function(xt){return xt};for(var gt in u!==null&&(G=Kr.encryptor(_,0)),vt("<<"),vt("/Producer ("+Bs(G("jsPDF "+Ge.version))+")"),Ie)Ie.hasOwnProperty(gt)&&Ie[gt]&&vt("/"+gt.substr(0,1).toUpperCase()+gt.substr(1)+" ("+Bs(G(Ie[gt]))+")");vt("/CreationDate ("+Bs(G(pt))+")"),vt(">>"),vt("endobj")},bf=p.__private__.putCatalog=function(_){var G=(_=_||{}).rootDictionaryObjId||nr;switch(bn(),vt("<<"),vt("/Type /Catalog"),vt("/Pages "+G+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":vt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":vt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":vt("/OpenAction [3 0 R /Fit]");break;case"original":vt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var gt=""+ye;gt.substr(gt.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&vt("/OpenAction [3 0 R /XYZ null null "+D(ye)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":vt("/PageLayout /OneColumn");break;case"single":vt("/PageLayout /SinglePage");break;case"two":case"twoleft":vt("/PageLayout /TwoColumnLeft");break;case"tworight":vt("/PageLayout /TwoColumnRight")}Ce&&vt("/PageMode /"+Ce),wt.publish("putCatalog"),vt(">>"),vt("endobj")},si=p.__private__.putTrailer=function(){vt("trailer"),vt("<<"),vt("/Size "+(dt+1)),vt("/Root "+dt+" 0 R"),vt("/Info "+(dt-1)+" 0 R"),u!==null&&vt("/Encrypt "+Kr.oid+" 0 R"),vt("/ID [ <"+Z+"> <"+Z+"> ]"),vt(">>")},Yu=p.__private__.putHeader=function(){vt("%PDF-"+v),vt("%")},Hl=p.__private__.putXRef=function(){var _="0000000000";vt("xref"),vt("0 "+(dt+1)),vt("0000000000 65535 f ");for(var G=1;G<=dt;G++)typeof mt[G]=="function"?vt((_+mt[G]()).slice(-10)+" 00000 n "):mt[G]!==void 0?vt((_+mt[G]).slice(-10)+" 00000 n "):vt("0000000000 00000 n ")},ra=p.__private__.buildDocument=function(){var _;dt=0,_t=0,yt=[],mt=[],Ot=[],nr=Rn(),Pr=Rn(),zt(yt),wt.publish("buildDocument"),Yu(),Ca(),(function(){wt.publish("putAdditionalObjects");for(var gt=0;gt<Ot.length;gt++){var xt=Ot[gt];Sr(xt.objId,!0),vt(xt.content),vt("endobj")}wt.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var gt in Yt)Yt.hasOwnProperty(gt)&&(f===!1||f===!0&&g.hasOwnProperty(gt))&&il(Yt[gt])})(),(function(){var gt;for(gt in he)he.hasOwnProperty(gt)&&yf(he[gt])})(),(function(){for(var gt in xe)xe.hasOwnProperty(gt)&&jl(xe[gt])})(),(function(gt){var xt;for(xt in H)H.hasOwnProperty(xt)&&(H[xt]instanceof bu?zl(H[xt]):H[xt]instanceof Xd&&Mc(H[xt],gt))})(_),wt.publish("putResources"),_.forEach(Er),Er({resourcesOid:Pr,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources"),u!==null&&(Kr.oid=bn(),vt("<<"),vt("/Filter /Standard"),vt("/V "+Kr.v),vt("/R "+Kr.r),vt("/U <"+Kr.toHexString(Kr.U)+">"),vt("/O <"+Kr.toHexString(Kr.O)+">"),vt("/P "+Kr.P),vt(">>"),vt("endobj")),Ki(),bf();var G=_t;return Hl(),si(),vt("startxref"),vt(""+G),vt("%%EOF"),zt(Xt[W]),yt.join(`
`)},ka=p.__private__.getBlob=function(_){return new Blob([re(_)],{type:"application/pdf"})},ws=p.output=p.__private__.output=(Xn=function(_,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",_){case void 0:return ra();case"save":p.save(G.filename);break;case"arraybuffer":return re(ra());case"blob":return ka(ra());case"bloburi":case"bloburl":if(dn.URL!==void 0&&typeof dn.URL.createObjectURL=="function")return dn.URL&&dn.URL.createObjectURL(ka(ra()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var gt="",xt=ra();try{gt=Z5(xt)}catch{gt=Z5(unescape(encodeURIComponent(xt)))}return"data:application/pdf;filename="+G.filename+";base64,"+gt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Zt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Pt=G.pdfObjectUrl,Zt="");var ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pt+'"'+Zt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",Ne=dn.open();return Ne!==null&&Ne.document.write(ie),Ne}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',an=dn.open();if(an!==null){an.document.write(je);var on=this;an.document.documentElement.querySelector("#pdfViewer").onload=function(){an.document.title=G.filename,an.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(on.output("bloburl"))}}return an}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Dr=dn.open();if(Dr!==null&&(Dr.document.write(Yn),Dr.document.title=G.filename),Dr||typeof safari>"u")return Dr;break;case"datauri":case"dataurl":return dn.document.location.href=this.output("datauristring",G);default:return null}},Xn.foo=function(){try{return Xn.apply(this,arguments)}catch(gt){var _=gt.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var G="Error in function "+_.split(`
`)[0].split("<")[0]+": "+gt.message;if(!dn.console)throw new Error(G);dn.console.error(G,gt),dn.alert&&alert(G)}},Xn.foo.bar=Xn,Xn.foo),ql=function(_){return Array.isArray(Mt)===!0&&Mt.indexOf(_)>-1};switch(n){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=ql("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ue=n}var Kr=null;q(),st();var Wl=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:K[_].objId,pageNumber:_,pageContext:K[_]}},Zu=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in K)if(K[G].objId===_)break;return Wl(G)},zh=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:K[W].objId,pageNumber:W,pageContext:K[W]}};p.addPage=function(){return Xu.apply(this,arguments),this},p.setPage=function(){return Ul.apply(this,arguments),zt.call(this,Xt[W]),this},p.insertPage=function(_){return this.addPage(),this.movePage(W,_),this},p.movePage=function(_,G){var gt,xt;if(_>G){gt=Xt[_],xt=K[_];for(var Pt=_;Pt>G;Pt--)Xt[Pt]=Xt[Pt-1],K[Pt]=K[Pt-1];Xt[G]=gt,K[G]=xt,this.setPage(G)}else if(_<G){gt=Xt[_],xt=K[_];for(var Zt=_;Zt<G;Zt++)Xt[Zt]=Xt[Zt+1],K[Zt]=K[Zt+1];Xt[G]=gt,K[G]=xt,this.setPage(G)}return this},p.deletePage=function(){return Bc.apply(this,arguments),this},p.__private__.text=p.text=function(_,G,gt,xt,Pt){var Zt,ie,Ne,je,an,on,Yn,Dr,ai,vr=(xt=xt||{}).scope||this;if(typeof _=="number"&&typeof G=="number"&&(typeof gt=="string"||Array.isArray(gt))){var fi=gt;gt=G,G=_,_=fi}if(arguments[3]instanceof ve==0?(Ne=arguments[4],je=arguments[5],mr(Yn=arguments[3])==="object"&&Yn!==null||(typeof Ne=="string"&&(je=Ne,Ne=null),typeof Yn=="string"&&(je=Yn,Yn=null),typeof Yn=="number"&&(Ne=Yn,Yn=null),xt={flags:Yn,angle:Ne,align:je})):(B("The transform parameter of text() with a Matrix value"),ai=Pt),isNaN(G)||isNaN(gt)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return vr;var Yr,Di="",ca=typeof xt.lineHeightFactor=="number"?xt.lineHeightFactor:As,xs=vr.internal.scaleFactor;function ed(Zn){return Zn=Zn.split("	").join(Array(xt.TabLen||9).join(" ")),Bs(Zn,Yn)}function al(Zn){for(var lr,Ur=Zn.concat(),oi=[],Fa=Ur.length;Fa--;)typeof(lr=Ur.shift())=="string"?oi.push(lr):Array.isArray(Zn)&&(lr.length===1||lr[1]===void 0&&lr[2]===void 0)?oi.push(lr[0]):oi.push([lr[0],lr[1],lr[2]]);return oi}function Jl(Zn,lr){var Ur;if(typeof Zn=="string")Ur=lr(Zn)[0];else if(Array.isArray(Zn)){for(var oi,Fa,Yh=Zn.concat(),Yc=[],Oo=Yh.length;Oo--;)typeof(oi=Yh.shift())=="string"?Yc.push(lr(oi)[0]):Array.isArray(oi)&&typeof oi[0]=="string"&&(Fa=lr(oi[0],oi[1],oi[2]),Yc.push([Fa[0],Fa[1],Fa[2]]));Ur=Yc}return Ur}var ol=!1,Ql=!0;if(typeof _=="string")ol=!0;else if(Array.isArray(_)){var ll=_.concat();ie=[];for(var $l,Zi=ll.length;Zi--;)(typeof($l=ll.shift())!="string"||Array.isArray($l)&&typeof $l[0]!="string")&&(Ql=!1);ol=Ql}if(ol===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var tc=Jt/vr.internal.scaleFactor,ec=tc*(ca-1);switch(xt.baseline){case"bottom":gt-=ec;break;case"top":gt+=tc-ec;break;case"hanging":gt+=tc-2*ec;break;case"middle":gt+=tc/2-ec}if((on=xt.maxWidth||0)>0&&(typeof _=="string"?_=vr.splitTextToSize(_,on):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Zn,lr){return Zn.concat(vr.splitTextToSize(lr,on))},[]))),Zt={text:_,x:G,y:gt,options:xt,mutex:{pdfEscape:Bs,activeFontKey:Ee,fonts:Yt,activeFontSize:Jt}},wt.publish("preProcessText",Zt),_=Zt.text,Ne=(xt=Zt.options).angle,ai instanceof ve==0&&Ne&&typeof Ne=="number"){Ne*=Math.PI/180,xt.rotationDirection===0&&(Ne=-Ne),k===E&&(Ne=-Ne);var Xh=Math.cos(Ne),Kh=Math.sin(Ne);ai=new ve(Xh,Kh,-Kh,Xh,0,0)}else Ne&&Ne instanceof ve&&(ai=Ne);k!==E||ai||(ai=Bn),(an=xt.charSpace||Ta)!==void 0&&(Di+=j(U(an))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dr=xt.horizontalScale)!==void 0&&(Di+=j(100*Dr)+` Tz
`),xt.lang;var jr=-1,La=xt.renderingMode!==void 0?xt.renderingMode:xt.stroke,to=vr.internal.getCurrentPageInfo().pageContext;switch(La){case 0:case!1:case"fill":jr=0;break;case 1:case!0:case"stroke":jr=1;break;case 2:case"fillThenStroke":jr=2;break;case 3:case"invisible":jr=3;break;case 4:case"fillAndAddForClipping":jr=4;break;case 5:case"strokeAndAddPathForClipping":jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jr=6;break;case 7:case"addToPathForClipping":jr=7}var nd=to.usedRenderingMode!==void 0?to.usedRenderingMode:-1;jr!==-1?Di+=jr+` Tr
`:nd!==-1&&(Di+=`0 Tr
`),jr!==-1&&(to.usedRenderingMode=jr),je=xt.align||"left";var Us,cl=Jt*ca,Vc=vr.internal.pageSize.getWidth(),Gc=Yt[Ee];an=xt.charSpace||Ta,on=xt.maxWidth||0,Yn=Object.assign({autoencode:!0,noBOM:!0},xt.flags);var Ro=[],ha=function(Zn){return vr.getStringUnitWidth(Zn,{font:Gc,charSpace:an,fontSize:Jt,doKerning:!1})*Jt/xs};if(Object.prototype.toString.call(_)==="[object Array]"){var Hs;ie=al(_),je!=="left"&&(Us=ie.map(ha));var qs,hl=0;if(je==="right"){G-=Us[0],_=[],Zi=ie.length;for(var eo=0;eo<Zi;eo++)eo===0?(qs=zs(G),Hs=Lo(gt)):(qs=U(hl-Us[eo]),Hs=-cl),_.push([ie[eo],qs,Hs]),hl=Us[eo]}else if(je==="center"){G-=Us[0]/2,_=[],Zi=ie.length;for(var Io=0;Io<Zi;Io++)Io===0?(qs=zs(G),Hs=Lo(gt)):(qs=U((hl-Us[Io])/2),Hs=-cl),_.push([ie[Io],qs,Hs]),hl=Us[Io]}else if(je==="left"){_=[],Zi=ie.length;for(var Do=0;Do<Zi;Do++)_.push(ie[Do])}else if(je==="justify"&&Gc.encoding==="Identity-H"){_=[],Zi=ie.length,on=on!==0?on:Vc;for(var no=0,Zr=0;Zr<Zi;Zr++)if(Hs=Zr===0?Lo(gt):-cl,qs=Zr===0?zs(G):no,Zr<Zi-1){var nc=U((on-Us[Zr])/(ie[Zr].split(" ").length-1)),ro=ie[Zr].split(" ");_.push([ro[0]+" ",qs,Hs]),no=0;for(var Na=1;Na<ro.length;Na++){var rc=(ha(ro[Na-1]+" "+ro[Na])-ha(ro[Na]))*xs+nc;Na==ro.length-1?_.push([ro[Na],rc,0]):_.push([ro[Na]+" ",rc,0]),no-=rc}}else _.push([ie[Zr],qs,Hs]);_.push(["",no,0])}else{if(je!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Zi=ie.length,on=on!==0?on:Vc,Zr=0;Zr<Zi;Zr++){Hs=Zr===0?Lo(gt):-cl,qs=Zr===0?zs(G):0;var ic=ie[Zr].split(" ").length-1,Xc=ic>0?(on-Us[Zr])/ic:0;Zr<Zi-1?Ro.push(j(U(Xc))):Ro.push(0),_.push([ie[Zr],qs,Hs])}}}(typeof xt.R2L=="boolean"?xt.R2L:Re)===!0&&(_=Jl(_,function(Zn,lr,Ur){return[Zn.split("").reverse().join(""),lr,Ur]})),Zt={text:_,x:G,y:gt,options:xt,mutex:{pdfEscape:Bs,activeFontKey:Ee,fonts:Yt,activeFontSize:Jt}},wt.publish("postProcessText",Zt),_=Zt.text,Yr=Zt.mutex.isHex||!1;var Kc=Yt[Ee].encoding;Kc!=="WinAnsiEncoding"&&Kc!=="StandardEncoding"||(_=Jl(_,function(Zn,lr,Ur){return[ed(Zn),lr,Ur]})),ie=al(_),_=[];for(var Mo,ul,dl,sc=Array.isArray(ie[0])?1:0,fl="",ac=function(Zn,lr,Ur){var oi="";return Ur instanceof ve?(Ur=typeof xt.angle=="number"?Rr(Ur,new ve(1,0,0,1,Zn,lr)):Rr(new ve(1,0,0,1,Zn,lr),Ur),k===E&&(Ur=Rr(new ve(1,0,0,-1,0,0),Ur)),oi=Ur.join(" ")+` Tm
`):oi=j(Zn)+" "+j(lr)+` Td
`,oi},zr=0;zr<ie.length;zr++){switch(fl="",sc){case 1:dl=(Yr?"<":"(")+ie[zr][0]+(Yr?">":")"),Mo=parseFloat(ie[zr][1]),ul=parseFloat(ie[zr][2]);break;case 0:dl=(Yr?"<":"(")+ie[zr]+(Yr?">":")"),Mo=zs(G),ul=Lo(gt)}Ro!==void 0&&Ro[zr]!==void 0&&(fl=Ro[zr]+` Tw
`),zr===0?_.push(fl+ac(Mo,ul,ai)+dl):sc===0?_.push(fl+dl):sc===1&&_.push(fl+ac(Mo,ul,ai)+dl)}_=sc===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ss=`BT
/`;return Ss+=Ee+" "+Jt+` Tf
`,Ss+=j(Jt*ca)+` TL
`,Ss+=Pa+`
`,Ss+=Di,Ss+=_,vt(Ss+="ET"),g[Ee]=!0,vr};var Vl=p.__private__.clip=p.clip=function(_){return vt(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Vl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return vt("n"),this};var Ya=p.__private__.isValidStyle=function(_){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(G=!0),G};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Ya(_)&&(c=_),this};var jc=p.__private__.getStyle=p.getStyle=function(_){var G=c;switch(_){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=_}return G},Kn=p.close=function(){return vt("h"),this};p.stroke=function(){return vt("S"),this},p.fill=function(_){return Po("f",_),this},p.fillEvenOdd=function(_){return Po("f*",_),this},p.fillStroke=function(_){return Po("B",_),this},p.fillStrokeEvenOdd=function(_){return Po("B*",_),this};var Po=function(_,G){mr(G)==="object"?Ju(G,_):vt(_)},zc=function(_){_===null||k===E&&_===void 0||(_=jc(_),vt(_))};function Uh(_,G,gt,xt,Pt){var Zt=new Xd(G||this.boundingBox,gt||this.xStep,xt||this.yStep,this.gState,Pt||this.matrix);Zt.stream=this.stream;var ie=_+"$$"+this.cloneIndex+++"$$";return Ye(ie,Zt),Zt}var Ju=function(_,G){var gt=qt[_.key],xt=H[gt];if(xt instanceof bu)vt("q"),vt(Qu(G)),xt.gState&&p.setGState(xt.gState),vt(_.matrix.toString()+" cm"),vt("/"+gt+" sh"),vt("Q");else if(xt instanceof Xd){var Pt=new ve(1,0,0,-1,0,la());_.matrix&&(Pt=Pt.multiply(_.matrix||Bn),gt=Uh.call(xt,_.key,_.boundingBox,_.xStep,_.yStep,Pt).id),vt("q"),vt("/Pattern cs"),vt("/"+gt+" scn"),xt.gState&&p.setGState(xt.gState),vt(G),vt("Q")}},Qu=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Uc=p.moveTo=function(_,G){return vt(j(U(_))+" "+j(Q(G))+" m"),this},To=p.lineTo=function(_,G){return vt(j(U(_))+" "+j(Q(G))+" l"),this},_a=p.curveTo=function(_,G,gt,xt,Pt,Zt){return vt([j(U(_)),j(Q(G)),j(U(gt)),j(Q(xt)),j(U(Pt)),j(Q(Zt)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,G,gt,xt,Pt){if(isNaN(_)||isNaN(G)||isNaN(gt)||isNaN(xt)||!Ya(Pt))throw new Error("Invalid arguments passed to jsPDF.line");return k===C?this.lines([[gt-_,xt-G]],_,G,[1,1],Pt||"S"):this.lines([[gt-_,xt-G]],_,G,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,G,gt,xt,Pt,Zt){var ie,Ne,je,an,on,Yn,Dr,ai,vr,fi,Yr,Di;if(typeof _=="number"&&(Di=gt,gt=G,G=_,_=Di),xt=xt||[1,1],Zt=Zt||!1,isNaN(G)||isNaN(gt)||!Array.isArray(_)||!Array.isArray(xt)||!Ya(Pt)||typeof Zt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uc(G,gt),ie=xt[0],Ne=xt[1],an=_.length,fi=G,Yr=gt,je=0;je<an;je++)(on=_[je]).length===2?(fi=on[0]*ie+fi,Yr=on[1]*Ne+Yr,To(fi,Yr)):(Yn=on[0]*ie+fi,Dr=on[1]*Ne+Yr,ai=on[2]*ie+fi,vr=on[3]*Ne+Yr,fi=on[4]*ie+fi,Yr=on[5]*Ne+Yr,_a(Yn,Dr,ai,vr,fi,Yr));return Zt&&Kn(),zc(Pt),this},p.path=function(_){for(var G=0;G<_.length;G++){var gt=_[G],xt=gt.c;switch(gt.op){case"m":Uc(xt[0],xt[1]);break;case"l":To(xt[0],xt[1]);break;case"c":_a.apply(this,xt);break;case"h":Kn()}}return this},p.__private__.rect=p.rect=function(_,G,gt,xt,Pt){if(isNaN(_)||isNaN(G)||isNaN(gt)||isNaN(xt)||!Ya(Pt))throw new Error("Invalid arguments passed to jsPDF.rect");return k===C&&(xt=-xt),vt([j(U(_)),j(Q(G)),j(U(gt)),j(U(xt)),"re"].join(" ")),zc(Pt),this},p.__private__.triangle=p.triangle=function(_,G,gt,xt,Pt,Zt,ie){if(isNaN(_)||isNaN(G)||isNaN(gt)||isNaN(xt)||isNaN(Pt)||isNaN(Zt)||!Ya(ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[gt-_,xt-G],[Pt-gt,Zt-xt],[_-Pt,G-Zt]],_,G,[1,1],ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,G,gt,xt,Pt,Zt,ie){if(isNaN(_)||isNaN(G)||isNaN(gt)||isNaN(xt)||isNaN(Pt)||isNaN(Zt)||!Ya(ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ne=4/3*(Math.SQRT2-1);return Pt=Math.min(Pt,.5*gt),Zt=Math.min(Zt,.5*xt),this.lines([[gt-2*Pt,0],[Pt*Ne,0,Pt,Zt-Zt*Ne,Pt,Zt],[0,xt-2*Zt],[0,Zt*Ne,-Pt*Ne,Zt,-Pt,Zt],[2*Pt-gt,0],[-Pt*Ne,0,-Pt,-Zt*Ne,-Pt,-Zt],[0,2*Zt-xt],[0,-Zt*Ne,Pt*Ne,-Zt,Pt,-Zt]],_+Pt,G,[1,1],ie,!0),this},p.__private__.ellipse=p.ellipse=function(_,G,gt,xt,Pt){if(isNaN(_)||isNaN(G)||isNaN(gt)||isNaN(xt)||!Ya(Pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Zt=4/3*(Math.SQRT2-1)*gt,ie=4/3*(Math.SQRT2-1)*xt;return Uc(_+gt,G),_a(_+gt,G-ie,_+Zt,G-xt,_,G-xt),_a(_-Zt,G-xt,_-gt,G-ie,_-gt,G),_a(_-gt,G+ie,_-Zt,G+xt,_,G+xt),_a(_+Zt,G+xt,_+gt,G+ie,_+gt,G),zc(Pt),this},p.__private__.circle=p.circle=function(_,G,gt,xt){if(isNaN(_)||isNaN(G)||isNaN(gt)||!Ya(xt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,G,gt,gt,xt)},p.setFont=function(_,G,gt){return gt&&(G=M(G,gt)),Ee=Ku(_,G,{disableWarning:!1}),this};var Za=p.__private__.getFont=p.getFont=function(){return Yt[Ku.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,G,gt={};for(_ in At)if(At.hasOwnProperty(_))for(G in gt[_]=[],At[_])At[_].hasOwnProperty(G)&&gt[_].push(G);return gt},p.addFont=function(_,G,gt,xt,Pt){var Zt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Zt.indexOf(arguments[3])!==-1?Pt=arguments[3]:arguments[3]&&Zt.indexOf(arguments[3])==-1&&(gt=M(gt,xt)),Oc.call(this,_,G,gt,Pt=Pt||"Identity-H")};var As,ia=i.lineWidth||.200025,$e=p.__private__.getLineWidth=p.getLineWidth=function(){return ia},Gl=p.__private__.setLineWidth=p.setLineWidth=function(_){return ia=_,vt(j(U(_))+" w"),this};p.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(_,G){if(_=_||[],G=G||0,isNaN(G)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(gt){return j(U(gt))}).join(" "),G=j(U(G)),vt("["+_+"] "+G+" d"),this};var Ja=p.__private__.getLineHeight=p.getLineHeight=function(){return Jt*As};p.__private__.getLineHeight=p.getLineHeight=function(){return Jt*As};var wf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(As=_),this},$u=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return As};wf(i.lineHeight);var zs=p.__private__.getHorizontalCoordinate=function(_){return U(_)},Lo=p.__private__.getVerticalCoordinate=function(_){return k===E?_:K[W].mediaBox.topRightY-K[W].mediaBox.bottomLeftY-U(_)},td=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return j(zs(_))},Hc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return j(Lo(_))},Xl=i.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return or(Xl)},p.__private__.setStrokeColor=p.setDrawColor=function(_,G,gt,xt){return Xl=ur({ch1:_,ch2:G,ch3:gt,ch4:xt,pdfColorType:"draw",precision:2}),vt(Xl),this};var Hh=i.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return or(Hh)},p.__private__.setFillColor=p.setFillColor=function(_,G,gt,xt){return Hh=ur({ch1:_,ch2:G,ch3:gt,ch4:xt,pdfColorType:"fill",precision:2}),vt(Hh),this};var Pa=i.textColor||"0 g",Qa=p.__private__.getTextColor=p.getTextColor=function(){return or(Pa)};p.__private__.setTextColor=p.setTextColor=function(_,G,gt,xt){return Pa=ur({ch1:_,ch2:G,ch3:gt,ch4:xt,pdfColorType:"text",precision:3}),this};var Ta=i.charSpace,qc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ta||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ta=_,this};var qh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var G=p.CapJoinStyles[_];if(G===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qh=G,vt(G+" J"),this};var Wh=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var G=p.CapJoinStyles[_];if(G===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wh=G,vt(G+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return vt(j(U(_))+" M"),this},p.GState=Am,p.setGState=function(_){(_=typeof _=="string"?he[N[_]]:No(null,_)).equals(Nt)||(vt("/"+_.id+" gs"),Nt=_)};var No=function(_,G){if(!_||!N[_]){var gt=!1;for(var xt in he)if(he.hasOwnProperty(xt)&&he[xt].equals(G)){gt=!0;break}if(gt)G=he[xt];else{var Pt="GS"+(Object.keys(he).length+1).toString(10);he[Pt]=G,G.id=Pt}return _&&(N[_]=G.id),wt.publish("addGState",G),G}};p.addGState=function(_,G){return No(_,G),this},p.saveGraphicsState=function(){return vt("q"),Bt.push({key:Ee,size:Jt,color:Pa}),this},p.restoreGraphicsState=function(){vt("Q");var _=Bt.pop();return Ee=_.key,Jt=_.size,Pa=_.color,Nt=null,this},p.setCurrentTransformationMatrix=function(_){return vt(_.toString()+" cm"),this},p.comment=function(_){return vt("#"+_),this};var $a=function(_,G){var gt=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return gt},set:function(Zt){isNaN(Zt)||(gt=parseFloat(Zt))}});var xt=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xt},set:function(Zt){isNaN(Zt)||(xt=parseFloat(Zt))}});var Pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pt},set:function(Zt){Pt=Zt.toString()}}),this},Kl=function(_,G,gt,xt){$a.call(this,_,G),this.type="rect";var Pt=gt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pt},set:function(ie){isNaN(ie)||(Pt=parseFloat(ie))}});var Zt=xt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Zt},set:function(ie){isNaN(ie)||(Zt=parseFloat(ie))}}),this},Yl=function(){this.page=Lt,this.currentPage=W,this.pages=Xt.slice(0),this.pagesContext=K.slice(0),this.x=tt,this.y=Kt,this.matrix=Qt,this.width=Zl(W),this.height=aa(W),this.outputDestination=le,this.id="",this.objectNumber=-1};Yl.prototype.restore=function(){Lt=this.page,W=this.currentPage,K=this.pagesContext,Xt=this.pages,tt=this.x,Kt=this.y,Qt=this.matrix,Vh(W,this.width),oa(W,this.height),le=this.outputDestination};var sa=function(_,G,gt,xt,Pt){Ae.push(new Yl),Lt=W=0,Xt=[],tt=_,Kt=G,Qt=Pt,sl([gt,xt])};for(var Fo in p.beginFormObject=function(_,G,gt,xt,Pt){return sa(_,G,gt,xt,Pt),this},p.endFormObject=function(_){return(function(G){if(be[G])Ae.pop().restore();else{var gt=new Yl,xt="Xo"+(Object.keys(xe).length+1).toString(10);gt.id=xt,be[G]=xt,xe[xt]=gt,wt.publish("addFormObject",gt),Ae.pop().restore()}})(_),this},p.doFormObject=function(_,G){var gt=xe[be[_]];return vt("q"),vt(G.toString()+" cm"),vt("/"+gt.id+" Do"),vt("Q"),this},p.getFormObject=function(_){var G=xe[be[_]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},p.save=function(_,G){return _=_||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(vu(ka(ra()),_),typeof vu.unload=="function"&&dn.setTimeout&&setTimeout(vu.unload,911),this):new Promise(function(gt,xt){try{var Pt=vu(ka(ra()),_);typeof vu.unload=="function"&&dn.setTimeout&&setTimeout(vu.unload,911),gt(Pt)}catch(Zt){xt(Zt.message)}})},Ge.API)Ge.API.hasOwnProperty(Fo)&&(Fo==="events"&&Ge.API.events.length?(function(_,G){var gt,xt,Pt;for(Pt=G.length-1;Pt!==-1;Pt--)gt=G[Pt][0],xt=G[Pt][1],_.subscribe.apply(_,[gt].concat(typeof xt=="function"?[xt]:xt))})(wt,Ge.API.events):p[Fo]=Ge.API[Fo]);function Zl(_){return K[_].mediaBox.topRightX-K[_].mediaBox.bottomLeftX}function Vh(_,G){K[_].mediaBox.topRightX=G+K[_].mediaBox.bottomLeftX}function aa(_){return K[_].mediaBox.topRightY-K[_].mediaBox.bottomLeftY}function oa(_,G){K[_].mediaBox.topRightY=G+K[_].mediaBox.bottomLeftY}var Gh=p.getPageWidth=function(_){return Zl(_=_||W)/Ue},Yi=p.setPageWidth=function(_,G){Vh(_,G*Ue)},la=p.getPageHeight=function(_){return aa(_=_||W)/Ue},Wc=p.setPageHeight=function(_,G){oa(_,G*Ue)};return p.internal={pdfEscape:Bs,getStyle:jc,getFont:Za,getFontSize:ce,getCharSpace:qc,getTextColor:Qa,getLineHeight:Ja,getLineHeightFactor:$u,getLineWidth:$e,write:de,getHorizontalCoordinate:zs,getVerticalCoordinate:Lo,getCoordinateString:td,getVerticalCoordinateString:Hc,collections:{},newObject:bn,newAdditionalObject:bs,newObjectDeferred:Rn,newObjectDeferredBegin:Sr,getFilters:Ir,putStream:Xi,events:wt,scaleFactor:Ue,pageSize:{getWidth:function(){return Gh(W)},setWidth:function(_){Yi(W,_)},getHeight:function(){return la(W)},setHeight:function(_){Wc(W,_)}},encryptionOptions:u,encryption:Kr,getEncryptor:function(_){return u!==null?Kr.encryptor(_,0):function(G){return G}},output:ws,getNumberOfPages:js,pages:Xt,out:vt,f2:D,f3:z,getPageInfo:Wl,getPageInfoByObjId:Zu,getCurrentPageInfo:zh,getPDFVersion:y,Point:$a,Rectangle:Kl,Matrix:ve,hasHotfix:ql},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Gh(W)},set:function(_){Yi(W,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return la(W)},set:function(_){Wc(W,_)},enumerable:!0,configurable:!0}),(function(_){for(var G=0,gt=ne.length;G<gt;G++){var xt=Oc.call(this,_[G][0],_[G][1],_[G][2],ne[G][3],!0);f===!1&&(g[xt]=!0);var Pt=_[G][0].split("-");Gu({id:xt,fontName:Pt[0],fontStyle:Pt[1]||""})}wt.publish("addFonts",{fonts:Yt,dictionary:At})}).call(p,ne),Ee="F1",Xu(r,e),wt.publish("initialized"),p}zd.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},zd.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zd.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},zd.prototype.processOwnerPassword=function(i,t){return Ab(wb(t).substr(0,5),i)},zd.prototype.encryptor=function(i,t){var e=wb(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Ab(e,n)}},Am.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||mr(i)!==mr(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Ge.API={events:[]},Ge.version="3.0.3";var di=Ge.API,N2=1,Vu=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fd=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xn=function(i){return i.toFixed(2)},yh=function(i){return i.toFixed(5)};di.__acroform__={};var Ea=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},tS=function(i){return i*N2},Tl=function(i){var t=new __,e=Me.internal.getHeight(i)||0,n=Me.internal.getWidth(i)||0;return t.BBox=[0,0,Number(xn(n)),Number(xn(e))],t},a8=di.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<t},o8=di.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<t)},l8=di.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},yi=di.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return l8(i,t-1)},bi=di.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return a8(i,t-1)},wi=di.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return o8(i,t-1)},c8=di.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],s=i[1],a=i[2],o=i[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=e(r+a)||0,l.upperRight_Y=n(s)||0,[Number(xn(l.lowerLeft_X)),Number(xn(l.lowerLeft_Y)),Number(xn(l.upperRight_X)),Number(xn(l.upperRight_Y))]},h8=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=xb(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+xn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Tl(i);return s.scope=i.scope,s.stream=t.join(`
`),s}},xb=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(D){return D.split(`
`)}):r.map(function(D){return[D]});var s=e,a=Me.internal.getHeight(i)||0;a=a<0?-a:a;var o=Me.internal.getWidth(i)||0;o=o<0?-o:o;var l=function(D,z,U){if(D+1<r.length){var Q=z+" "+r[D+1][0];return L0(Q,i,U).width<=o-4}return!1};s++;t:for(;s>0;){t="",s--;var c,u,f=L0("3",i,s).height,g=i.multiline?a-s:(a-f)/2,p=g+=2,v=0,y=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+L0(t,i,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",C=0,E=0;E<r.length;E++)if(r.hasOwnProperty(E)){var k=!1;if(r[E].length!==1&&A!==r[E].length-1){if((f+2)*(C+2)+2>a)continue t;w+=r[E][A],k=!0,y=E,E--}else{w=(w+=r[E][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var L=parseInt(E),R=l(L,w,s),M=E>=r.length-1;if(R&&!M){w+=" ",A=0;continue}if(R||M){if(M)y=L;else if(i.multiline&&(f+2)*(C+2)+2>a)continue t}else{if(!i.multiline||(f+2)*(C+2)+2>a)continue t;y=L}}for(var j="",B=v;B<=y;B++){var X=r[B];if(i.multiline){if(B===y){j+=X[A]+" ",A=(A+1)%X.length;continue}if(B===v){j+=X[X.length-1]+" ";continue}}j+=X[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=L0(j,i,s).width,i.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=xn(c)+" "+xn(p)+` Td
`,t+="("+Vu(j)+`) Tj
`,t+=-xn(c)+` 0 Td
`,p=-(s+2),u=0,v=k?y:y+1,C++,w=""}break}return n.text=t,n.fontSize=s,n},L0=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},u8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},d8=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},f8=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(nl.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(u8)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N2=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new P_,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&d8(s,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var s=!n;for(var a in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=c8(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Me.createDefaultAppearanceStream(o),mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=h8(o);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var p=o.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var v=p[a];typeof v=="function"&&(v=v.call(r,o)),f+="/"+a+" "+v+" ",r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(r,o)),f+="/"+a+" "+v,r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}s&&(function(y,A){for(var w in y)if(y.hasOwnProperty(w)){var C=w,E=y[w];A.internal.newObjectDeferredBegin(E.objId,!0),mr(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete y[C]}})(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},k_=di.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(a){return a};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),mr(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+Vu(n(i[s].toString()))+")"):r+=i[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ay=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),"("+Vu(n(i))+")"},Fl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fl.prototype.toString=function(){return this.objId+" 0 R"},Fl.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Fl.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:k_(r,this.objId,this.scope)}):r instanceof Fl?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var __=function(){Fl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};Ea(__,Fl);var P_=function(){Fl.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Vu(e(i))+")"}},set:function(e){i=e}})};Ea(P_,Fl);var nl=function i(){Fl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yi(t,3)},set:function(w){w?this.F=bi(t,3):this.F=wi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');e=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof xm)return;s="FieldObject"+i.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Vu(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/N2:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof xm||this instanceof Pu))return Ay(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ss==0?Ay(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof ss==0?w.substr(0,1)==="("?Fd(w.substr(1,w.length-2)):Fd(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Fd(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof ss==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ss==0?Ay(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof ss==0?w.substr(0,1)==="("?Fd(w.substr(1,w.length-2)):Fd(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Fd(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof ss==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,1)},set:function(w){w?this.Ff=bi(this.Ff,1):this.Ff=wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,2)},set:function(w){w?this.Ff=bi(this.Ff,2):this.Ff=wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,3)},set:function(w){w?this.Ff=bi(this.Ff,3):this.Ff=wi(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Ea(nl,Fl);var $d=function(){nl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return k_(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,18)},set:function(e){e?this.Ff=bi(this.Ff,18):this.Ff=wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=bi(this.Ff,19):this.Ff=wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,20)},set:function(e){e?(this.Ff=bi(this.Ff,20),t.sort()):this.Ff=wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,22)},set:function(e){e?this.Ff=bi(this.Ff,22):this.Ff=wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(e){e?this.Ff=bi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,27)},set:function(e){e?this.Ff=bi(this.Ff,27):this.Ff=wi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ea($d,nl);var tf=function(){$d.call(this),this.fontName="helvetica",this.combo=!1};Ea(tf,$d);var ef=function(){tf.call(this),this.combo=!0};Ea(ef,tf);var Y0=function(){ef.call(this),this.edit=!0};Ea(Y0,ef);var ss=function(){nl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,15)},set:function(e){e?this.Ff=bi(this.Ff,15):this.Ff=wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,16)},set:function(e){e?this.Ff=bi(this.Ff,16):this.Ff=wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,17)},set:function(e){e?this.Ff=bi(this.Ff,17):this.Ff=wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(e){e?this.Ff=bi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Vu(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){mr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};Ea(ss,nl);var Z0=function(){ss.call(this),this.pushButton=!0};Ea(Z0,ss);var nf=function(){ss.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};Ea(nf,ss);var xm=function(){var i,t;nl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Vu(r(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){mr(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ea(xm,nl),nf.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},nf.prototype.createOption=function(i){var t=new xm;return t.Parent=this,t.optionName=i,this.Kids.push(t),p8.call(this.scope,t),t};var J0=function(){ss.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Me.CheckBox.createAppearanceStream()};Ea(J0,ss);var Pu=function(){nl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,13)},set:function(t){t?this.Ff=bi(this.Ff,13):this.Ff=wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,21)},set:function(t){t?this.Ff=bi(this.Ff,21):this.Ff=wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(t){t?this.Ff=bi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,24)},set:function(t){t?this.Ff=bi(this.Ff,24):this.Ff=wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,25)},set:function(t){t?this.Ff=bi(this.Ff,25):this.Ff=wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(t){t?this.Ff=bi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ea(Pu,nl);var Q0=function(){Pu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,14)},set:function(i){i?this.Ff=bi(this.Ff,14):this.Ff=wi(this.Ff,14)}}),this.password=!0};Ea(Q0,Pu);var Me={CheckBox:{createAppearanceStream:function(){return{N:{On:Me.CheckBox.YesNormal},D:{On:Me.CheckBox.YesPushDown,Off:Me.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Tl(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=xb(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+xn(Me.internal.getWidth(i))+" "+xn(Me.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+xn(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Tl(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=Me.internal.getHeight(i),a=Me.internal.getWidth(i),o=xb(i,i.caption);return r.push("1 g"),r.push("0 0 "+xn(a)+" "+xn(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+xn(a-1)+" "+xn(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+xn(o.fontSize)+" Tf "+n),r.push(o.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Tl(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+xn(Me.internal.getWidth(i))+" "+xn(Me.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:Me.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=Me.RadioButton.Circle.YesNormal,t.D[i]=Me.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Tl(i);t.scope=i.scope;var e=[],n=Me.internal.getWidth(i)<=Me.internal.getHeight(i)?Me.internal.getWidth(i)/4:Me.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Me.internal.Bezier_C,s=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+yh(Me.internal.getWidth(i)/2)+" "+yh(Me.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Tl(i);t.scope=i.scope;var e=[],n=Me.internal.getWidth(i)<=Me.internal.getHeight(i)?Me.internal.getWidth(i)/4:Me.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*Me.internal.Bezier_C).toFixed(5)),a=Number((n*Me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+yh(Me.internal.getWidth(i)/2)+" "+yh(Me.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+yh(Me.internal.getWidth(i)/2)+" "+yh(Me.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Tl(i);t.scope=i.scope;var e=[],n=Me.internal.getWidth(i)<=Me.internal.getHeight(i)?Me.internal.getWidth(i)/4:Me.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*Me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+yh(Me.internal.getWidth(i)/2)+" "+yh(Me.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:Me.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=Me.RadioButton.Cross.YesNormal,t.D[i]=Me.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Tl(i);t.scope=i.scope;var e=[],n=Me.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+xn(Me.internal.getWidth(i)-2)+" "+xn(Me.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(xn(n.x1.x)+" "+xn(n.x1.y)+" m"),e.push(xn(n.x2.x)+" "+xn(n.x2.y)+" l"),e.push(xn(n.x4.x)+" "+xn(n.x4.y)+" m"),e.push(xn(n.x3.x)+" "+xn(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Tl(i);t.scope=i.scope;var e=Me.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+xn(Me.internal.getWidth(i))+" "+xn(Me.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xn(Me.internal.getWidth(i)-2)+" "+xn(Me.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(xn(e.x1.x)+" "+xn(e.x1.y)+" m"),n.push(xn(e.x2.x)+" "+xn(e.x2.y)+" l"),n.push(xn(e.x4.x)+" "+xn(e.x4.y)+" m"),n.push(xn(e.x3.x)+" "+xn(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Tl(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+xn(Me.internal.getWidth(i))+" "+xn(Me.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};Me.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=Me.internal.getWidth(i),e=Me.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},Me.internal.getWidth=function(i){var t=0;return mr(i)==="object"&&(t=tS(i.Rect[2])),t},Me.internal.getHeight=function(i){var t=0;return mr(i)==="object"&&(t=tS(i.Rect[3])),t};var p8=di.addField=function(i){if(f8(this,i),!(i instanceof nl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};di.AcroFormChoiceField=$d,di.AcroFormListBox=tf,di.AcroFormComboBox=ef,di.AcroFormEditBox=Y0,di.AcroFormButton=ss,di.AcroFormPushButton=Z0,di.AcroFormRadioButton=nf,di.AcroFormCheckBox=J0,di.AcroFormTextField=Pu,di.AcroFormPasswordField=Q0,di.AcroFormAppearance=Me,di.AcroForm={ChoiceField:$d,ListBox:tf,ComboBox:ef,EditBox:Y0,Button:ss,PushButton:Z0,RadioButton:nf,CheckBox:J0,TextField:Pu,PasswordField:Q0,Appearance:Me},Ge.AcroForm={ChoiceField:$d,ListBox:tf,ComboBox:ef,EditBox:Y0,Button:ss,PushButton:Z0,RadioButton:nf,CheckBox:J0,TextField:Pu,PasswordField:Q0,Appearance:Me};Ge.AcroForm;function T_(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){var t="addImage_";i.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(D,z){var U,Q,pt,Z,$,st=e;if((z=z||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(R(D))for($ in n)for(pt=n[$],U=0;U<pt.length;U+=1){for(Z=!0,Q=0;Q<pt[U].length;Q+=1)if(pt[U][Q]!==void 0&&pt[U][Q]!==D[Q]){Z=!1;break}if(Z===!0){st=$;break}}else for($ in n)for(pt=n[$],U=0;U<pt.length;U+=1){for(Z=!0,Q=0;Q<pt[U].length;Q+=1)if(pt[U][Q]!==void 0&&pt[U][Q]!==D.charCodeAt(Q)){Z=!1;break}if(Z===!0){st=$;break}}return st===e&&z!==e&&(st=z),st},s=function D(z){for(var U=this.internal.write,Q=this.internal.putStream,pt=(0,this.internal.getFilters)();pt.indexOf("FlateEncode")!==-1;)pt.splice(pt.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:z.width}),Z.push({key:"Height",value:z.height}),z.colorSpace===w.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===w.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var $="",st=0,rt=z.transparency.length;st<rt;st++)$+=z.transparency[st]+" "+z.transparency[st]+" ";Z.push({key:"Mask",value:"["+$+"]"})}z.sMask!==void 0&&Z.push({key:"SMask",value:z.objectId+1+" 0 R"});var ot=z.filter!==void 0?["/"+z.filter]:void 0;if(Q({data:z.data,additionalKeyValues:Z,alreadyAppliedFilters:ot,objectId:z.objectId}),U("endobj"),"sMask"in z&&z.sMask!==void 0){var q,I=(q=z.sMaskBitsPerComponent)!==null&&q!==void 0?q:z.bitsPerComponent,W={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:z.sMask};"filter"in z&&(W.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(z.width),W.filter=z.filter),D.call(this,W)}if(z.colorSpace===w.INDEXED){var nt=this.internal.newObject();Q({data:j(new Uint8Array(z.palette)),objectId:nt}),U("endobj")}},a=function(){var D=this.internal.collections[t+"images"];for(var z in D)s.call(this,D[z])},o=function(){var D,z=this.internal.collections[t+"images"],U=this.internal.write;for(var Q in z)U("/I"+(D=z[Q]).index,D.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var D=this.internal.collections[t+"images"];return l.call(this),D},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(D){return typeof i["process"+D.toUpperCase()]=="function"},g=function(D){return mr(D)==="object"&&D.nodeType===1},p=function(D,z){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var U=""+D.getAttribute("src");if(U.indexOf("data:image/")===0)return K0(unescape(U).split("base64,").pop());var Q=i.loadFile(U,!0);if(Q!==void 0)return Q}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var pt;switch(z){case"PNG":pt="image/png";break;case"WEBP":pt="image/webp";break;default:pt="image/jpeg"}return K0(D.toDataURL(pt,1).split("base64,").pop())}},v=function(D){var z=this.internal.collections[t+"images"];if(z){for(var U in z)if(D===z[U].alias)return z[U]}},y=function(D,z,U){return D||z||(D=-96,z=-96),D<0&&(D=-1*U.width*72/D/this.internal.scaleFactor),z<0&&(z=-1*U.height*72/z/this.internal.scaleFactor),D===0&&(D=z*U.width/U.height),z===0&&(z=D*U.height/U.width),[D,z]},A=function(D,z,U,Q,pt,Z){var $=y.call(this,U,Q,pt),st=this.internal.getCoordinateString,rt=this.internal.getVerticalCoordinateString,ot=c.call(this);if(U=$[0],Q=$[1],ot[pt.index]=pt,Z){Z*=Math.PI/180;var q=Math.cos(Z),I=Math.sin(Z),W=function(lt){return lt.toFixed(4)},nt=[W(q),W(I),W(-1*I),W(q),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,st(D),rt(z+Q),"cm"].join(" ")),this.internal.write(nt.join(" ")),this.internal.write([st(U),"0","0",st(Q),"0","0","cm"].join(" "))):this.internal.write([st(U),"0","0",st(Q),st(D),rt(z+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pt.index+" Do"),this.internal.write("Q")},w=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=i.__addimage__.sHashCode=function(D){var z,U,Q=0;if(typeof D=="string")for(U=D.length,z=0;z<U;z++)Q=(Q<<5)-Q+D.charCodeAt(z),Q|=0;else if(R(D))for(U=D.byteLength/2,z=0;z<U;z++)Q=(Q<<5)-Q+D[z],Q|=0;return Q},k=i.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var z=!0;return D.length===0&&(z=!1),D.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(z=!1),z},L=i.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var z=D.indexOf(",");return z<0?null:D.substring(0,z).trim().endsWith("base64")?D.substring(z+1):null};i.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var R=i.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},M=i.__addimage__.binaryStringToUint8Array=function(D){for(var z=D.length,U=new Uint8Array(z),Q=0;Q<z;Q++)U[Q]=D.charCodeAt(Q);return U},j=i.__addimage__.arrayBufferToBinaryString=function(D){for(var z="",U=R(D)?D:new Uint8Array(D),Q=0;Q<U.length;Q+=8192)z+=String.fromCharCode.apply(null,U.subarray(Q,Q+8192));return z};i.addImage=function(){var D,z,U,Q,pt,Z,$,st,rt;if(typeof arguments[1]=="number"?(z=e,U=arguments[1],Q=arguments[2],pt=arguments[3],Z=arguments[4],$=arguments[5],st=arguments[6],rt=arguments[7]):(z=arguments[1],U=arguments[2],Q=arguments[3],pt=arguments[4],Z=arguments[5],$=arguments[6],st=arguments[7],rt=arguments[8]),mr(D=arguments[0])==="object"&&!g(D)&&"imageData"in D){var ot=D;D=ot.imageData,z=ot.format||z||e,U=ot.x||U||0,Q=ot.y||Q||0,pt=ot.w||ot.width||pt,Z=ot.h||ot.height||Z,$=ot.alias||$,st=ot.compression||st,rt=ot.rotation||ot.angle||rt}var q=this.internal.getFilters();if(st===void 0&&q.indexOf("FlateEncode")!==-1&&(st="SLOW"),isNaN(U)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=B.call(this,D,z,$,st);return A.call(this,U,Q,pt,Z,I,rt),this};var B=function(D,z,U,Q){var pt,Z,$;if(typeof D=="string"&&r(D)===e){D=unescape(D);var st=X(D,!1);(st!==""||(st=i.loadFile(D,!0))!==void 0)&&(D=st)}if(g(D)&&(D=p(D,z)),z=r(D,z),!f(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if((($=U)==null||$.length===0)&&(U=(function(rt){return typeof rt=="string"||R(rt)?E(rt):R(rt.data)?E(rt.data):null})(D)),(pt=v.call(this,U))||(D instanceof Uint8Array||z==="RGBA"||(Z=D,D=M(D)),pt=this["process"+z.toUpperCase()](D,u.call(this),U,(function(rt){return rt&&typeof rt=="string"&&(rt=rt.toUpperCase()),rt in i.image_compression?rt:C.NONE})(Q),Z)),!pt)throw new Error("An unknown error occurred whilst processing the image.");return pt},X=i.__addimage__.convertBase64ToBinaryString=function(D,z){z=typeof z!="boolean"||z;var U,Q="";if(typeof D=="string"){var pt;U=(pt=L(D))!==null&&pt!==void 0?pt:D;try{Q=K0(U)}catch(Z){if(z)throw k(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};i.getImageProperties=function(D){var z,U,Q="";if(g(D)&&(D=p(D)),typeof D=="string"&&r(D)===e&&((Q=X(D,!1))===""&&(Q=i.loadFile(D)||""),D=Q),U=r(D),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(D instanceof Uint8Array||(D=M(D)),!(z=this["process"+U.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=U,z}})(Ge.API),(function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Ge.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(C))+") >>",y.content=s;var E=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var L=this.annotations._nameMap[n.options.name];n.options.pageNumber=L.page,n.options.top=L.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(e),y:c(n),w:l(e+r),h:c(n+s)},options:a,type:"link"})},i.textWithLink=function(e,n,r,s){var a,o,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(e,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(e,n,r,s),r+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,r-c,o,a,s),l},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}})(Ge.API),(function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},a=i.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=i.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},l=i.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&r.indexOf(y.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var c=i.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var u=i.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length==4},f=i.__arabicParser__.resolveLigatures=function(y){var A=0,w=e,C="",E=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(E++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=e,E=0),A===y.length-1&&(w=e,C+=y.charAt(A-(E-1)),A-=E-1,E=0)):(w=e,C+=y.charAt(A-E),A-=E,E=0);return C};i.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=i.__arabicParser__.getCorrectForm=function(y,A,w){return a(y)?s(y)===!1?-1:!c(y)||!a(A)&&!a(w)||!a(w)&&o(A)||o(y)&&!a(A)||o(y)&&l(A)||o(y)&&o(A)?0:u(y)&&a(A)&&!o(A)&&a(w)&&c(w)?3:o(y)||!a(w)?1:2:-1},p=function(y){var A=0,w=0,C=0,E="",k="",L="",R=(y=y||"").split("\\s+"),M=[];for(A=0;A<R.length;A+=1){for(M.push(""),w=0;w<R[A].length;w+=1)E=R[A][w],k=R[A][w-1],L=R[A][w+1],a(E)?(C=g(E,k,L),M[A]+=C!==-1?String.fromCharCode(t[E.charCodeAt(0)][C]):E):M[A]+=E;M[A]=f(M[A])}return M.join(" ")},v=i.__arabicParser__.processArabic=i.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([p(A[C][0]),A[C][1],A[C][2]]):w.push([p(A[C])]);y=w}else y=p(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};i.events.push(["preProcessText",v])})(Ge.API),Ge.API.autoPrint=function(i){var t;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(o){e=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ge.API),(function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},i.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,v=0,y=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,k){return E.concat(A.splitTextToSize(k,w))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)p<(y=this.getStringUnitWidth(l[C],{font:f})*u)&&(p=y);return p!==0&&(v=l.length),{w:p/=g,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=i.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};i.table=function(l,c,u,f,g){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,v,y,A,w=[],C=[],E=[],k={},L={},R=[],M=[],j=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,X=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,D=g.margins||Object.assign({width:this.getPageWidth()},t),z=typeof g.padding=="number"?g.padding:3,U=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=Q,this.setFontSize(X),f==null)C=w=Object.keys(u[0]),E=w.map(function(){return"left"});else if(Array.isArray(f)&&mr(f[0])==="object")for(w=f.map(function(ot){return ot.name}),C=f.map(function(ot){return ot.prompt||ot.name||""}),E=f.map(function(ot){return ot.align||"left"}),p=0;p<f.length;p+=1)L[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(C=w=f,E=w.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(k[A=w[p]]=u.map(function(ot){return ot[A]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(C[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[A],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)R.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[A]=Math.max.apply(null,R)+z+z,R=[]}if(B){var pt={};for(p=0;p<w.length;p+=1)pt[w[p]]={},pt[w[p]].text=C[p],pt[w[p]].align=E[p];var Z=o.call(this,pt,L);M=w.map(function(ot){return new s(l,c,L[ot],Z,pt[ot].text,void 0,pt[ot].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var $=f.reduce(function(ot,q){return ot[q.name]=q.align,ot},{});for(p=0;p<u.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:u[p]},this);var st=o.call(this,u[p],L);for(y=0;y<w.length;y+=1){var rt=u[p][w[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:y,data:rt},this),a.call(this,new s(l,c,L[w[y]],st,rt,p+2,$[w[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/g+u+u},this).reduce(function(p,v){return Math.max(p,v)},0)};i.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},i.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}})(Ge.API);var L_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sb=T_(N_),F_=[100,200,300,400,500,600,700,800,900],g8=T_(F_);function xy(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=(function(s){return L_[s=s||"normal"]?s:"normal"})(i.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(i.weight),r=(function(s){return typeof Sb[s=s||"normal"]=="number"?s:"normal"})(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function eS(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var m8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rS(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function iS(i){return i.trimLeft()}function v8(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function y8(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var N0,sS,aS,Rd,F0,oS,lS,cS,Sy=["times"];function hS(i,t,e,n,r){var s=4,a=dS;switch(r){case Ge.API.image_compression.FAST:s=1,a=uS;break;case Ge.API.image_compression.MEDIUM:s=6,a=fS;break;case Ge.API.image_compression.SLOW:s=9,a=pS}i=(function(l,c,u,f){for(var g,p=l.length/c,v=new Uint8Array(l.length+p),y=[b8,uS,dS,fS,pS],A=0;A<p;A+=1){var w=A*c,C=l.subarray(w,w+c);if(f)v.set(f(C,u,g),w+A);else{for(var E=y.length,k=[],L=0;L<E;L+=1)k[L]=y[L](C,u,g);var R=A8(k.concat());v.set(k[R],w+A)}g=C}return v})(i,t,Math.ceil(e*n/8),a);var o=mb(i,{level:s});return Ge.API.__addimage__.arrayBufferToBinaryString(o)}function b8(i){var t=Array.apply([],i);return t.unshift(0),t}function uS(i,t){var e=i.length,n=[];n[0]=1;for(var r=0;r<e;r+=1){var s=i[r-t]||0;n[r+1]=i[r]-s+256&255}return n}function dS(i,t,e){var n=i.length,r=[];r[0]=2;for(var s=0;s<n;s+=1){var a=e&&e[s]||0;r[s+1]=i[s]-a+256&255}return r}function fS(i,t,e){var n=i.length,r=[];r[0]=3;for(var s=0;s<n;s+=1){var a=i[s-t]||0,o=e&&e[s]||0;r[s+1]=i[s]+256-(a+o>>>1)&255}return r}function pS(i,t,e){var n=i.length,r=[];r[0]=4;for(var s=0;s<n;s+=1){var a=w8(i[s-t]||0,e&&e[s]||0,e&&e[s-t]||0);r[s+1]=i[s]-a+256&255}return r}function w8(i,t,e){if(i===t&&t===e)return i;var n=Math.abs(t-e),r=Math.abs(i-e),s=Math.abs(i+t-e-e);return n<=r&&n<=s?i:r<=s?t:e}function A8(i){var t=i.map(function(e){return e.reduce(function(n,r){return n+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function Ey(i,t,e){var n=t*e,r=Math.floor(n/8),s=16-(n-8*r+e),a=(1<<e)-1;return R_(i,r)>>s&a}function gS(i,t,e,n){var r=e*n,s=Math.floor(r/8),a=16-(r-8*s+n),o=(1<<n)-1,l=(t&o)<<a;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var g=f>>8&255;c.setUint8(u,g)}})(i,s,R_(i,s)&~(o<<a)&65535|l)}function R_(i,t){return t+1<i.byteLength?i.getUint16(t,!1):i.getUint8(t)<<8}function x8(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],s=r>>7,a=1<<1+(7&r);i[t++],i[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,u=[],f=0,g=null,p=0,v=null;for(this.width=e,this.height=n;c&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,v=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((D=i[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=i[t++];f=i[t++]|i[t++]<<8,g=i[t++],1&y||(g=null),p=y>>2&7,t++;break;case 254:for(;;){if(!((D=i[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var A=i[t++]|i[t++]<<8,w=i[t++]|i[t++]<<8,C=i[t++]|i[t++]<<8,E=i[t++]|i[t++]<<8,k=i[t++],L=k>>6&1,R=1<<1+(7&k),M=o,j=l,B=!1;k>>7&&(B=!0,M=t,j=R,t+=3*R);var X=t;for(t++;;){var D;if(!((D=i[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}u.push({x:A,y:w,width:C,height:E,has_local_palette:B,palette_offset:M,palette_size:j,data_offset:X,data_length:t-X,transparent_index:g,interlaced:!!L,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(z){if(z<0||z>=u.length)throw new Error("Frame index out of range.");return u[z]},this.decodeAndBlitFrameBGRA=function(z,U){var Q=this.frameInfo(z),pt=Q.width*Q.height,Z=new Uint8Array(pt);mS(i,Q.data_offset,Z,pt);var $=Q.palette_offset,st=Q.transparent_index;st===null&&(st=256);var rt=Q.width,ot=e-rt,q=rt,I=4*(Q.y*e+Q.x),W=4*((Q.y+Q.height)*e+Q.x),nt=I,lt=4*ot;Q.interlaced===!0&&(lt+=4*e*7);for(var dt=8,mt=0,yt=Z.length;mt<yt;++mt){var _t=Z[mt];if(q===0&&(q=rt,(nt+=lt)>=W&&(lt=4*ot+4*e*(dt-1),nt=I+(rt+ot)*(dt<<1),dt>>=1)),_t===st)nt+=4;else{var Ot=i[$+3*_t],Xt=i[$+3*_t+1],ee=i[$+3*_t+2];U[nt++]=ee,U[nt++]=Xt,U[nt++]=Ot,U[nt++]=255}--q}},this.decodeAndBlitFrameRGBA=function(z,U){var Q=this.frameInfo(z),pt=Q.width*Q.height,Z=new Uint8Array(pt);mS(i,Q.data_offset,Z,pt);var $=Q.palette_offset,st=Q.transparent_index;st===null&&(st=256);var rt=Q.width,ot=e-rt,q=rt,I=4*(Q.y*e+Q.x),W=4*((Q.y+Q.height)*e+Q.x),nt=I,lt=4*ot;Q.interlaced===!0&&(lt+=4*e*7);for(var dt=8,mt=0,yt=Z.length;mt<yt;++mt){var _t=Z[mt];if(q===0&&(q=rt,(nt+=lt)>=W&&(lt=4*ot+4*e*(dt-1),nt=I+(rt+ot)*(dt<<1),dt>>=1)),_t===st)nt+=4;else{var Ot=i[$+3*_t],Xt=i[$+3*_t+1],ee=i[$+3*_t+2];U[nt++]=Ot,U[nt++]=Xt,U[nt++]=ee,U[nt++]=255}--q}}}function mS(i,t,e,n){for(var r=i[t++],s=1<<r,a=s+1,o=a+1,l=r+1,c=(1<<l)-1,u=0,f=0,g=0,p=i[t++],v=new Int32Array(4096),y=null;;){for(;u<16&&p!==0;)f|=i[t++]<<u,u+=8,p===1?p=i[t++]:--p;if(u<l)break;var A=f&c;if(f>>=l,u-=l,A!==s){if(A===a)break;for(var w=A<o?A:y,C=0,E=w;E>s;)E=v[E]>>8,++C;var k=E;if(g+C+(w!==A?1:0)>n)return void kr.log("Warning, gif stream longer than expected.");e[g++]=k;var L=g+=C;for(w!==A&&(e[g++]=k),E=w;C--;)E=v[E],e[--L]=255&E,E>>=8;y!==null&&o<4096&&(v[o++]=y<<8|k,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=A}else o=a+1,c=(1<<(l=r+1))-1,y=null}return g!==n&&kr.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Cy(i){var t,e,n,r,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),g=new Array(65535),p=new Array(64),v=new Array(64),y=[],A=0,w=7,C=new Array(64),E=new Array(64),k=new Array(64),L=new Array(256),R=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(I,W){for(var nt=0,lt=0,dt=new Array,mt=1;mt<=16;mt++){for(var yt=1;yt<=I[mt];yt++)dt[W[lt]]=[],dt[W[lt]][0]=nt,dt[W[lt]][1]=mt,lt++,nt++;nt*=2}return dt}function $(I){for(var W=I[0],nt=I[1]-1;nt>=0;)W&1<<nt&&(A|=1<<w),nt--,--w<0&&(A==255?(st(255),st(0)):st(A),w=7,A=0)}function st(I){y.push(I)}function rt(I){st(I>>8&255),st(255&I)}function ot(I,W,nt,lt,dt){for(var mt,yt=dt[0],_t=dt[240],Ot=(function(Jt,ye){var ce,Re,Ce,yn,qe,Ke,Ln,Ie,Ee,Ue,tt=0;for(Ee=0;Ee<8;++Ee){ce=Jt[tt],Re=Jt[tt+1],Ce=Jt[tt+2],yn=Jt[tt+3],qe=Jt[tt+4],Ke=Jt[tt+5],Ln=Jt[tt+6];var Kt=ce+(Ie=Jt[tt+7]),Qt=ce-Ie,Yt=Re+Ln,At=Re-Ln,Bt=Ce+Ke,H=Ce-Ke,qt=yn+qe,he=yn-qe,N=Kt+qt,Nt=Kt-qt,Lt=Yt+Bt,K=Yt-Bt;Jt[tt]=N+Lt,Jt[tt+4]=N-Lt;var wt=.707106781*(K+Nt);Jt[tt+2]=Nt+wt,Jt[tt+6]=Nt-wt;var Mt=.382683433*((N=he+H)-(K=At+Qt)),xe=.5411961*N+Mt,be=1.306562965*K+Mt,Ae=.707106781*(Lt=H+At),ve=Qt+Ae,Rr=Qt-Ae;Jt[tt+5]=Rr+xe,Jt[tt+3]=Rr-xe,Jt[tt+1]=ve+be,Jt[tt+7]=ve-be,tt+=8}for(tt=0,Ee=0;Ee<8;++Ee){ce=Jt[tt],Re=Jt[tt+8],Ce=Jt[tt+16],yn=Jt[tt+24],qe=Jt[tt+32],Ke=Jt[tt+40],Ln=Jt[tt+48];var Bn=ce+(Ie=Jt[tt+56]),Ye=ce-Ie,Xn=Re+Ln,bn=Re-Ln,Rn=Ce+Ke,Sr=Ce-Ke,bs=yn+qe,nr=yn-qe,Pr=Bn+bs,or=Bn-bs,ur=Xn+Rn,Ir=Xn-Rn;Jt[tt]=Pr+ur,Jt[tt+32]=Pr-ur;var Xi=.707106781*(Ir+or);Jt[tt+16]=or+Xi,Jt[tt+48]=or-Xi;var Bl=.382683433*((Pr=nr+Sr)-(Ir=bn+Ye)),Ca=.5411961*Pr+Bl,il=1.306562965*Ir+Bl,jl=.707106781*(ur=Sr+bn),zl=Ye+jl,Mc=Ye-jl;Jt[tt+40]=Mc+Ca,Jt[tt+24]=Mc-Ca,Jt[tt+8]=zl+il,Jt[tt+56]=zl-il,tt++}for(Ee=0;Ee<64;++Ee)Ue=Jt[Ee]*ye[Ee],p[Ee]=Ue>0?Ue+.5|0:Ue-.5|0;return p})(I,W),Xt=0;Xt<64;++Xt)v[M[Xt]]=Ot[Xt];var ee=v[0]-nt;nt=v[0],ee==0?$(lt[0]):($(lt[g[mt=32767+ee]]),$(f[mt]));for(var le=63;le>0&&v[le]==0;)le--;if(le==0)return $(yt),nt;for(var zt,vt=1;vt<=le;){for(var de=vt;v[vt]==0&&vt<=le;)++vt;var re=vt-de;if(re>=16){zt=re>>4;for(var ne=1;ne<=zt;++ne)$(_t);re&=15}mt=32767+v[vt],$(dt[(re<<4)+g[mt]]),$(f[mt]),vt++}return le!=63&&$(yt),nt}function q(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(W){for(var nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],lt=0;lt<64;lt++){var dt=a((nt[lt]*W+50)/100);dt=Math.min(Math.max(dt,1),255),o[M[lt]]=dt}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yt=0;yt<64;yt++){var _t=a((mt[yt]*W+50)/100);_t=Math.min(Math.max(_t,1),255),l[M[yt]]=_t}for(var Ot=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,ee=0;ee<8;ee++)for(var le=0;le<8;le++)c[Xt]=1/(o[M[Xt]]*Ot[ee]*Ot[le]*8),u[Xt]=1/(l[M[Xt]]*Ot[ee]*Ot[le]*8),Xt++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,W){W&&q(W),y=new Array,A=0,w=7,rt(65496),rt(65504),rt(16),st(74),st(70),st(73),st(70),st(0),st(1),st(1),st(0),rt(1),rt(1),st(0),st(0),(function(){rt(65499),rt(132),st(0);for(var Re=0;Re<64;Re++)st(o[Re]);st(1);for(var Ce=0;Ce<64;Ce++)st(l[Ce])})(),(function(Re,Ce){rt(65472),rt(17),st(8),rt(Ce),rt(Re),st(3),st(1),st(17),st(0),st(2),st(17),st(1),st(3),st(17),st(1)})(I.width,I.height),(function(){rt(65476),rt(418),st(0);for(var Re=0;Re<16;Re++)st(j[Re+1]);for(var Ce=0;Ce<=11;Ce++)st(B[Ce]);st(16);for(var yn=0;yn<16;yn++)st(X[yn+1]);for(var qe=0;qe<=161;qe++)st(D[qe]);st(1);for(var Ke=0;Ke<16;Ke++)st(z[Ke+1]);for(var Ln=0;Ln<=11;Ln++)st(U[Ln]);st(17);for(var Ie=0;Ie<16;Ie++)st(Q[Ie+1]);for(var Ee=0;Ee<=161;Ee++)st(pt[Ee])})(),rt(65498),rt(12),st(3),st(1),st(0),st(2),st(17),st(3),st(17),st(0),st(63),st(0);var nt=0,lt=0,dt=0;A=0,w=7,this.encode.displayName="_encode_";for(var mt,yt,_t,Ot,Xt,ee,le,zt,vt,de=I.data,re=I.width,ne=I.height,Jt=4*re,ye=0;ye<ne;){for(mt=0;mt<Jt;){for(Xt=Jt*ye+mt,le=-1,zt=0,vt=0;vt<64;vt++)ee=Xt+(zt=vt>>3)*Jt+(le=4*(7&vt)),ye+zt>=ne&&(ee-=Jt*(ye+1+zt-ne)),mt+le>=Jt&&(ee-=mt+le-Jt+4),yt=de[ee++],_t=de[ee++],Ot=de[ee++],C[vt]=(R[yt]+R[_t+256|0]+R[Ot+512|0]>>16)-128,E[vt]=(R[yt+768|0]+R[_t+1024|0]+R[Ot+1280|0]>>16)-128,k[vt]=(R[yt+1280|0]+R[_t+1536|0]+R[Ot+1792|0]>>16)-128;nt=ot(C,c,nt,t,n),lt=ot(E,u,lt,e,r),dt=ot(k,u,dt,e,r),mt+=32}ye+=8}if(w>=0){var ce=[];ce[1]=w+1,ce[0]=(1<<w+1)-1,$(ce)}return rt(65497),new Uint8Array(y)},i=i||50,(function(){for(var I=String.fromCharCode,W=0;W<256;W++)L[W]=I(W)})(),t=Z(j,B),e=Z(z,U),n=Z(X,D),r=Z(Q,pt),(function(){for(var I=1,W=2,nt=1;nt<=15;nt++){for(var lt=I;lt<W;lt++)g[32767+lt]=nt,f[32767+lt]=[],f[32767+lt][1]=nt,f[32767+lt][0]=lt;for(var dt=-(W-1);dt<=-I;dt++)g[32767+dt]=nt,f[32767+dt]=[],f[32767+dt][1]=nt,f[32767+dt][0]=W-1+dt;I<<=1,W<<=1}})(),(function(){for(var I=0;I<256;I++)R[I]=19595*I,R[I+256|0]=38470*I,R[I+512|0]=7471*I+32768,R[I+768|0]=-11059*I,R[I+1024|0]=-21709*I,R[I+1280|0]=32768*I+8421375,R[I+1536|0]=-27439*I,R[I+1792|0]=-5329*I})(),q(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ko(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vS(i){function t(B){if(!B)throw Error("assert :P")}function e(B,X,D){for(var z=0;4>z;z++)if(B[X+z]!=D.charCodeAt(z))return!0;return!1}function n(B,X,D,z,U){for(var Q=0;Q<U;Q++)B[X+Q]=D[z+Q]}function r(B,X,D,z){for(var U=0;U<z;U++)B[X+U]=D}function s(B){return new Int32Array(B)}function a(B,X){for(var D=[],z=0;z<B;z++)D.push(new X);return D}function o(B,X){var D=[];return(function z(U,Q,pt){for(var Z=pt[Q],$=0;$<Z&&(U.push(pt.length>Q+1?[]:new X),!(pt.length<Q+1));$++)z(U[$],Q+1,pt)})(D,0,B),D}var l=function(){var B=this;function X(b,S){for(var T=1<<S-1>>>0;b&T;)T>>>=1;return T?(b&T-1)+T:b}function D(b,S,T,O,V){t(!(O%T));do b[S+(O-=T)]=V;while(0<O)}function z(b,S,T,O,V){if(t(2328>=V),512>=V)var J=s(512);else if((J=s(V))==null)return 0;return(function(et,it,at,ht,St,Rt){var ut,Ct,Tt=it,Gt=1<<at,Dt=s(16),Wt=s(16);for(t(St!=0),t(ht!=null),t(et!=null),t(0<at),Ct=0;Ct<St;++Ct){if(15<ht[Ct])return 0;++Dt[ht[Ct]]}if(Dt[0]==St)return 0;for(Wt[1]=0,ut=1;15>ut;++ut){if(Dt[ut]>1<<ut)return 0;Wt[ut+1]=Wt[ut]+Dt[ut]}for(Ct=0;Ct<St;++Ct)ut=ht[Ct],0<ht[Ct]&&(Rt[Wt[ut]++]=Ct);if(Wt[15]==1)return(ht=new U).g=0,ht.value=Rt[0],D(et,Tt,1,Gt,ht),Gt;var Vt,$t=-1,te=Gt-1,ze=0,ke=1,wn=1,Fe=1<<at;for(Ct=0,ut=1,St=2;ut<=at;++ut,St<<=1){if(ke+=wn<<=1,0>(wn-=Dt[ut]))return 0;for(;0<Dt[ut];--Dt[ut])(ht=new U).g=ut,ht.value=Rt[Ct++],D(et,Tt+ze,St,Fe,ht),ze=X(ze,ut)}for(ut=at+1,St=2;15>=ut;++ut,St<<=1){if(ke+=wn<<=1,0>(wn-=Dt[ut]))return 0;for(;0<Dt[ut];--Dt[ut]){if(ht=new U,(ze&te)!=$t){for(Tt+=Fe,Vt=1<<($t=ut)-at;15>$t&&!(0>=(Vt-=Dt[$t]));)++$t,Vt<<=1;Gt+=Fe=1<<(Vt=$t-at),et[it+($t=ze&te)].g=Vt+at,et[it+$t].value=Tt-it-$t}ht.g=ut-at,ht.value=Rt[Ct++],D(et,Tt+(ze>>at),St,Fe,ht),ze=X(ze,ut)}}return ke!=2*Wt[15]-1?0:Gt})(b,S,T,O,V,J)}function U(){this.value=this.g=0}function Q(){this.value=this.g=0}function pt(){this.G=a(5,U),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ha,Q)}function Z(b,S,T,O){t(b!=null),t(S!=null),t(2147483648>O),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=T,b.Jd=S,b.Yc=T+O,b.Zc=4<=O?T+O-4+1:T,yt(b)}function $(b,S){for(var T=0;0<S--;)T|=Ot(b,128)<<S;return T}function st(b,S){var T=$(b,S);return _t(b)?-T:T}function rt(b,S,T,O){var V,J=0;for(t(b!=null),t(S!=null),t(4294967288>O),b.Sb=O,b.Ra=0,b.u=0,b.h=0,4<O&&(O=4),V=0;V<O;++V)J+=S[T+V]<<8*V;b.Ra=J,b.bb=O,b.oa=S,b.pa=T}function ot(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<hl-8>>>0,++b.bb,b.u-=8;lt(b)&&(b.h=1,b.u=0)}function q(b,S){if(t(0<=S),!b.h&&S<=qs){var T=nt(b)&Hs[S];return b.u+=S,ot(b),T}return b.h=1,b.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function nt(b){return b.Ra>>>(b.u&hl-1)>>>0}function lt(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>hl}function dt(b,S){b.u=S,b.h=lt(b)}function mt(b){b.u>=eo&&(t(b.u>=eo),ot(b))}function yt(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function _t(b){return $(b,1)}function Ot(b,S){var T=b.Ca;0>b.b&&yt(b);var O=b.b,V=T*S>>>8,J=(b.I>>>O>V)+0;for(J?(T-=V,b.I-=V+1<<O>>>0):T=V+1,O=T,V=0;256<=O;)V+=8,O>>=8;return O=7^V+Io[O],b.b-=O,b.Ca=(T<<O)-1,J}function Xt(b,S,T){b[S+0]=T>>24&255,b[S+1]=T>>16&255,b[S+2]=T>>8&255,b[S+3]=255&T}function ee(b,S){return b[S+0]|b[S+1]<<8}function le(b,S){return ee(b,S)|b[S+2]<<16}function zt(b,S){return ee(b,S)|ee(b,S+2)<<16}function vt(b,S){var T=1<<S;return t(b!=null),t(0<S),b.X=s(T),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function de(b,S){t(b!=null),t(S!=null),t(b.Xa==S.Xa),n(S.X,0,b.X,0,1<<S.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function ne(b,S,T,O){t(T!=null),t(O!=null);var V=T[0],J=O[0];return V==0&&(V=(b*J+S/2)/S),J==0&&(J=(S*V+b/2)/b),0>=V||0>=J?0:(T[0]=V,O[0]=J,1)}function Jt(b,S){return b+(1<<S)-1>>>S}function ye(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function ce(b,S){B[S]=function(T,O,V,J,et,it,at){var ht;for(ht=0;ht<et;++ht){var St=B[b](it[at+ht-1],V,J+ht);it[at+ht]=ye(T[O+ht],St)}}}function Re(){this.ud=this.hd=this.jd=0}function Ce(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function yn(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function qe(b,S){return yn(b+(b-S+.5>>1))}function Ke(b,S,T){return Math.abs(S-T)-Math.abs(b-T)}function Ln(b,S,T,O,V,J,et){for(O=J[et-1],T=0;T<V;++T)J[et+T]=O=ye(b[S+T],O)}function Ie(b,S,T,O,V){var J;for(J=0;J<T;++J){var et=b[S+J],it=et>>8&255,at=16711935&(at=(at=16711935&et)+((it<<16)+it));O[V+J]=(4278255360&et)+at>>>0}}function Ee(b,S){S.jd=255&b,S.hd=b>>8&255,S.ud=b>>16&255}function Ue(b,S,T,O,V,J){var et;for(et=0;et<O;++et){var it=S[T+et],at=it>>>8,ht=it,St=255&(St=(St=it>>>16)+((b.jd<<24>>24)*(at<<24>>24)>>>5));ht=255&(ht=(ht+=(b.hd<<24>>24)*(at<<24>>24)>>>5)+((b.ud<<24>>24)*(St<<24>>24)>>>5)),V[J+et]=(4278255360&it)+(St<<16)+ht}}function tt(b,S,T,O,V){B[S]=function(J,et,it,at,ht,St,Rt,ut,Ct){for(at=Rt;at<ut;++at)for(Rt=0;Rt<Ct;++Rt)ht[St++]=V(it[O(J[et++])])},B[b]=function(J,et,it,at,ht,St,Rt){var ut=8>>J.b,Ct=J.Ea,Tt=J.K[0],Gt=J.w;if(8>ut)for(J=(1<<J.b)-1,Gt=(1<<ut)-1;et<it;++et){var Dt,Wt=0;for(Dt=0;Dt<Ct;++Dt)Dt&J||(Wt=O(at[ht++])),St[Rt++]=V(Tt[Wt&Gt]),Wt>>=ut}else B["VP8LMapColor"+T](at,ht,Tt,Gt,St,Rt,et,it,Ct)}}function Kt(b,S,T,O,V){for(T=S+T;S<T;){var J=b[S++];O[V++]=J>>16&255,O[V++]=J>>8&255,O[V++]=255&J}}function Qt(b,S,T,O,V){for(T=S+T;S<T;){var J=b[S++];O[V++]=J>>16&255,O[V++]=J>>8&255,O[V++]=255&J,O[V++]=J>>24&255}}function Yt(b,S,T,O,V){for(T=S+T;S<T;){var J=(et=b[S++])>>16&240|et>>12&15,et=240&et|et>>28&15;O[V++]=J,O[V++]=et}}function At(b,S,T,O,V){for(T=S+T;S<T;){var J=(et=b[S++])>>16&248|et>>13&7,et=et>>5&224|et>>3&31;O[V++]=J,O[V++]=et}}function Bt(b,S,T,O,V){for(T=S+T;S<T;){var J=b[S++];O[V++]=255&J,O[V++]=J>>8&255,O[V++]=J>>16&255}}function H(b,S,T,O,V,J){if(J==0)for(T=S+T;S<T;)Xt(O,((J=b[S++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),V+=32;else n(O,V,b,S,T)}function qt(b,S){B[S][0]=B[b+"0"],B[S][1]=B[b+"1"],B[S][2]=B[b+"2"],B[S][3]=B[b+"3"],B[S][4]=B[b+"4"],B[S][5]=B[b+"5"],B[S][6]=B[b+"6"],B[S][7]=B[b+"7"],B[S][8]=B[b+"8"],B[S][9]=B[b+"9"],B[S][10]=B[b+"10"],B[S][11]=B[b+"11"],B[S][12]=B[b+"12"],B[S][13]=B[b+"13"],B[S][14]=B[b+"0"],B[S][15]=B[b+"0"]}function he(b){return b==Qc||b==cc||b==tu||b==eu}function N(){this.eb=[],this.size=this.A=this.fb=0}function Nt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new N,this.f.kb=new Nt,this.sd=null}function K(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function xe(b,S){var T=b.T,O=S.ba.f.RGBA,V=O.eb,J=O.fb+b.ka*O.A,et=Cs[S.ba.S],it=b.y,at=b.O,ht=b.f,St=b.N,Rt=b.ea,ut=b.W,Ct=S.cc,Tt=S.dc,Gt=S.Mc,Dt=S.Nc,Wt=b.ka,Vt=b.ka+b.T,$t=b.U,te=$t+1>>1;for(Wt==0?et(it,at,null,null,ht,St,Rt,ut,ht,St,Rt,ut,V,J,null,null,$t):(et(S.ec,S.fc,it,at,Ct,Tt,Gt,Dt,ht,St,Rt,ut,V,J-O.A,V,J,$t),++T);Wt+2<Vt;Wt+=2)Ct=ht,Tt=St,Gt=Rt,Dt=ut,St+=b.Rc,ut+=b.Rc,J+=2*O.A,et(it,(at+=2*b.fa)-b.fa,it,at,Ct,Tt,Gt,Dt,ht,St,Rt,ut,V,J-O.A,V,J,$t);return at+=b.fa,b.j+Vt<b.o?(n(S.ec,S.fc,it,at,$t),n(S.cc,S.dc,ht,St,te),n(S.Mc,S.Nc,Rt,ut,te),T--):1&Vt||et(it,at,null,null,ht,St,Rt,ut,ht,St,Rt,ut,V,J+O.A,null,null,$t),T}function be(b,S,T){var O=b.F,V=[b.J];if(O!=null){var J=b.U,et=S.ba.S,it=et==$h||et==tu;S=S.ba.f.RGBA;var at=[0],ht=b.ka;at[0]=b.T,b.Kb&&(ht==0?--at[0]:(--ht,V[0]-=b.width),b.j+b.ka+b.T==b.o&&(at[0]=b.o-b.j-ht));var St=S.eb;ht=S.fb+ht*S.A,b=Jh(O,V[0],b.width,J,at,St,ht+(it?0:3),S.A),t(T==at),b&&he(et)&&lc(St,ht,it,J,at,S.A)}return 0}function Ae(b){var S=b.ma,T=S.ba.S,O=11>T,V=T==pl||T==Qh||T==$h||T==dr||T==12||he(T);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Vc(S.Oa,b,V?11:12))return 0;if(V&&he(T)&&ed(),b.da)alert("todo:use_scaling");else{if(O){if(S.Ib=Mt,b.Kb){if(T=b.U+1>>1,S.memory=s(b.U+2*T),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+T,S.Ib=xe,ed()}}else alert("todo:EmitYUV");V&&(S.Jb=be,O&&ca())}if(O&&!Mi){for(b=0;256>b;++b)ks[b]=89858*(b-128)+Ra>>Bo,_s[b]=-22014*(b-128)+Ra,nh[b]=-45773*(b-128),fc[b]=113618*(b-128)+Ra>>Bo;for(b=rr;b<cr;++b)S=76283*(b-16)+Ra>>Bo,cd[b-rr]=jr(S,255),bg[b-rr]=jr(S+8>>4,15);Mi=1}return 1}function ve(b){var S=b.ma,T=b.U,O=b.T;return t(!(1&b.ka)),0>=T||0>=O?0:(T=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,T),S.Dc+=T,1)}function Rr(b){b.ma.memory=null}function Bn(b,S,T,O){return q(b,8)!=47?0:(S[0]=q(b,14)+1,T[0]=q(b,14)+1,O[0]=q(b,1),q(b,3)!=0?0:!b.h)}function Ye(b,S){if(4>b)return b+1;var T=b-2>>1;return(2+(1&b)<<T)+q(S,T)+1}function Xn(b,S){return 120<S?S-120:1<=(T=((T=av[S-1])>>4)*b+(8-(15&T)))?T:1;var T}function bn(b,S,T){var O=nt(T),V=b[S+=255&O].g-8;return 0<V&&(dt(T,T.u+8),O=nt(T),S+=b[S].value,S+=O&(1<<V)-1),dt(T,T.u+b[S].g),b[S].value}function Rn(b,S,T){return T.g+=b.g,T.value+=b.value<<S>>>0,t(8>=T.g),b.g}function Sr(b,S,T){var O=b.xc;return t((S=O==0?0:b.vc[b.md*(T>>O)+(S>>O)])<b.Wb),b.Ya[S]}function bs(b,S,T,O){var V=b.ab,J=b.c*S,et=b.C;S=et+S;var it=T,at=O;for(O=b.Ta,T=b.Ua;0<V--;){var ht=b.gc[V],St=et,Rt=S,ut=it,Ct=at,Tt=(at=O,it=T,ht.Ea);switch(t(St<Rt),t(Rt<=ht.nc),ht.hc){case 2:Zr(ut,Ct,(Rt-St)*Tt,at,it);break;case 0:var Gt=St,Dt=Rt,Wt=at,Vt=it,$t=(Fe=ht).Ea;Gt==0&&(Do(ut,Ct,null,null,1,Wt,Vt),Ln(ut,Ct+1,0,0,$t-1,Wt,Vt+1),Ct+=$t,Vt+=$t,++Gt);for(var te=1<<Fe.b,ze=te-1,ke=Jt($t,Fe.b),wn=Fe.K,Fe=Fe.w+(Gt>>Fe.b)*ke;Gt<Dt;){var In=wn,Hr=Fe,An=1;for(no(ut,Ct,Wt,Vt-$t,1,Wt,Vt);An<$t;){var _e=(An&~ze)+te;_e>$t&&(_e=$t),(0,ic[In[Hr++]>>8&15])(ut,Ct+ +An,Wt,Vt+An-$t,_e-An,Wt,Vt+An),An=_e}Ct+=$t,Vt+=$t,++Gt&ze||(Fe+=ke)}Rt!=ht.nc&&n(at,it-Tt,at,it+(Rt-St-1)*Tt,Tt);break;case 1:for(Tt=ut,Dt=Ct,$t=(ut=ht.Ea)-(Vt=ut&~(Wt=(Ct=1<<ht.b)-1)),Gt=Jt(ut,ht.b),te=ht.K,ht=ht.w+(St>>ht.b)*Gt;St<Rt;){for(ze=te,ke=ht,wn=new Re,Fe=Dt+Vt,In=Dt+ut;Dt<Fe;)Ee(ze[ke++],wn),Xc(wn,Tt,Dt,Ct,at,it),Dt+=Ct,it+=Ct;Dt<In&&(Ee(ze[ke++],wn),Xc(wn,Tt,Dt,$t,at,it),Dt+=$t,it+=$t),++St&Wt||(ht+=Gt)}break;case 3:if(ut==at&&Ct==it&&0<ht.b){for(Dt=at,ut=Tt=it+(Rt-St)*Tt-(Vt=(Rt-St)*Jt(ht.Ea,ht.b)),Ct=at,Wt=it,Gt=[],Vt=($t=Vt)-1;0<=Vt;--Vt)Gt[Vt]=Ct[Wt+Vt];for(Vt=$t-1;0<=Vt;--Vt)Dt[ut+Vt]=Gt[Vt];nc(ht,St,Rt,at,Tt,at,it)}else nc(ht,St,Rt,ut,Ct,at,it)}it=O,at=T}at!=T&&n(O,T,it,at,J)}function nr(b,S){var T=b.V,O=b.Ba+b.c*b.C,V=S-b.C;if(t(S<=b.l.o),t(16>=V),0<V){var J=b.l,et=b.Ta,it=b.Ua,at=J.width;if(bs(b,V,T,O),V=it=[it],t((T=b.C)<(O=S)),t(J.v<J.va),O>J.o&&(O=J.o),T<J.j){var ht=J.j-T;T=J.j,V[0]+=ht*at}if(T>=O?T=0:(V[0]+=4*J.v,J.ka=T-J.j,J.U=J.va-J.v,J.T=O-T,T=1),T){if(it=it[0],11>(T=b.ca).S){var St=T.f.RGBA,Rt=(O=T.S,V=J.U,J=J.T,ht=St.eb,St.A),ut=J;for(St=St.fb+b.Ma*St.A;0<ut--;){var Ct=et,Tt=it,Gt=V,Dt=ht,Wt=St;switch(O){case sd:Kc(Ct,Tt,Gt,Dt,Wt);break;case pl:Mo(Ct,Tt,Gt,Dt,Wt);break;case Qc:Mo(Ct,Tt,Gt,Dt,Wt),lc(Dt,Wt,0,Gt,1,0);break;case pg:sc(Ct,Tt,Gt,Dt,Wt);break;case Qh:H(Ct,Tt,Gt,Dt,Wt,1);break;case cc:H(Ct,Tt,Gt,Dt,Wt,1),lc(Dt,Wt,0,Gt,1,0);break;case $h:H(Ct,Tt,Gt,Dt,Wt,0);break;case tu:H(Ct,Tt,Gt,Dt,Wt,0),lc(Dt,Wt,1,Gt,1,0);break;case dr:ul(Ct,Tt,Gt,Dt,Wt);break;case eu:ul(Ct,Tt,Gt,Dt,Wt),xf(Dt,Wt,Gt,1,0);break;case ad:dl(Ct,Tt,Gt,Dt,Wt);break;default:t(0)}it+=at,St+=Rt}b.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=T.height)}}b.C=S,t(b.C<=b.i)}function Pr(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var T=b.Ya[S].G,O=b.Ya[S].H;if(0<T[1][O[1]+0].g||0<T[2][O[2]+0].g||0<T[3][O[3]+0].g)return 0}return 1}function or(b,S,T,O,V,J){if(b.Z!=0){var et=b.qd,it=b.rd;for(t(Ji[b.Z]!=null);S<T;++S)Ji[b.Z](et,it,O,V,O,V,J),et=O,it=V,V+=J;b.qd=et,b.rd=it}}function ur(b,S){var T=b.l.ma,O=T.Z==0||T.Z==1?b.l.j:b.C;if(O=b.C<O?O:b.C,t(S<=b.l.o),S>O){var V=b.l.width,J=T.ca,et=T.tb+V*O,it=b.V,at=b.Ba+b.c*O,ht=b.gc;t(b.ab==1),t(ht[0].hc==3),Na(ht[0],O,S,it,at,J,et),or(T,O,S,J,et,V)}b.C=b.Ma=S}function Ir(b,S,T,O,V,J,et){var it=b.$/O,at=b.$%O,ht=b.m,St=b.s,Rt=T+b.$,ut=Rt;V=T+O*V;var Ct=T+O*J,Tt=280+St.ua,Gt=b.Pb?it:16777216,Dt=0<St.ua?St.Wa:null,Wt=St.wc,Vt=Rt<Ct?Sr(St,at,it):null;t(b.C<J),t(Ct<=V);var $t=!1;t:for(;;){for(;$t||Rt<Ct;){var te=0;if(it>=Gt){var ze=Rt-T;t((Gt=b).Pb),Gt.wd=Gt.m,Gt.xd=ze,0<Gt.s.ua&&de(Gt.s.Wa,Gt.s.vb),Gt=it+ld}if(at&Wt||(Vt=Sr(St,at,it)),t(Vt!=null),Vt.Qb&&(S[Rt]=Vt.qb,$t=!0),!$t)if(mt(ht),Vt.jc){te=ht,ze=S;var ke=Rt,wn=Vt.pd[nt(te)&ha-1];t(Vt.jc),256>wn.g?(dt(te,te.u+wn.g),ze[ke]=wn.value,te=0):(dt(te,te.u+wn.g-256),t(256<=wn.value),te=wn.value),te==0&&($t=!0)}else te=bn(Vt.G[0],Vt.H[0],ht);if(ht.h)break;if($t||256>te){if(!$t)if(Vt.nd)S[Rt]=(Vt.qb|te<<8)>>>0;else{if(mt(ht),$t=bn(Vt.G[1],Vt.H[1],ht),mt(ht),ze=bn(Vt.G[2],Vt.H[2],ht),ke=bn(Vt.G[3],Vt.H[3],ht),ht.h)break;S[Rt]=(ke<<24|$t<<16|te<<8|ze)>>>0}if($t=!1,++Rt,++at>=O&&(at=0,++it,et!=null&&it<=J&&!(it%16)&&et(b,it),Dt!=null))for(;ut<Rt;)te=S[ut++],Dt.X[(506832829*te&4294967295)>>>Dt.Mb]=te}else if(280>te){if(te=Ye(te-256,ht),ze=bn(Vt.G[4],Vt.H[4],ht),mt(ht),ze=Xn(O,ze=Ye(ze,ht)),ht.h)break;if(Rt-T<ze||V-Rt<te)break t;for(ke=0;ke<te;++ke)S[Rt+ke]=S[Rt+ke-ze];for(Rt+=te,at+=te;at>=O;)at-=O,++it,et!=null&&it<=J&&!(it%16)&&et(b,it);if(t(Rt<=V),at&Wt&&(Vt=Sr(St,at,it)),Dt!=null)for(;ut<Rt;)te=S[ut++],Dt.X[(506832829*te&4294967295)>>>Dt.Mb]=te}else{if(!(te<Tt))break t;for($t=te-280,t(Dt!=null);ut<Rt;)te=S[ut++],Dt.X[(506832829*te&4294967295)>>>Dt.Mb]=te;te=Rt,t(!($t>>>(ze=Dt).Xa)),S[te]=ze.X[$t],$t=!0}$t||t(ht.h==lt(ht))}if(b.Pb&&ht.h&&Rt<V)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&de(b.s.vb,b.s.Wa);else{if(ht.h)break t;et?.(b,it>J?J:it),b.a=0,b.$=Rt-T}return 1}return b.a=3,0}function Xi(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,t(b!=null)}function Bl(){var b=new je;return b==null?null:(b.a=0,b.xb=th,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),Zr=Ie,Xc=Ue,Kc=Kt,Mo=Qt,ul=Yt,dl=At,sc=Bt,B.VP8LMapColor32b=ro,B.VP8LMapColor8b=rc,b)}function Ca(b,S,T,O,V){var J=1,et=[b],it=[S],at=O.m,ht=O.s,St=null,Rt=0;t:for(;;){if(T)for(;J&&q(at,1);){var ut=et,Ct=it,Tt=O,Gt=1,Dt=Tt.m,Wt=Tt.gc[Tt.ab],Vt=q(Dt,2);if(Tt.Oc&1<<Vt)J=0;else{switch(Tt.Oc|=1<<Vt,Wt.hc=Vt,Wt.Ea=ut[0],Wt.nc=Ct[0],Wt.K=[null],++Tt.ab,t(4>=Tt.ab),Vt){case 0:case 1:Wt.b=q(Dt,3)+2,Gt=Ca(Jt(Wt.Ea,Wt.b),Jt(Wt.nc,Wt.b),0,Tt,Wt.K),Wt.K=Wt.K[0];break;case 3:var $t,te=q(Dt,8)+1,ze=16<te?0:4<te?1:2<te?2:3;if(ut[0]=Jt(Wt.Ea,ze),Wt.b=ze,$t=Gt=Ca(te,1,0,Tt,Wt.K)){var ke,wn=te,Fe=Wt,In=1<<(8>>Fe.b),Hr=s(In);if(Hr==null)$t=0;else{var An=Fe.K[0],_e=Fe.w;for(Hr[0]=Fe.K[0][0],ke=1;ke<1*wn;++ke)Hr[ke]=ye(An[_e+ke],Hr[ke-1]);for(;ke<4*In;++ke)Hr[ke]=0;Fe.K[0]=null,Fe.K[0]=Hr,$t=1}}Gt=$t;break;case 2:break;default:t(0)}J=Gt}}if(et=et[0],it=it[0],J&&q(at,1)&&!(J=1<=(Rt=q(at,4))&&11>=Rt)){O.a=3;break t}var we;if(we=J)e:{var Jr,rn,Fn,yr=O,xi=et,li=it,Mr=Rt,pi=T,Si=yr.m,Tr=yr.s,On=[null],Jn=1,Lr=0,Qn=mg[Mr];n:for(;;){if(pi&&q(Si,1)){var qr=q(Si,3)+2,Wr=Jt(xi,qr),fr=Jt(li,qr),Qi=Wr*fr;if(!Ca(Wr,fr,0,yr,On))break n;for(On=On[0],Tr.xc=qr,Jr=0;Jr<Qi;++Jr){var hr=On[Jr]>>8&65535;On[Jr]=hr,hr>=Jn&&(Jn=hr+1)}}if(Si.h)break n;for(rn=0;5>rn;++rn){var pr=hc[rn];!rn&&0<Mr&&(pr+=1<<Mr),Lr<pr&&(Lr=pr)}var ci=a(Jn*Qn,U),Oi=Jn,Ps=a(Oi,pt);if(Ps==null)var Qr=null;else t(65536>=Oi),Qr=Ps;var $r=s(Lr);if(Qr==null||$r==null||ci==null){yr.a=1;break n}var $i=ci;for(Jr=Fn=0;Jr<Jn;++Jr){var gr=Qr[Jr],ts=gr.G,fa=gr.H,Ia=0,Ei=1,ti=0;for(rn=0;5>rn;++rn){pr=hc[rn],ts[rn]=$i,fa[rn]=Fn,!rn&&0<Mr&&(pr+=1<<Mr);i:{var vl,zo=pr,rh=yr,ao=$r,Ag=$i,If=Fn,Cr=0,Da=rh.m,Df=q(Da,1);if(r(ao,0,0,zo),Df){var Mf=q(Da,1)+1,hd=q(Da,1),ud=q(Da,hd==0?1:8);ao[ud]=1,Mf==2&&(ao[ud=q(Da,8)]=1);var oo=1}else{var Nr=s(19),hi=q(Da,4)+4;if(19<hi){rh.a=3;var ei=0;break i}for(vl=0;vl<hi;++vl)Nr[sv[vl]]=q(Da,3);var ih=void 0,Uo=void 0,sh=rh,uv=Nr,gi=zo,dd=ao,au=0,lo=sh.m,Ma=8,Ws=a(128,U);r:for(;z(Ws,0,7,uv,19);){if(q(lo,1)){var ou=2+2*q(lo,3);if((ih=2+q(lo,ou))>gi)break r}else ih=gi;for(Uo=0;Uo<gi&&ih--;){mt(lo);var fd=Ws[0+(127&nt(lo))];dt(lo,lo.u+fd.g);var yl=fd.value;if(16>yl)dd[Uo++]=yl,yl!=0&&(Ma=yl);else{var xg=yl==16,Of=yl-16,Sg=od[Of],Bf=q(lo,nu[Of])+Sg;if(Uo+Bf>gi)break r;for(var Eg=xg?Ma:0;0<Bf--;)dd[Uo++]=Eg}}au=1;break r}au||(sh.a=3),oo=au}(oo=oo&&!Da.h)&&(Cr=z(Ag,If,8,ao,zo)),oo&&Cr!=0?ei=Cr:(rh.a=3,ei=0)}if(ei==0)break n;if(Ei&&gg[rn]==1&&(Ei=$i[Fn].g==0),Ia+=$i[Fn].g,Fn+=ei,3>=rn){var ah,pd=$r[0];for(ah=1;ah<pr;++ah)$r[ah]>pd&&(pd=$r[ah]);ti+=pd}}if(gr.nd=Ei,gr.Qb=0,Ei&&(gr.qb=(ts[3][fa[3]+0].value<<24|ts[1][fa[1]+0].value<<16|ts[2][fa[2]+0].value)>>>0,Ia==0&&256>ts[0][fa[0]+0].value&&(gr.Qb=1,gr.qb+=ts[0][fa[0]+0].value<<8)),gr.jc=!gr.Qb&&6>ti,gr.jc){var lu,Vs=gr;for(lu=0;lu<ha;++lu){var Ho=lu,Oa=Vs.pd[Ho],gc=Vs.G[0][Vs.H[0]+Ho];256<=gc.value?(Oa.g=gc.g+256,Oa.value=gc.value):(Oa.g=0,Oa.value=0,Ho>>=Rn(gc,8,Oa),Ho>>=Rn(Vs.G[1][Vs.H[1]+Ho],16,Oa),Ho>>=Rn(Vs.G[2][Vs.H[2]+Ho],0,Oa),Rn(Vs.G[3][Vs.H[3]+Ho],24,Oa))}}}Tr.vc=On,Tr.Wb=Jn,Tr.Ya=Qr,Tr.yc=ci,we=1;break e}we=0}if(!(J=we)){O.a=3;break t}if(0<Rt){if(ht.ua=1<<Rt,!vt(ht.Wa,Rt)){O.a=1,J=0;break t}}else ht.ua=0;var gd=O,md=et,Cg=it,vd=gd.s,yd=vd.xc;if(gd.c=md,gd.i=Cg,vd.md=Jt(md,yd),vd.wc=yd==0?-1:(1<<yd)-1,T){O.xb=so;break t}if((St=s(et*it))==null){O.a=1,J=0;break t}J=(J=Ir(O,St,0,et,it,it,null))&&!at.h;break t}return J?(V!=null?V[0]=St:(t(St==null),t(T)),O.$=0,T||Xi(ht)):Xi(ht),J}function il(b,S){var T=b.c*b.i,O=T+S+16*S;return t(b.c<=S),b.V=s(O),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+T+S,1)}function jl(b,S){var T=b.C,O=S-T,V=b.V,J=b.Ba+b.c*T;for(t(S<=b.l.o);0<O;){var et=16<O?16:O,it=b.l.ma,at=b.l.width,ht=at*et,St=it.ca,Rt=it.tb+at*T,ut=b.Ta,Ct=b.Ua;bs(b,et,V,J),Sf(ut,Ct,St,Rt,ht),or(it,T,T+et,St,Rt,at),O-=et,V+=et*b.c,T+=et}t(T==S),b.C=b.Ma=S}function zl(){this.ub=this.yd=this.td=this.Rb=0}function Mc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Er(){this.Yb=(function(){var b=[];return(function S(T,O,V){for(var J=V[O],et=0;et<J&&(T.push(V.length>O+1?[]:0),!(V.length<O+1));et++)S(T[et],O+1,V)})(b,0,[3,11]),b})()}function Gu(){this.jb=s(3),this.Wc=o([4,8],Er),this.Xc=o([4,17],Er)}function Oc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Bs(){this.ld=this.La=this.dd=this.tc=0}function sl(){this.Na=this.la=0}function Xu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bc(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ul(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bs),this.Y=0,this.ya=Array(new Bc),this.aa=0,this.l=new Ki}function js(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ku(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new zl,this.Kc=new Mc,this.ed=new Oc,this.Qa=new yf,this.Ic=this.$c=this.Aa=0,this.D=new Ul,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,Xu),this.Pa=new Gu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new js),this.Hd=0,this.rb=Array(new sl),this.sb=0,this.wa=Array(new Bs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bc),this.L=this.aa=0,this.gd=o([4,2],Bs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ki(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bf(){var b=new Ku;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,uc||(uc=ra)),b}function si(b,S,T){return b.a==0&&(b.a=S,b.sc=T,b.cb=0),0}function Yu(b,S,T){return 3<=T&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function Hl(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return si(b,2,"null VP8Io passed to VP8GetHeaders()");var T=S.data,O=S.w,V=S.ha;if(4>V)return si(b,7,"Truncated header.");var J=T[O+0]|T[O+1]<<8|T[O+2]<<16,et=b.Od;if(et.Rb=!(1&J),et.td=J>>1&7,et.yd=J>>4&1,et.ub=J>>5,3<et.td)return si(b,3,"Incorrect keyframe parameters.");if(!et.yd)return si(b,4,"Frame not displayable.");O+=3,V-=3;var it=b.Kc;if(et.Rb){if(7>V)return si(b,7,"cannot parse picture header");if(!Yu(T,O,V))return si(b,3,"Bad code word");it.c=16383&(T[O+4]<<8|T[O+3]),it.Td=T[O+4]>>6,it.i=16383&(T[O+6]<<8|T[O+5]),it.Ud=T[O+6]>>6,O+=7,V-=7,b.za=it.c+15>>4,b.Ub=it.i+15>>4,S.width=it.c,S.height=it.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,r((J=b.Pa).jb,0,255,J.jb.length),t((J=b.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,r(J.Zb,0,0,J.Zb.length),r(J.Lb,0,0,J.Lb)}if(et.ub>V)return si(b,7,"bad partition length");Z(J=b.m,T,O,et.ub),O+=et.ub,V-=et.ub,et.Rb&&(it.Ld=_t(J),it.Kd=_t(J)),it=b.Qa;var at,ht=b.Pa;if(t(J!=null),t(it!=null),it.Cb=_t(J),it.Cb){if(it.Bb=_t(J),_t(J)){for(it.Fb=_t(J),at=0;4>at;++at)it.Zb[at]=_t(J)?st(J,7):0;for(at=0;4>at;++at)it.Lb[at]=_t(J)?st(J,6):0}if(it.Bb)for(at=0;3>at;++at)ht.jb[at]=_t(J)?$(J,8):255}else it.Bb=0;if(J.Ka)return si(b,3,"cannot parse segment header");if((it=b.ed).zd=_t(J),it.Tb=$(J,6),it.wb=$(J,3),it.Pc=_t(J),it.Pc&&_t(J)){for(ht=0;4>ht;++ht)_t(J)&&(it.vd[ht]=st(J,6));for(ht=0;4>ht;++ht)_t(J)&&(it.od[ht]=st(J,6))}if(b.L=it.Tb==0?0:it.zd?1:2,J.Ka)return si(b,3,"cannot parse filter header");var St=V;if(V=at=O,O=at+St,it=St,b.Xb=(1<<$(b.m,2))-1,St<3*(ht=b.Xb))T=7;else{for(at+=3*ht,it-=3*ht,St=0;St<ht;++St){var Rt=T[V+0]|T[V+1]<<8|T[V+2]<<16;Rt>it&&(Rt=it),Z(b.Jc[+St],T,at,Rt),at+=Rt,it-=Rt,V+=3}Z(b.Jc[+ht],T,at,it),T=at<O?0:5}if(T!=0)return si(b,T,"cannot parse partitions");for(T=$(at=b.m,7),V=_t(at)?st(at,4):0,O=_t(at)?st(at,4):0,it=_t(at)?st(at,4):0,ht=_t(at)?st(at,4):0,at=_t(at)?st(at,4):0,St=b.Qa,Rt=0;4>Rt;++Rt){if(St.Cb){var ut=St.Zb[Rt];St.Fb||(ut+=T)}else{if(0<Rt){b.pb[Rt]=b.pb[0];continue}ut=T}var Ct=b.pb[Rt];Ct.Sc[0]=$c[jr(ut+V,127)],Ct.Sc[1]=ru[jr(ut+0,127)],Ct.Eb[0]=2*$c[jr(ut+O,127)],Ct.Eb[1]=101581*ru[jr(ut+it,127)]>>16,8>Ct.Eb[1]&&(Ct.Eb[1]=8),Ct.Qc[0]=$c[jr(ut+ht,117)],Ct.Qc[1]=ru[jr(ut+at,127)],Ct.lc=ut+at}if(!et.Rb)return si(b,4,"Not a key frame.");for(_t(J),et=b.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(O=0;3>O;++O)for(it=0;11>it;++it)ht=Ot(J,lv[T][V][O][it])?$(J,8):yg[T][V][O][it],et.Wc[T][V].Yb[O][it]=ht;for(V=0;17>V;++V)et.Xc[T][V]=et.Wc[T][Nf[V]]}return b.kc=_t(J),b.kc&&(b.Bd=$(J,8)),b.cb=1}function ra(b,S,T,O,V,J,et){var it=S[V].Yb[T];for(T=0;16>V;++V){if(!Ot(b,it[T+0]))return V;for(;!Ot(b,it[T+1]);)if(it=S[++V].Yb[0],T=0,V==16)return 16;var at=S[V+1].Yb;if(Ot(b,it[T+2])){var ht=b,St=0;if(Ot(ht,(ut=it)[(Rt=T)+3]))if(Ot(ht,ut[Rt+6])){for(it=0,Rt=2*(St=Ot(ht,ut[Rt+8]))+(ut=Ot(ht,ut[Rt+9+St])),St=0,ut=Tf[Rt];ut[it];++it)St+=St+Ot(ht,ut[it]);St+=3+(8<<Rt)}else Ot(ht,ut[Rt+7])?(St=7+2*Ot(ht,165),St+=Ot(ht,145)):St=5+Ot(ht,159);else St=Ot(ht,ut[Rt+4])?3+Ot(ht,ut[Rt+5]):2;it=at[2]}else St=1,it=at[1];at=et+Lf[V],0>(ht=b).b&&yt(ht);var Rt,ut=ht.b,Ct=(Rt=ht.Ca>>1)-(ht.I>>ut)>>31;--ht.b,ht.Ca+=Ct,ht.Ca|=1,ht.I-=(Rt+1&Ct)<<ut,J[at]=((St^Ct)-Ct)*O[(0<V)+0]}return 16}function ka(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,r(b.zc,0,0,b.zc.length),b.ja=0}function ws(b,S,T,O,V){V=b[S+T+32*O]+(V>>3),b[S+T+32*O]=-256&V?0>V?0:255:V}function ql(b,S,T,O,V,J){ws(b,S,0,T,O+V),ws(b,S,1,T,O+J),ws(b,S,2,T,O-J),ws(b,S,3,T,O-V)}function Kr(b){return(20091*b>>16)+b}function Wl(b,S,T,O){var V,J=0,et=s(16);for(V=0;4>V;++V){var it=b[S+0]+b[S+8],at=b[S+0]-b[S+8],ht=(35468*b[S+4]>>16)-Kr(b[S+12]),St=Kr(b[S+4])+(35468*b[S+12]>>16);et[J+0]=it+St,et[J+1]=at+ht,et[J+2]=at-ht,et[J+3]=it-St,J+=4,S++}for(V=J=0;4>V;++V)it=(b=et[J+0]+4)+et[J+8],at=b-et[J+8],ht=(35468*et[J+4]>>16)-Kr(et[J+12]),ws(T,O,0,0,it+(St=Kr(et[J+4])+(35468*et[J+12]>>16))),ws(T,O,1,0,at+ht),ws(T,O,2,0,at-ht),ws(T,O,3,0,it-St),J++,O+=32}function Zu(b,S,T,O){var V=b[S+0]+4,J=35468*b[S+4]>>16,et=Kr(b[S+4]),it=35468*b[S+1]>>16;ql(T,O,0,V+et,b=Kr(b[S+1]),it),ql(T,O,1,V+J,b,it),ql(T,O,2,V-J,b,it),ql(T,O,3,V-et,b,it)}function zh(b,S,T,O,V){Wl(b,S,T,O),V&&Wl(b,S+16,T,O+4)}function Vl(b,S,T,O){ac(b,S+0,T,O,1),ac(b,S+32,T,O+128,1)}function Ya(b,S,T,O){var V;for(b=b[S+0]+4,V=0;4>V;++V)for(S=0;4>S;++S)ws(T,O,S,V,b)}function jc(b,S,T,O){b[S+0]&&Zn(b,S+0,T,O),b[S+16]&&Zn(b,S+16,T,O+4),b[S+32]&&Zn(b,S+32,T,O+128),b[S+48]&&Zn(b,S+48,T,O+128+4)}function Kn(b,S,T,O){var V,J=s(16);for(V=0;4>V;++V){var et=b[S+0+V]+b[S+12+V],it=b[S+4+V]+b[S+8+V],at=b[S+4+V]-b[S+8+V],ht=b[S+0+V]-b[S+12+V];J[0+V]=et+it,J[8+V]=et-it,J[4+V]=ht+at,J[12+V]=ht-at}for(V=0;4>V;++V)et=(b=J[0+4*V]+3)+J[3+4*V],it=J[1+4*V]+J[2+4*V],at=J[1+4*V]-J[2+4*V],ht=b-J[3+4*V],T[O+0]=et+it>>3,T[O+16]=ht+at>>3,T[O+32]=et-it>>3,T[O+48]=ht-at>>3,O+=64}function Po(b,S,T){var O,V=S-32,J=os,et=255-b[V-1];for(O=0;O<T;++O){var it,at=J,ht=et+b[S-1];for(it=0;it<T;++it)b[S+it]=at[ht+b[V+it]];S+=32}}function zc(b,S){Po(b,S,4)}function Uh(b,S){Po(b,S,8)}function Ju(b,S){Po(b,S,16)}function Qu(b,S){var T;for(T=0;16>T;++T)n(b,S+32*T,b,S-32,16)}function Uc(b,S){var T;for(T=16;0<T;--T)r(b,S,b[S-1],16),S+=32}function To(b,S,T){var O;for(O=0;16>O;++O)r(S,T+32*O,b,16)}function _a(b,S){var T,O=16;for(T=0;16>T;++T)O+=b[S-1+32*T]+b[S+T-32];To(O>>5,b,S)}function Za(b,S){var T,O=8;for(T=0;16>T;++T)O+=b[S-1+32*T];To(O>>4,b,S)}function As(b,S){var T,O=8;for(T=0;16>T;++T)O+=b[S+T-32];To(O>>4,b,S)}function ia(b,S){To(128,b,S)}function $e(b,S,T){return b+2*S+T+2>>2}function Gl(b,S){var T,O=S-32;for(O=new Uint8Array([$e(b[O-1],b[O+0],b[O+1]),$e(b[O+0],b[O+1],b[O+2]),$e(b[O+1],b[O+2],b[O+3]),$e(b[O+2],b[O+3],b[O+4])]),T=0;4>T;++T)n(b,S+32*T,O,0,O.length)}function Ja(b,S){var T=b[S-1],O=b[S-1+32],V=b[S-1+64],J=b[S-1+96];Xt(b,S+0,16843009*$e(b[S-1-32],T,O)),Xt(b,S+32,16843009*$e(T,O,V)),Xt(b,S+64,16843009*$e(O,V,J)),Xt(b,S+96,16843009*$e(V,J,J))}function wf(b,S){var T,O=4;for(T=0;4>T;++T)O+=b[S+T-32]+b[S-1+32*T];for(O>>=3,T=0;4>T;++T)r(b,S+32*T,O,4)}function $u(b,S){var T=b[S-1+0],O=b[S-1+32],V=b[S-1+64],J=b[S-1-32],et=b[S+0-32],it=b[S+1-32],at=b[S+2-32],ht=b[S+3-32];b[S+0+96]=$e(O,V,b[S-1+96]),b[S+1+96]=b[S+0+64]=$e(T,O,V),b[S+2+96]=b[S+1+64]=b[S+0+32]=$e(J,T,O),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=$e(et,J,T),b[S+3+64]=b[S+2+32]=b[S+1+0]=$e(it,et,J),b[S+3+32]=b[S+2+0]=$e(at,it,et),b[S+3+0]=$e(ht,at,it)}function zs(b,S){var T=b[S+1-32],O=b[S+2-32],V=b[S+3-32],J=b[S+4-32],et=b[S+5-32],it=b[S+6-32],at=b[S+7-32];b[S+0+0]=$e(b[S+0-32],T,O),b[S+1+0]=b[S+0+32]=$e(T,O,V),b[S+2+0]=b[S+1+32]=b[S+0+64]=$e(O,V,J),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=$e(V,J,et),b[S+3+32]=b[S+2+64]=b[S+1+96]=$e(J,et,it),b[S+3+64]=b[S+2+96]=$e(et,it,at),b[S+3+96]=$e(it,at,at)}function Lo(b,S){var T=b[S-1+0],O=b[S-1+32],V=b[S-1+64],J=b[S-1-32],et=b[S+0-32],it=b[S+1-32],at=b[S+2-32],ht=b[S+3-32];b[S+0+0]=b[S+1+64]=J+et+1>>1,b[S+1+0]=b[S+2+64]=et+it+1>>1,b[S+2+0]=b[S+3+64]=it+at+1>>1,b[S+3+0]=at+ht+1>>1,b[S+0+96]=$e(V,O,T),b[S+0+64]=$e(O,T,J),b[S+0+32]=b[S+1+96]=$e(T,J,et),b[S+1+32]=b[S+2+96]=$e(J,et,it),b[S+2+32]=b[S+3+96]=$e(et,it,at),b[S+3+32]=$e(it,at,ht)}function td(b,S){var T=b[S+0-32],O=b[S+1-32],V=b[S+2-32],J=b[S+3-32],et=b[S+4-32],it=b[S+5-32],at=b[S+6-32],ht=b[S+7-32];b[S+0+0]=T+O+1>>1,b[S+1+0]=b[S+0+64]=O+V+1>>1,b[S+2+0]=b[S+1+64]=V+J+1>>1,b[S+3+0]=b[S+2+64]=J+et+1>>1,b[S+0+32]=$e(T,O,V),b[S+1+32]=b[S+0+96]=$e(O,V,J),b[S+2+32]=b[S+1+96]=$e(V,J,et),b[S+3+32]=b[S+2+96]=$e(J,et,it),b[S+3+64]=$e(et,it,at),b[S+3+96]=$e(it,at,ht)}function Hc(b,S){var T=b[S-1+0],O=b[S-1+32],V=b[S-1+64],J=b[S-1+96];b[S+0+0]=T+O+1>>1,b[S+2+0]=b[S+0+32]=O+V+1>>1,b[S+2+32]=b[S+0+64]=V+J+1>>1,b[S+1+0]=$e(T,O,V),b[S+3+0]=b[S+1+32]=$e(O,V,J),b[S+3+32]=b[S+1+64]=$e(V,J,J),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=J}function Xl(b,S){var T=b[S-1+0],O=b[S-1+32],V=b[S-1+64],J=b[S-1+96],et=b[S-1-32],it=b[S+0-32],at=b[S+1-32],ht=b[S+2-32];b[S+0+0]=b[S+2+32]=T+et+1>>1,b[S+0+32]=b[S+2+64]=O+T+1>>1,b[S+0+64]=b[S+2+96]=V+O+1>>1,b[S+0+96]=J+V+1>>1,b[S+3+0]=$e(it,at,ht),b[S+2+0]=$e(et,it,at),b[S+1+0]=b[S+3+32]=$e(T,et,it),b[S+1+32]=b[S+3+64]=$e(O,T,et),b[S+1+64]=b[S+3+96]=$e(V,O,T),b[S+1+96]=$e(J,V,O)}function Hh(b,S){var T;for(T=0;8>T;++T)n(b,S+32*T,b,S-32,8)}function Pa(b,S){var T;for(T=0;8>T;++T)r(b,S,b[S-1],8),S+=32}function Qa(b,S,T){var O;for(O=0;8>O;++O)r(S,T+32*O,b,8)}function Ta(b,S){var T,O=8;for(T=0;8>T;++T)O+=b[S+T-32]+b[S-1+32*T];Qa(O>>4,b,S)}function qc(b,S){var T,O=4;for(T=0;8>T;++T)O+=b[S+T-32];Qa(O>>3,b,S)}function qh(b,S){var T,O=4;for(T=0;8>T;++T)O+=b[S-1+32*T];Qa(O>>3,b,S)}function Wh(b,S){Qa(128,b,S)}function No(b,S,T){var O=b[S-T],V=b[S+0],J=3*(V-O)+io[1020+b[S-2*T]-b[S+T]],et=Jc[112+(J+4>>3)];b[S-T]=os[255+O+Jc[112+(J+3>>3)]],b[S+0]=os[255+V-et]}function $a(b,S,T,O){var V=b[S+0],J=b[S+T];return ua[255+b[S-2*T]-b[S-T]]>O||ua[255+J-V]>O}function Kl(b,S,T,O){return 4*ua[255+b[S-T]-b[S+0]]+ua[255+b[S-2*T]-b[S+T]]<=O}function Yl(b,S,T,O,V){var J=b[S-3*T],et=b[S-2*T],it=b[S-T],at=b[S+0],ht=b[S+T],St=b[S+2*T],Rt=b[S+3*T];return 4*ua[255+it-at]+ua[255+et-ht]>O?0:ua[255+b[S-4*T]-J]<=V&&ua[255+J-et]<=V&&ua[255+et-it]<=V&&ua[255+Rt-St]<=V&&ua[255+St-ht]<=V&&ua[255+ht-at]<=V}function sa(b,S,T,O){var V=2*O+1;for(O=0;16>O;++O)Kl(b,S+O,T,V)&&No(b,S+O,T)}function Fo(b,S,T,O){var V=2*O+1;for(O=0;16>O;++O)Kl(b,S+O*T,1,V)&&No(b,S+O*T,1)}function Zl(b,S,T,O){var V;for(V=3;0<V;--V)sa(b,S+=4*T,T,O)}function Vh(b,S,T,O){var V;for(V=3;0<V;--V)Fo(b,S+=4,T,O)}function aa(b,S,T,O,V,J,et,it){for(J=2*J+1;0<V--;){if(Yl(b,S,T,J,et))if($a(b,S,T,it))No(b,S,T);else{var at=b,ht=S,St=T,Rt=at[ht-2*St],ut=at[ht-St],Ct=at[ht+0],Tt=at[ht+St],Gt=at[ht+2*St],Dt=27*(Vt=io[1020+3*(Ct-ut)+io[1020+Rt-Tt]])+63>>7,Wt=18*Vt+63>>7,Vt=9*Vt+63>>7;at[ht-3*St]=os[255+at[ht-3*St]+Vt],at[ht-2*St]=os[255+Rt+Wt],at[ht-St]=os[255+ut+Dt],at[ht+0]=os[255+Ct-Dt],at[ht+St]=os[255+Tt-Wt],at[ht+2*St]=os[255+Gt-Vt]}S+=O}}function oa(b,S,T,O,V,J,et,it){for(J=2*J+1;0<V--;){if(Yl(b,S,T,J,et))if($a(b,S,T,it))No(b,S,T);else{var at=b,ht=S,St=T,Rt=at[ht-St],ut=at[ht+0],Ct=at[ht+St],Tt=Jc[112+(4+(Gt=3*(ut-Rt))>>3)],Gt=Jc[112+(Gt+3>>3)],Dt=Tt+1>>1;at[ht-2*St]=os[255+at[ht-2*St]+Dt],at[ht-St]=os[255+Rt+Gt],at[ht+0]=os[255+ut-Tt],at[ht+St]=os[255+Ct-Dt]}S+=O}}function Gh(b,S,T,O,V,J){aa(b,S,T,1,16,O,V,J)}function Yi(b,S,T,O,V,J){aa(b,S,1,T,16,O,V,J)}function la(b,S,T,O,V,J){var et;for(et=3;0<et;--et)oa(b,S+=4*T,T,1,16,O,V,J)}function Wc(b,S,T,O,V,J){var et;for(et=3;0<et;--et)oa(b,S+=4,1,T,16,O,V,J)}function _(b,S,T,O,V,J,et,it){aa(b,S,V,1,8,J,et,it),aa(T,O,V,1,8,J,et,it)}function G(b,S,T,O,V,J,et,it){aa(b,S,1,V,8,J,et,it),aa(T,O,1,V,8,J,et,it)}function gt(b,S,T,O,V,J,et,it){oa(b,S+4*V,V,1,8,J,et,it),oa(T,O+4*V,V,1,8,J,et,it)}function xt(b,S,T,O,V,J,et,it){oa(b,S+4,1,V,8,J,et,it),oa(T,O+4,1,V,8,J,et,it)}function Pt(){this.ba=new Lt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ie(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ne(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pt,this.yc=new U}function je(){this.xb=this.a=0,this.l=new Ki,this.ca=new Lt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ne,this.ab=0,this.gc=a(4,ie),this.Oc=0}function an(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ki,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function on(b,S,T,O,V,J,et){for(b=b==null?0:b[S+0],S=0;S<et;++S)V[J+S]=b+T[O+S]&255,b=V[J+S]}function Yn(b,S,T,O,V,J,et){var it;if(b==null)on(null,null,T,O,V,J,et);else for(it=0;it<et;++it)V[J+it]=b[S+it]+T[O+it]&255}function Dr(b,S,T,O,V,J,et){if(b==null)on(null,null,T,O,V,J,et);else{var it,at=b[S+0],ht=at,St=at;for(it=0;it<et;++it)ht=St+(at=b[S+it])-ht,St=T[O+it]+(-256&ht?0>ht?0:255:ht)&255,ht=at,V[J+it]=St}}function ai(b,S,T,O){var V=S.width,J=S.o;if(t(b!=null&&S!=null),0>T||0>=O||T+O>J)return null;if(!b.Cc){if(b.ga==null){var et;if(b.ga=new an,(et=b.ga==null)||(et=S.width*S.o,t(b.Gb.length==0),b.Gb=s(et),b.Uc=0,b.Gb==null?et=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,et=1),et=!et),!et){et=b.ga;var it=b.Fa,at=b.P,ht=b.qc,St=b.mb,Rt=b.nb,ut=at+1,Ct=ht-1,Tt=et.l;if(t(it!=null&&St!=null&&S!=null),Ji[0]=null,Ji[1]=on,Ji[2]=Yn,Ji[3]=Dr,et.ca=St,et.tb=Rt,et.c=S.width,et.i=S.height,t(0<et.c&&0<et.i),1>=ht)S=0;else if(et.$a=3&it[at+0],et.Z=it[at+0]>>2&3,et.Lc=it[at+0]>>4&3,at=it[at+0]>>6&3,0>et.$a||1<et.$a||4<=et.Z||1<et.Lc||at)S=0;else if(Tt.put=ve,Tt.ac=Ae,Tt.bc=Rr,Tt.ma=et,Tt.width=S.width,Tt.height=S.height,Tt.Da=S.Da,Tt.v=S.v,Tt.va=S.va,Tt.j=S.j,Tt.o=S.o,et.$a)t:{t(et.$a==1),S=Bl();e:for(;;){if(S==null){S=0;break t}if(t(et!=null),et.mc=S,S.c=et.c,S.i=et.i,S.l=et.l,S.l.ma=et,S.l.width=et.c,S.l.height=et.i,S.a=0,rt(S.m,it,ut,Ct),!Ca(et.c,et.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Pr(S.s)?(et.ic=1,it=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(it),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(et.ic=0,S=il(S,et.c)),!S))break e;S=1;break t}et.mc=null,S=0}else S=Ct>=et.c*et.i;et=!S}if(et)return null;b.ga.Lc!=1?b.Ga=0:O=J-T}t(b.ga!=null),t(T+O<=J);t:{if(S=(it=b.ga).c,J=it.l.o,it.$a==0){if(ut=b.rc,Ct=b.Vc,Tt=b.Fa,at=b.P+1+T*S,ht=b.mb,St=b.nb+T*S,t(at<=b.P+b.qc),it.Z!=0)for(t(Ji[it.Z]!=null),et=0;et<O;++et)Ji[it.Z](ut,Ct,Tt,at,ht,St,S),ut=ht,Ct=St,St+=S,at+=S;else for(et=0;et<O;++et)n(ht,St,Tt,at,S),ut=ht,Ct=St,St+=S,at+=S;b.rc=ut,b.Vc=Ct}else{if(t(it.mc!=null),S=T+O,t((et=it.mc)!=null),t(S<=et.i),et.C>=S)S=1;else if(it.ic||ca(),it.ic){it=et.V,ut=et.Ba,Ct=et.c;var Gt=et.i,Dt=(Tt=1,at=et.$/Ct,ht=et.$%Ct,St=et.m,Rt=et.s,et.$),Wt=Ct*Gt,Vt=Ct*S,$t=Rt.wc,te=Dt<Vt?Sr(Rt,ht,at):null;t(Dt<=Wt),t(S<=Gt),t(Pr(Rt));e:for(;;){for(;!St.h&&Dt<Vt;){if(ht&$t||(te=Sr(Rt,ht,at)),t(te!=null),mt(St),256>(Gt=bn(te.G[0],te.H[0],St)))it[ut+Dt]=Gt,++Dt,++ht>=Ct&&(ht=0,++at<=S&&!(at%16)&&ur(et,at));else{if(!(280>Gt)){Tt=0;break e}Gt=Ye(Gt-256,St);var ze,ke=bn(te.G[4],te.H[4],St);if(mt(St),!(Dt>=(ke=Xn(Ct,ke=Ye(ke,St)))&&Wt-Dt>=Gt)){Tt=0;break e}for(ze=0;ze<Gt;++ze)it[ut+Dt+ze]=it[ut+Dt+ze-ke];for(Dt+=Gt,ht+=Gt;ht>=Ct;)ht-=Ct,++at<=S&&!(at%16)&&ur(et,at);Dt<Vt&&ht&$t&&(te=Sr(Rt,ht,at))}t(St.h==lt(St))}ur(et,at>S?S:at);break e}!Tt||St.h&&Dt<Wt?(Tt=0,et.a=St.h?5:3):et.$=Dt,S=Tt}else S=Ir(et,et.V,et.Ba,et.c,et.i,S,jl);if(!S){O=0;break t}}T+O>=J&&(b.Cc=1),O=1}if(!O)return null;if(b.Cc&&((O=b.ga)!=null&&(O.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+T*V}function vr(b,S,T,O,V,J){for(;0<V--;){var et,it=b,at=S+(T?1:0),ht=b,St=S+(T?0:3);for(et=0;et<O;++et){var Rt=ht[St+4*et];Rt!=255&&(Rt*=32897,it[at+4*et+0]=it[at+4*et+0]*Rt>>23,it[at+4*et+1]=it[at+4*et+1]*Rt>>23,it[at+4*et+2]=it[at+4*et+2]*Rt>>23)}S+=J}}function fi(b,S,T,O,V){for(;0<O--;){var J;for(J=0;J<T;++J){var et=b[S+2*J+0],it=15&(ht=b[S+2*J+1]),at=4369*it,ht=(240&ht|ht>>4)*at>>16;b[S+2*J+0]=(240&et|et>>4)*at>>16&240|(15&et|et<<4)*at>>16>>4&15,b[S+2*J+1]=240&ht|it}S+=V}}function Yr(b,S,T,O,V,J,et,it){var at,ht,St=255;for(ht=0;ht<V;++ht){for(at=0;at<O;++at){var Rt=b[S+at];J[et+4*at]=Rt,St&=Rt}S+=T,et+=it}return St!=255}function Di(b,S,T,O,V){var J;for(J=0;J<V;++J)T[O+J]=b[S+J]>>8}function ca(){lc=vr,xf=fi,Jh=Yr,Sf=Di}function xs(b,S,T){B[b]=function(O,V,J,et,it,at,ht,St,Rt,ut,Ct,Tt,Gt,Dt,Wt,Vt,$t){var te,ze=$t-1>>1,ke=it[at+0]|ht[St+0]<<16,wn=Rt[ut+0]|Ct[Tt+0]<<16;t(O!=null);var Fe=3*ke+wn+131074>>2;for(S(O[V+0],255&Fe,Fe>>16,Gt,Dt),J!=null&&(Fe=3*wn+ke+131074>>2,S(J[et+0],255&Fe,Fe>>16,Wt,Vt)),te=1;te<=ze;++te){var In=it[at+te]|ht[St+te]<<16,Hr=Rt[ut+te]|Ct[Tt+te]<<16,An=ke+In+wn+Hr+524296,_e=An+2*(In+wn)>>3;Fe=_e+ke>>1,ke=(An=An+2*(ke+Hr)>>3)+In>>1,S(O[V+2*te-1],255&Fe,Fe>>16,Gt,Dt+(2*te-1)*T),S(O[V+2*te-0],255&ke,ke>>16,Gt,Dt+(2*te-0)*T),J!=null&&(Fe=An+wn>>1,ke=_e+Hr>>1,S(J[et+2*te-1],255&Fe,Fe>>16,Wt,Vt+(2*te-1)*T),S(J[et+2*te+0],255&ke,ke>>16,Wt,Vt+(2*te+0)*T)),ke=In,wn=Hr}1&$t||(Fe=3*ke+wn+131074>>2,S(O[V+$t-1],255&Fe,Fe>>16,Gt,Dt+($t-1)*T),J!=null&&(Fe=3*wn+ke+131074>>2,S(J[et+$t-1],255&Fe,Fe>>16,Wt,Vt+($t-1)*T)))}}function ed(){Cs[sd]=cv,Cs[pl]=gl,Cs[pg]=hv,Cs[Qh]=eh,Cs[$h]=dc,Cs[dr]=iu,Cs[ad]=Ff,Cs[Qc]=gl,Cs[cc]=eh,Cs[tu]=dc,Cs[eu]=iu}function al(b){return b&-16384?0>b?0:255:b>>ml}function Jl(b,S){return al((19077*b>>8)+(26149*S>>8)-14234)}function ol(b,S,T){return al((19077*b>>8)-(6419*S>>8)-(13320*T>>8)+8708)}function Ql(b,S){return al((19077*b>>8)+(33050*S>>8)-17685)}function ll(b,S,T,O,V){O[V+0]=Jl(b,T),O[V+1]=ol(b,S,T),O[V+2]=Ql(b,S)}function $l(b,S,T,O,V){O[V+0]=Ql(b,S),O[V+1]=ol(b,S,T),O[V+2]=Jl(b,T)}function Zi(b,S,T,O,V){var J=ol(b,S,T);S=J<<3&224|Ql(b,S)>>3,O[V+0]=248&Jl(b,T)|J>>5,O[V+1]=S}function tc(b,S,T,O,V){var J=240&Ql(b,S)|15;O[V+0]=240&Jl(b,T)|ol(b,S,T)>>4,O[V+1]=J}function ec(b,S,T,O,V){O[V+0]=255,ll(b,S,T,O,V+1)}function Xh(b,S,T,O,V){$l(b,S,T,O,V),O[V+3]=255}function Kh(b,S,T,O,V){ll(b,S,T,O,V),O[V+3]=255}function jr(b,S){return 0>b?0:b>S?S:b}function La(b,S,T){B[b]=function(O,V,J,et,it,at,ht,St,Rt){for(var ut=St+(-2&Rt)*T;St!=ut;)S(O[V+0],J[et+0],it[at+0],ht,St),S(O[V+1],J[et+0],it[at+0],ht,St+T),V+=2,++et,++at,St+=2*T;1&Rt&&S(O[V+0],J[et+0],it[at+0],ht,St)}}function to(b,S,T){return T==0?b==0?S==0?6:5:S==0?4:0:T}function nd(b,S,T,O,V){switch(b>>>30){case 3:ac(S,T,O,V,0);break;case 2:zr(S,T,O,V);break;case 1:Zn(S,T,O,V)}}function Us(b,S){var T,O,V=S.M,J=S.Nb,et=b.oc,it=b.pc+40,at=b.oc,ht=b.pc+584,St=b.oc,Rt=b.pc+600;for(T=0;16>T;++T)et[it+32*T-1]=129;for(T=0;8>T;++T)at[ht+32*T-1]=129,St[Rt+32*T-1]=129;for(0<V?et[it-1-32]=at[ht-1-32]=St[Rt-1-32]=129:(r(et,it-32-1,127,21),r(at,ht-32-1,127,9),r(St,Rt-32-1,127,9)),O=0;O<b.za;++O){var ut=S.ya[S.aa+O];if(0<O){for(T=-1;16>T;++T)n(et,it+32*T-4,et,it+32*T+12,4);for(T=-1;8>T;++T)n(at,ht+32*T-4,at,ht+32*T+4,4),n(St,Rt+32*T-4,St,Rt+32*T+4,4)}var Ct=b.Gd,Tt=b.Hd+O,Gt=ut.ad,Dt=ut.Hc;if(0<V&&(n(et,it-32,Ct[Tt].y,0,16),n(at,ht-32,Ct[Tt].f,0,8),n(St,Rt-32,Ct[Tt].ea,0,8)),ut.Za){var Wt=et,Vt=it-32+16;for(0<V&&(O>=b.za-1?r(Wt,Vt,Ct[Tt].y[15],4):n(Wt,Vt,Ct[Tt+1].y,0,4)),T=0;4>T;T++)Wt[Vt+128+T]=Wt[Vt+256+T]=Wt[Vt+384+T]=Wt[Vt+0+T];for(T=0;16>T;++T,Dt<<=2)Wt=et,Vt=it+Rf[T],da[ut.Ob[T]](Wt,Vt),nd(Dt,Gt,16*+T,Wt,Vt)}else if(Wt=to(O,V,ut.Ob[0]),ls[Wt](et,it),Dt!=0)for(T=0;16>T;++T,Dt<<=2)nd(Dt,Gt,16*+T,et,it+Rf[T]);for(T=ut.Gc,Wt=to(O,V,ut.Dd),Es[Wt](at,ht),Es[Wt](St,Rt),Dt=Gt,Wt=at,Vt=ht,255&(ut=0|T)&&(170&ut?Ss(Dt,256,Wt,Vt):lr(Dt,256,Wt,Vt)),ut=St,Dt=Rt,255&(T>>=8)&&(170&T?Ss(Gt,320,ut,Dt):lr(Gt,320,ut,Dt)),V<b.Ub-1&&(n(Ct[Tt].y,0,et,it+480,16),n(Ct[Tt].f,0,at,ht+224,8),n(Ct[Tt].ea,0,St,Rt+224,8)),T=8*J*b.B,Ct=b.sa,Tt=b.ta+16*O+16*J*b.R,Gt=b.qa,ut=b.ra+8*O+T,Dt=b.Ha,Wt=b.Ia+8*O+T,T=0;16>T;++T)n(Ct,Tt+T*b.R,et,it+32*T,16);for(T=0;8>T;++T)n(Gt,ut+T*b.B,at,ht+32*T,8),n(Dt,Wt+T*b.B,St,Rt+32*T,8)}}function cl(b,S,T,O,V,J,et,it,at){var ht=[0],St=[0],Rt=0,ut=at!=null?at.kd:0,Ct=at??new Zt;if(b==null||12>T)return 7;Ct.data=b,Ct.w=S,Ct.ha=T,S=[S],T=[T],Ct.gb=[Ct.gb];t:{var Tt=S,Gt=T,Dt=Ct.gb;if(t(b!=null),t(Gt!=null),t(Dt!=null),Dt[0]=0,12<=Gt[0]&&!e(b,Tt[0],"RIFF")){if(e(b,Tt[0]+8,"WEBP")){Dt=3;break t}var Wt=zt(b,Tt[0]+4);if(12>Wt||4294967286<Wt){Dt=3;break t}if(ut&&Wt>Gt[0]-8){Dt=7;break t}Dt[0]=Wt,Tt[0]+=12,Gt[0]-=12}Dt=0}if(Dt!=0)return Dt;for(Wt=0<Ct.gb[0],T=T[0];;){t:{var Vt=b;Gt=S,Dt=T;var $t=ht,te=St,ze=Tt=[0];if((Fe=Rt=[Rt])[0]=0,8>Dt[0])Dt=7;else{if(!e(Vt,Gt[0],"VP8X")){if(zt(Vt,Gt[0]+4)!=10){Dt=3;break t}if(18>Dt[0]){Dt=7;break t}var ke=zt(Vt,Gt[0]+8),wn=1+le(Vt,Gt[0]+12);if(2147483648<=wn*(Vt=1+le(Vt,Gt[0]+15))){Dt=3;break t}ze!=null&&(ze[0]=ke),$t!=null&&($t[0]=wn),te!=null&&(te[0]=Vt),Gt[0]+=18,Dt[0]-=18,Fe[0]=1}Dt=0}}if(Rt=Rt[0],Tt=Tt[0],Dt!=0)return Dt;if(Gt=!!(2&Tt),!Wt&&Rt)return 3;if(J!=null&&(J[0]=!!(16&Tt)),et!=null&&(et[0]=Gt),it!=null&&(it[0]=0),et=ht[0],Tt=St[0],Rt&&Gt&&at==null){Dt=0;break}if(4>T){Dt=7;break}if(Wt&&Rt||!Wt&&!Rt&&!e(b,S[0],"ALPH")){T=[T],Ct.na=[Ct.na],Ct.P=[Ct.P],Ct.Sa=[Ct.Sa];t:{ke=b,Dt=S,Wt=T;var Fe=Ct.gb;$t=Ct.na,te=Ct.P,ze=Ct.Sa,wn=22,t(ke!=null),t(Wt!=null),Vt=Dt[0];var In=Wt[0];for(t($t!=null),t(ze!=null),$t[0]=null,te[0]=null,ze[0]=0;;){if(Dt[0]=Vt,Wt[0]=In,8>In){Dt=7;break t}var Hr=zt(ke,Vt+4);if(4294967286<Hr){Dt=3;break t}var An=8+Hr+1&-2;if(wn+=An,0<Fe&&wn>Fe){Dt=3;break t}if(!e(ke,Vt,"VP8 ")||!e(ke,Vt,"VP8L")){Dt=0;break t}if(In[0]<An){Dt=7;break t}e(ke,Vt,"ALPH")||($t[0]=ke,te[0]=Vt+8,ze[0]=Hr),Vt+=An,In-=An}}if(T=T[0],Ct.na=Ct.na[0],Ct.P=Ct.P[0],Ct.Sa=Ct.Sa[0],Dt!=0)break}T=[T],Ct.Ja=[Ct.Ja],Ct.xa=[Ct.xa];t:if(Fe=b,Dt=S,Wt=T,$t=Ct.gb[0],te=Ct.Ja,ze=Ct.xa,ke=Dt[0],Vt=!e(Fe,ke,"VP8 "),wn=!e(Fe,ke,"VP8L"),t(Fe!=null),t(Wt!=null),t(te!=null),t(ze!=null),8>Wt[0])Dt=7;else{if(Vt||wn){if(Fe=zt(Fe,ke+4),12<=$t&&Fe>$t-12){Dt=3;break t}if(ut&&Fe>Wt[0]-8){Dt=7;break t}te[0]=Fe,Dt[0]+=8,Wt[0]-=8,ze[0]=wn}else ze[0]=5<=Wt[0]&&Fe[ke+0]==47&&!(Fe[ke+4]>>5),te[0]=Wt[0];Dt=0}if(T=T[0],Ct.Ja=Ct.Ja[0],Ct.xa=Ct.xa[0],S=S[0],Dt!=0)break;if(4294967286<Ct.Ja)return 3;if(it==null||Gt||(it[0]=Ct.xa?2:1),et=[et],Tt=[Tt],Ct.xa){if(5>T){Dt=7;break}it=et,ut=Tt,Gt=J,b==null||5>T?b=0:5<=T&&b[S+0]==47&&!(b[S+4]>>5)?(Wt=[0],Fe=[0],$t=[0],rt(te=new W,b,S,T),Bn(te,Wt,Fe,$t)?(it!=null&&(it[0]=Wt[0]),ut!=null&&(ut[0]=Fe[0]),Gt!=null&&(Gt[0]=$t[0]),b=1):b=0):b=0}else{if(10>T){Dt=7;break}it=Tt,b==null||10>T||!Yu(b,S+3,T-3)?b=0:(ut=b[S+0]|b[S+1]<<8|b[S+2]<<16,Gt=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&ut||3<(ut>>1&7)||!(ut>>4&1)||ut>>5>=Ct.Ja||!Gt||!b?b=0:(et&&(et[0]=Gt),it&&(it[0]=b),b=1))}if(!b||(et=et[0],Tt=Tt[0],Rt&&(ht[0]!=et||St[0]!=Tt)))return 3;at!=null&&(at[0]=Ct,at.offset=S-at.w,t(4294967286>S-at.w),t(at.offset==at.ha-T));break}return Dt==0||Dt==7&&Rt&&at==null?(J!=null&&(J[0]|=Ct.na!=null&&0<Ct.na.length),O!=null&&(O[0]=et),V!=null&&(V[0]=Tt),0):Dt}function Vc(b,S,T){var O=S.width,V=S.height,J=0,et=0,it=O,at=V;if(S.Da=b!=null&&0<b.Da,S.Da&&(it=b.cd,at=b.bd,J=b.v,et=b.j,11>T||(J&=-2,et&=-2),0>J||0>et||0>=it||0>=at||J+it>O||et+at>V))return 0;if(S.v=J,S.j=et,S.va=J+it,S.o=et+at,S.U=it,S.T=at,S.da=b!=null&&0<b.da,S.da){if(!ne(it,at,T=[b.ib],J=[b.hb]))return 0;S.ib=T[0],S.hb=J[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*O/4&&S.hb<3*V/4,S.Kb=0),1}function Gc(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function Ro(b,S,T,O){if(O==null||0>=b||0>=S)return 2;if(T!=null){if(T.Da){var V=T.cd,J=T.bd,et=-2&T.v,it=-2&T.j;if(0>et||0>it||0>=V||0>=J||et+V>b||it+J>S)return 2;b=V,S=J}if(T.da){if(!ne(b,S,V=[T.ib],J=[T.hb]))return 2;b=V[0],S=J[0]}}O.width=b,O.height=S;t:{var at=O.width,ht=O.height;if(b=O.S,0>=at||0>=ht||!(b>=sd&&13>b))b=2;else{if(0>=O.Rd&&O.sd==null){et=J=V=S=0;var St=(it=at*su[b])*ht;if(11>b||(J=(ht+1)/2*(S=(at+1)/2),b==12&&(et=(V=at)*ht)),(ht=s(St+2*J+et))==null){b=1;break t}O.sd=ht,11>b?((at=O.f.RGBA).eb=ht,at.fb=0,at.A=it,at.size=St):((at=O.f.kb).y=ht,at.O=0,at.fa=it,at.Fd=St,at.f=ht,at.N=0+St,at.Ab=S,at.Cd=J,at.ea=ht,at.W=0+St+J,at.Db=S,at.Ed=J,b==12&&(at.F=ht,at.J=0+St+2*J),at.Tc=et,at.lb=V)}if(S=1,V=O.S,J=O.width,et=O.height,V>=sd&&13>V)if(11>V)b=O.f.RGBA,S&=(it=Math.abs(b.A))*(et-1)+J<=b.size,S&=it>=J*su[V],S&=b.eb!=null;else{b=O.f.kb,it=(J+1)/2,St=(et+1)/2,at=Math.abs(b.fa),ht=Math.abs(b.Ab);var Rt=Math.abs(b.Db),ut=Math.abs(b.lb),Ct=ut*(et-1)+J;S&=at*(et-1)+J<=b.Fd,S&=ht*(St-1)+it<=b.Cd,S=(S&=Rt*(St-1)+it<=b.Ed)&at>=J&ht>=it&Rt>=it,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,V==12&&(S&=ut>=J,S&=Ct<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||T!=null&&T.fd&&(b=Gc(O)),b}var ha=64,Hs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qs=24,hl=32,eo=8,Io=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(b){return b},B.Predictor2=function(b,S,T){return S[T+0]},B.Predictor3=function(b,S,T){return S[T+1]},B.Predictor4=function(b,S,T){return S[T-1]},B.Predictor5=function(b,S,T){return Ce(Ce(b,S[T+1]),S[T+0])},B.Predictor6=function(b,S,T){return Ce(b,S[T-1])},B.Predictor7=function(b,S,T){return Ce(b,S[T+0])},B.Predictor8=function(b,S,T){return Ce(S[T-1],S[T+0])},B.Predictor9=function(b,S,T){return Ce(S[T+0],S[T+1])},B.Predictor10=function(b,S,T){return Ce(Ce(b,S[T-1]),Ce(S[T+0],S[T+1]))},B.Predictor11=function(b,S,T){var O=S[T+0];return 0>=Ke(O>>24&255,b>>24&255,(S=S[T-1])>>24&255)+Ke(O>>16&255,b>>16&255,S>>16&255)+Ke(O>>8&255,b>>8&255,S>>8&255)+Ke(255&O,255&b,255&S)?O:b},B.Predictor12=function(b,S,T){var O=S[T+0];return(yn((b>>24&255)+(O>>24&255)-((S=S[T-1])>>24&255))<<24|yn((b>>16&255)+(O>>16&255)-(S>>16&255))<<16|yn((b>>8&255)+(O>>8&255)-(S>>8&255))<<8|yn((255&b)+(255&O)-(255&S)))>>>0},B.Predictor13=function(b,S,T){var O=S[T-1];return(qe((b=Ce(b,S[T+0]))>>24&255,O>>24&255)<<24|qe(b>>16&255,O>>16&255)<<16|qe(b>>8&255,O>>8&255)<<8|qe(255&b,255&O))>>>0};var Do=B.PredictorAdd0;B.PredictorAdd1=Ln,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var no=B.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Zr,nc=B.ColorIndexInverseTransform,ro=B.MapARGB,Na=B.VP8LColorIndexInverseTransformAlpha,rc=B.MapAlpha,ic=B.VP8LPredictorsAdd=[];ic.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Xc,Kc,Mo,ul,dl,sc,fl,ac,zr,Ss,Zn,lr,Ur,oi,Fa,Yh,Yc,Oo,rd,Zc,id,Af,Zh,oc,lc,xf,Jh,Sf,Ef=s(511),Cf=s(2041),kf=s(225),_f=s(767),Pf=0,io=Cf,Jc=kf,os=_f,ua=Ef,sd=0,pl=1,pg=2,Qh=3,$h=4,dr=5,ad=6,Qc=7,cc=8,tu=9,eu=10,nu=[2,3,7],od=[3,3,11],hc=[280,256,256,256,40],gg=[0,1,1,1,0],sv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],av=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ld=8,$c=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ru=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],uc=null,Tf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ov=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ls=[],da=[],Es=[],so=1,th=2,Ji=[],Cs=[];xs("UpsampleRgbLinePair",ll,3),xs("UpsampleBgrLinePair",$l,3),xs("UpsampleRgbaLinePair",Kh,4),xs("UpsampleBgraLinePair",Xh,4),xs("UpsampleArgbLinePair",ec,4),xs("UpsampleRgba4444LinePair",tc,2),xs("UpsampleRgb565LinePair",Zi,2);var cv=B.UpsampleRgbLinePair,hv=B.UpsampleBgrLinePair,gl=B.UpsampleRgbaLinePair,eh=B.UpsampleBgraLinePair,dc=B.UpsampleArgbLinePair,iu=B.UpsampleRgba4444LinePair,Ff=B.UpsampleRgb565LinePair,Bo=16,Ra=1<<Bo-1,rr=-227,cr=482,ml=6,Mi=0,ks=s(256),fc=s(256),nh=s(256),_s=s(256),cd=s(cr-rr),bg=s(cr-rr);La("YuvToRgbRow",ll,3),La("YuvToBgrRow",$l,3),La("YuvToRgbaRow",Kh,4),La("YuvToBgraRow",Xh,4),La("YuvToArgbRow",ec,4),La("YuvToRgba4444Row",tc,2),La("YuvToRgb565Row",Zi,2);var Rf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pc=[0,2,8],wg=[8,7,6,4,4,2,2,2,1,1,1,1],jo=1;this.WebPDecodeRGBA=function(b,S,T,O,V){var J=pl,et=new Pt,it=new Lt;et.ba=it,it.S=J,it.width=[it.width],it.height=[it.height];var at=it.width,ht=it.height,St=new K;if(St==null||b==null)var Rt=2;else t(St!=null),Rt=cl(b,S,T,St.width,St.height,St.Pd,St.Qd,St.format,null);if(Rt!=0?at=0:(at!=null&&(at[0]=St.width[0]),ht!=null&&(ht[0]=St.height[0]),at=1),at){it.width=it.width[0],it.height=it.height[0],O!=null&&(O[0]=it.width),V!=null&&(V[0]=it.height);t:{if(O=new Ki,(V=new Zt).data=b,V.w=S,V.ha=T,V.kd=1,S=[0],t(V!=null),((b=cl(V.data,V.w,V.ha,null,null,null,S,null,V))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(t(et!=null),O.data=V.data,O.w=V.w+V.offset,O.ha=V.ha-V.offset,O.put=ve,O.ac=Ae,O.bc=Rr,O.ma=et,V.xa){if((b=Bl())==null){et=1;break t}if((function(ut,Ct){var Tt=[0],Gt=[0],Dt=[0];e:for(;;){if(ut==null)return 0;if(Ct==null)return ut.a=2,0;if(ut.l=Ct,ut.a=0,rt(ut.m,Ct.data,Ct.w,Ct.ha),!Bn(ut.m,Tt,Gt,Dt)){ut.a=3;break e}if(ut.xb=th,Ct.width=Tt[0],Ct.height=Gt[0],!Ca(Tt[0],Gt[0],1,ut,null))break e;return 1}return t(ut.a!=0),0})(b,O)){if(O=(S=Ro(O.width,O.height,et.Oa,et.ba))==0){e:{O=b;n:for(;;){if(O==null){O=0;break e}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((T=O.l)!=null),t((V=T.ma)!=null),O.xb!=0){if(O.ca=V.ba,O.tb=V.tb,t(O.ca!=null),!Vc(V.Oa,T,Qh)){O.a=2;break n}if(!il(O,T.width)||T.da)break n;if((T.da||he(O.ca.S))&&ca(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&ca()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!vt(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Ir(O,O.V,O.Ba,O.c,O.i,T.o,nr))break n;V.Dc=O.Ma,O=1;break e}t(O.a!=0),O=0}O=!O}O&&(S=b.a)}else S=b.a}else{if((b=new bf)==null){et=1;break t}if(b.Fa=V.na,b.P=V.P,b.qc=V.Sa,Hl(b,O)){if((S=Ro(O.width,O.height,et.Oa,et.ba))==0){if(b.Aa=0,T=et.Oa,t((V=b)!=null),T!=null){if(0<(at=0>(at=T.Md)?0:100<at?255:255*at/100)){for(ht=St=0;4>ht;++ht)12>(Rt=V.pb[ht]).lc&&(Rt.ia=at*wg[0>Rt.lc?0:Rt.lc]>>3),St|=Rt.ia;St&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ut,Ct){if(ut==null)return 0;if(Ct==null)return si(ut,2,"NULL VP8Io parameter in VP8Decode().");if(!ut.cb&&!Hl(ut,Ct))return 0;if(t(ut.cb),Ct.ac==null||Ct.ac(Ct)){Ct.ob&&(ut.L=0);var Tt=pc[ut.L];if(ut.L==2?(ut.yb=0,ut.zb=0):(ut.yb=Ct.v-Tt>>4,ut.zb=Ct.j-Tt>>4,0>ut.yb&&(ut.yb=0),0>ut.zb&&(ut.zb=0)),ut.Va=Ct.o+15+Tt>>4,ut.Hb=Ct.va+15+Tt>>4,ut.Hb>ut.za&&(ut.Hb=ut.za),ut.Va>ut.Ub&&(ut.Va=ut.Ub),0<ut.L){var Gt=ut.ed;for(Tt=0;4>Tt;++Tt){var Dt;if(ut.Qa.Cb){var Wt=ut.Qa.Lb[Tt];ut.Qa.Fb||(Wt+=Gt.Tb)}else Wt=Gt.Tb;for(Dt=0;1>=Dt;++Dt){var Vt=ut.gd[Tt][Dt],$t=Wt;if(Gt.Pc&&($t+=Gt.vd[0],Dt&&($t+=Gt.od[0])),0<($t=0>$t?0:63<$t?63:$t)){var te=$t;0<Gt.wb&&(te=4<Gt.wb?te>>2:te>>1)>9-Gt.wb&&(te=9-Gt.wb),1>te&&(te=1),Vt.dd=te,Vt.tc=2*$t+te,Vt.ld=40<=$t?2:15<=$t?1:0}else Vt.tc=0;Vt.La=Dt}}}Tt=0}else si(ut,6,"Frame setup failed"),Tt=ut.a;if(Tt=Tt==0){if(Tt){ut.$c=0,0<ut.Aa||(ut.Ic=jo);e:{Tt=ut.Ic,Gt=4*(te=ut.za);var ze=32*te,ke=te+1,wn=0<ut.L?te*(0<ut.Aa?2:1):0,Fe=(ut.Aa==2?2:1)*te;if((Vt=Gt+832+(Dt=3*(16*Tt+pc[ut.L])/2*ze)+(Wt=ut.Fa!=null&&0<ut.Fa.length?ut.Kc.c*ut.Kc.i:0))!=Vt)Tt=0;else{if(Vt>ut.Vb){if(ut.Vb=0,ut.Ec=s(Vt),ut.Fc=0,ut.Ec==null){Tt=si(ut,1,"no memory during frame initialization.");break e}ut.Vb=Vt}Vt=ut.Ec,$t=ut.Fc,ut.Ac=Vt,ut.Bc=$t,$t+=Gt,ut.Gd=a(ze,js),ut.Hd=0,ut.rb=a(ke+1,sl),ut.sb=1,ut.wa=wn?a(wn,Bs):null,ut.Y=0,ut.D.Nb=0,ut.D.wa=ut.wa,ut.D.Y=ut.Y,0<ut.Aa&&(ut.D.Y+=te),t(!0),ut.oc=Vt,ut.pc=$t,$t+=832,ut.ya=a(Fe,Bc),ut.aa=0,ut.D.ya=ut.ya,ut.D.aa=ut.aa,ut.Aa==2&&(ut.D.aa+=te),ut.R=16*te,ut.B=8*te,te=(ze=pc[ut.L])*ut.R,ze=ze/2*ut.B,ut.sa=Vt,ut.ta=$t+te,ut.qa=ut.sa,ut.ra=ut.ta+16*Tt*ut.R+ze,ut.Ha=ut.qa,ut.Ia=ut.ra+8*Tt*ut.B+ze,ut.$c=0,$t+=Dt,ut.mb=Wt?Vt:null,ut.nb=Wt?$t:null,t($t+Wt<=ut.Fc+ut.Vb),ka(ut),r(ut.Ac,ut.Bc,0,Gt),Tt=1}}if(Tt){if(Ct.ka=0,Ct.y=ut.sa,Ct.O=ut.ta,Ct.f=ut.qa,Ct.N=ut.ra,Ct.ea=ut.Ha,Ct.Vd=ut.Ia,Ct.fa=ut.R,Ct.Rc=ut.B,Ct.F=null,Ct.J=0,!Pf){for(Tt=-255;255>=Tt;++Tt)Ef[255+Tt]=0>Tt?-Tt:Tt;for(Tt=-1020;1020>=Tt;++Tt)Cf[1020+Tt]=-128>Tt?-128:127<Tt?127:Tt;for(Tt=-112;112>=Tt;++Tt)kf[112+Tt]=-16>Tt?-16:15<Tt?15:Tt;for(Tt=-255;510>=Tt;++Tt)_f[255+Tt]=0>Tt?0:255<Tt?255:Tt;Pf=1}fl=Kn,ac=zh,Ss=Vl,Zn=Ya,lr=jc,zr=Zu,Ur=Gh,oi=Yi,Fa=_,Yh=G,Yc=la,Oo=Wc,rd=gt,Zc=xt,id=sa,Af=Fo,Zh=Zl,oc=Vh,da[0]=wf,da[1]=zc,da[2]=Gl,da[3]=Ja,da[4]=$u,da[5]=Lo,da[6]=zs,da[7]=td,da[8]=Xl,da[9]=Hc,ls[0]=_a,ls[1]=Ju,ls[2]=Qu,ls[3]=Uc,ls[4]=Za,ls[5]=As,ls[6]=ia,Es[0]=Ta,Es[1]=Uh,Es[2]=Hh,Es[3]=Pa,Es[4]=qh,Es[5]=qc,Es[6]=Wh,Tt=1}else Tt=0}Tt&&(Tt=(function(In,Hr){for(In.M=0;In.M<In.Va;++In.M){var An,_e=In.Jc[In.M&In.Xb],we=In.m,Jr=In;for(An=0;An<Jr.za;++An){var rn=we,Fn=Jr,yr=Fn.Ac,xi=Fn.Bc+4*An,li=Fn.zc,Mr=Fn.ya[Fn.aa+An];if(Fn.Qa.Bb?Mr.$b=Ot(rn,Fn.Pa.jb[0])?2+Ot(rn,Fn.Pa.jb[2]):Ot(rn,Fn.Pa.jb[1]):Mr.$b=0,Fn.kc&&(Mr.Ad=Ot(rn,Fn.Bd)),Mr.Za=!Ot(rn,145)+0,Mr.Za){var pi=Mr.Ob,Si=0;for(Fn=0;4>Fn;++Fn){var Tr,On=li[0+Fn];for(Tr=0;4>Tr;++Tr){On=ov[yr[xi+Tr]][On];for(var Jn=vg[Ot(rn,On[0])];0<Jn;)Jn=vg[2*Jn+Ot(rn,On[Jn])];On=-Jn,yr[xi+Tr]=On}n(pi,Si,yr,xi,4),Si+=4,li[0+Fn]=On}}else On=Ot(rn,156)?Ot(rn,128)?1:3:Ot(rn,163)?2:0,Mr.Ob[0]=On,r(yr,xi,On,4),r(li,0,On,4);Mr.Dd=Ot(rn,142)?Ot(rn,114)?Ot(rn,183)?1:3:2:0}if(Jr.m.Ka)return si(In,7,"Premature end-of-partition0 encountered.");for(;In.ja<In.za;++In.ja){if(Jr=_e,rn=(we=In).rb[we.sb-1],yr=we.rb[we.sb+we.ja],An=we.ya[we.aa+we.ja],xi=we.kc?An.Ad:0)rn.la=yr.la=0,An.Za||(rn.Na=yr.Na=0),An.Hc=0,An.Gc=0,An.ia=0;else{var Lr,Qn;if(rn=yr,yr=Jr,xi=we.Pa.Xc,li=we.ya[we.aa+we.ja],Mr=we.pb[li.$b],Fn=li.ad,pi=0,Si=we.rb[we.sb-1],On=Tr=0,r(Fn,pi,0,384),li.Za)var qr=0,Wr=xi[3];else{Jn=s(16);var fr=rn.Na+Si.Na;if(fr=uc(yr,xi[1],fr,Mr.Eb,0,Jn,0),rn.Na=Si.Na=(0<fr)+0,1<fr)fl(Jn,0,Fn,pi);else{var Qi=Jn[0]+3>>3;for(Jn=0;256>Jn;Jn+=16)Fn[pi+Jn]=Qi}qr=1,Wr=xi[0]}var hr=15&rn.la,pr=15&Si.la;for(Jn=0;4>Jn;++Jn){var ci=1&pr;for(Qi=Qn=0;4>Qi;++Qi)hr=hr>>1|(ci=(fr=uc(yr,Wr,fr=ci+(1&hr),Mr.Sc,qr,Fn,pi))>qr)<<7,Qn=Qn<<2|(3<fr?3:1<fr?2:Fn[pi+0]!=0),pi+=16;hr>>=4,pr=pr>>1|ci<<7,Tr=(Tr<<8|Qn)>>>0}for(Wr=hr,qr=pr>>4,Lr=0;4>Lr;Lr+=2){for(Qn=0,hr=rn.la>>4+Lr,pr=Si.la>>4+Lr,Jn=0;2>Jn;++Jn){for(ci=1&pr,Qi=0;2>Qi;++Qi)fr=ci+(1&hr),hr=hr>>1|(ci=0<(fr=uc(yr,xi[2],fr,Mr.Qc,0,Fn,pi)))<<3,Qn=Qn<<2|(3<fr?3:1<fr?2:Fn[pi+0]!=0),pi+=16;hr>>=2,pr=pr>>1|ci<<5}On|=Qn<<4*Lr,Wr|=hr<<4<<Lr,qr|=(240&pr)<<Lr}rn.la=Wr,Si.la=qr,li.Hc=Tr,li.Gc=On,li.ia=43690&On?0:Mr.ia,xi=!(Tr|On)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[An.$b][An.Za],we.wa[we.Y+we.ja].La|=!xi),Jr.Ka)return si(In,7,"Premature end-of-file encountered.")}if(ka(In),we=Hr,Jr=1,An=(_e=In).D,rn=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(An.M=_e.M,An.uc=rn,Us(_e,An),Jr=1,An=(Qn=_e.D).Nb,rn=(On=pc[_e.L])*_e.R,yr=On/2*_e.B,Jn=16*An*_e.R,Qi=8*An*_e.B,xi=_e.sa,li=_e.ta-rn+Jn,Mr=_e.qa,Fn=_e.ra-yr+Qi,pi=_e.Ha,Si=_e.Ia-yr+Qi,pr=(hr=Qn.M)==0,Tr=hr>=_e.Va-1,_e.Aa==2&&Us(_e,Qn),Qn.uc)for(ci=(fr=_e).D.M,t(fr.D.uc),Qn=fr.yb;Qn<fr.Hb;++Qn){qr=Qn,Wr=ci;var Oi=(Ps=(ti=fr).D).Nb;Lr=ti.R;var Ps=Ps.wa[Ps.Y+qr],Qr=ti.sa,$r=ti.ta+16*Oi*Lr+16*qr,$i=Ps.dd,gr=Ps.tc;if(gr!=0)if(t(3<=gr),ti.L==1)0<qr&&Af(Qr,$r,Lr,gr+4),Ps.La&&oc(Qr,$r,Lr,gr),0<Wr&&id(Qr,$r,Lr,gr+4),Ps.La&&Zh(Qr,$r,Lr,gr);else{var ts=ti.B,fa=ti.qa,Ia=ti.ra+8*Oi*ts+8*qr,Ei=ti.Ha,ti=ti.Ia+8*Oi*ts+8*qr;Oi=Ps.ld,0<qr&&(oi(Qr,$r,Lr,gr+4,$i,Oi),Yh(fa,Ia,Ei,ti,ts,gr+4,$i,Oi)),Ps.La&&(Oo(Qr,$r,Lr,gr,$i,Oi),Zc(fa,Ia,Ei,ti,ts,gr,$i,Oi)),0<Wr&&(Ur(Qr,$r,Lr,gr+4,$i,Oi),Fa(fa,Ia,Ei,ti,ts,gr+4,$i,Oi)),Ps.La&&(Yc(Qr,$r,Lr,gr,$i,Oi),rd(fa,Ia,Ei,ti,ts,gr,$i,Oi))}}if(_e.ia&&alert("todo:DitherRow"),we.put!=null){if(Qn=16*hr,hr=16*(hr+1),pr?(we.y=_e.sa,we.O=_e.ta+Jn,we.f=_e.qa,we.N=_e.ra+Qi,we.ea=_e.Ha,we.W=_e.Ia+Qi):(Qn-=On,we.y=xi,we.O=li,we.f=Mr,we.N=Fn,we.ea=pi,we.W=Si),Tr||(hr-=On),hr>we.o&&(hr=we.o),we.F=null,we.J=null,_e.Fa!=null&&0<_e.Fa.length&&Qn<hr&&(we.J=ai(_e,we,Qn,hr-Qn),we.F=_e.mb,we.F==null&&we.F.length==0)){Jr=si(_e,3,"Could not decode alpha data.");break e}Qn<we.j&&(On=we.j-Qn,Qn=we.j,t(!(1&On)),we.O+=_e.R*On,we.N+=_e.B*(On>>1),we.W+=_e.B*(On>>1),we.F!=null&&(we.J+=we.width*On)),Qn<hr&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Qn-we.j,we.U=we.va-we.v,we.T=hr-Qn,Jr=we.put(we))}An+1!=_e.Ic||Tr||(n(_e.sa,_e.ta-rn,xi,li+16*_e.R,rn),n(_e.qa,_e.ra-yr,Mr,Fn+8*_e.B,yr),n(_e.Ha,_e.Ia-yr,pi,Si+8*_e.B,yr))}if(!Jr)return si(In,6,"Output aborted.")}return 1})(ut,Ct)),Ct.bc!=null&&Ct.bc(Ct),Tt&=1}return Tt?(ut.cb=0,Tt):0})(b,O)||(S=b.a)}}else S=b.a}S==0&&et.Oa!=null&&et.Oa.fd&&(S=Gc(et.ba))}et=S}J=et!=0?null:11>J?it.f.RGBA.eb:it.f.kb.y}else J=null;return J};var su=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(B,X){for(var D="",z=0;z<4;z++)D+=String.fromCharCode(B[X++]);return D}function u(B,X){return B[X+0]|B[X+1]<<8}function f(B,X){return(B[X+0]|B[X+1]<<8|B[X+2]<<16)>>>0}function g(B,X){return(B[X+0]|B[X+1]<<8|B[X+2]<<16|B[X+3]<<24)>>>0}new l;var p=[0],v=[0],y=[],A=new l,w=i,C=(function(B,X){var D={},z=0,U=!1,Q=0,pt=0;if(D.frames=[],!(function(I,W){for(var nt=0;nt<4;nt++)if(I[W+nt]!="RIFF".charCodeAt(nt))return!0;return!1})(B,X)){for(g(B,X+=4),X+=8;X<B.length;){var Z=c(B,X),$=g(B,X+=4);X+=4;var st=$+(1&$);switch(Z){case"VP8 ":case"VP8L":D.frames[z]===void 0&&(D.frames[z]={}),(q=D.frames[z]).src_off=U?pt:X-8,q.src_size=Q+$+8,z++,U&&(U=!1,Q=0,pt=0);break;case"VP8X":(q=D.header={}).feature_flags=B[X];var rt=X+4;q.canvas_width=1+f(B,rt),rt+=3,q.canvas_height=1+f(B,rt),rt+=3;break;case"ALPH":U=!0,Q=st+8,pt=X-8;break;case"ANIM":(q=D.header).bgcolor=g(B,X),rt=X+4,q.loop_count=u(B,rt),rt+=2;break;case"ANMF":var ot,q;(q=D.frames[z]={}).offset_x=2*f(B,X),X+=3,q.offset_y=2*f(B,X),X+=3,q.width=1+f(B,X),X+=3,q.height=1+f(B,X),X+=3,q.duration=f(B,X),X+=3,ot=B[X++],q.dispose=1&ot,q.blend=ot>>1&1}Z!="ANMF"&&(X+=st)}return D}})(w,0);C.response=w,C.rgbaoutput=!0,C.dataurl=!1;var E=C.header?C.header:null,k=C.frames?C.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],v=[E.canvas_width];for(var L=0;L<k.length&&k[L].blend!=0;L++);}var R=k[0],M=A.WebPDecodeRGBA(w,R.src_off,R.src_size,v,p);R.rgba=M,R.imgwidth=v[0],R.imgheight=p[0];for(var j=0;j<v[0]*p[0]*4;j++)y[j]=M[j];return this.width=v,this.height=p,this.data=y,this}(function(i){var t,e,n,r,s,a,o,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=I;Object.defineProperty(this,"pdf",{get:function(){return W}});var nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return nt},set:function(zt){nt=!!zt}});var lt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return lt},set:function(zt){lt=!!zt}});var dt=0;Object.defineProperty(this,"posX",{get:function(){return dt},set:function(zt){isNaN(zt)||(dt=zt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(zt){isNaN(zt)||(mt=zt)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(zt){var vt;typeof zt=="number"?vt=[zt,zt,zt,zt]:((vt=new Array(4))[0]=zt[0],vt[1]=zt.length>=2?zt[1]:vt[0],vt[2]=zt.length>=3?zt[2]:vt[0],vt[3]=zt.length>=4?zt[3]:vt[1]),c.margin=vt}});var yt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yt},set:function(zt){yt=zt}});var _t=0;Object.defineProperty(this,"lastBreak",{get:function(){return _t},set:function(zt){_t=zt}});var Ot=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ot},set:function(zt){Ot=zt}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(zt){zt instanceof u&&(c=zt)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(zt){c.path=zt}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(zt){Xt=zt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(zt){var vt;vt=g(zt),this.ctx.fillStyle=vt.style,this.ctx.isFillTransparent=vt.a===0,this.ctx.fillOpacity=vt.a,this.pdf.setFillColor(vt.r,vt.g,vt.b,{a:vt.a}),this.pdf.setTextColor(vt.r,vt.g,vt.b,{a:vt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(zt){var vt=g(zt);this.ctx.strokeStyle=vt.style,this.ctx.isStrokeTransparent=vt.a===0,this.ctx.strokeOpacity=vt.a,vt.a===0?this.pdf.setDrawColor(255,255,255):(vt.a,this.pdf.setDrawColor(vt.r,vt.g,vt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(zt){["butt","round","square"].indexOf(zt)!==-1&&(this.ctx.lineCap=zt,this.pdf.setLineCap(zt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(zt){isNaN(zt)||(this.ctx.lineWidth=zt,this.pdf.setLineWidth(zt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(zt){["bevel","round","miter"].indexOf(zt)!==-1&&(this.ctx.lineJoin=zt,this.pdf.setLineJoin(zt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(zt){isNaN(zt)||(this.ctx.miterLimit=zt,this.pdf.setMiterLimit(zt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(zt){this.ctx.textBaseline=zt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(zt){["right","end","center","left","start"].indexOf(zt)!==-1&&(this.ctx.textAlign=zt)}});var ee=null,le=null;Object.defineProperty(this,"fontFaces",{get:function(){return le},set:function(zt){ee=null,le=zt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(zt){var vt;if(this.ctx.font=zt,(vt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(zt))!==null){var de=vt[1];vt[2];var re=vt[3],ne=vt[4];vt[5];var Jt=vt[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ne)[2];ne=Math.floor(ye==="px"?parseFloat(ne)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(ne)*this.pdf.getFontSize():parseFloat(ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ne);var ce=(function(Ue){var tt,Kt,Qt=[],Yt=Ue.trim();if(Yt==="")return Sy;if(Yt in nS)return[nS[Yt]];for(;Yt!=="";){switch(Kt=null,tt=(Yt=iS(Yt)).charAt(0)){case'"':case"'":Kt=v8(Yt.substring(1),tt);break;default:Kt=y8(Yt)}if(Kt===null||(Qt.push(Kt[0]),(Yt=iS(Kt[1]))!==""&&Yt.charAt(0)!==","))return Sy;Yt=Yt.replace(/^,/,"")}return Qt})(Jt);if(this.fontFaces){var Re=(function(Ue,tt){if(ee===null){var Kt=(function(Qt){var Yt=[];return Object.keys(Qt).forEach(function(At){Qt[At].forEach(function(Bt){var H=null;switch(Bt){case"bold":H={family:At,weight:"bold"};break;case"italic":H={family:At,style:"italic"};break;case"bolditalic":H={family:At,weight:"bold",style:"italic"};break;case"":case"normal":H={family:At}}H!==null&&(H.ref={name:At,style:Bt},Yt.push(H))})}),Yt})(Ue.getFontList());ee=(function(Qt){for(var Yt={},At=0;At<Qt.length;++At){var Bt=xy(Qt[At]),H=Bt.family,qt=Bt.stretch,he=Bt.style,N=Bt.weight;Yt[H]=Yt[H]||{},Yt[H][qt]=Yt[H][qt]||{},Yt[H][qt][he]=Yt[H][qt][he]||{},Yt[H][qt][he][N]=Bt}return Yt})(Kt.concat(tt))}return ee})(this.pdf,this.fontFaces),Ce=ce.map(function(Ue){return{family:Ue,stretch:"normal",weight:re,style:de}}),yn=(function(Ue,tt,Kt){for(var Qt=(Kt=Kt||{}).defaultFontFamily||"times",Yt=Object.assign({},m8,Kt.genericFontFamilies||{}),At=null,Bt=null,H=0;H<tt.length;++H)if(Yt[(At=xy(tt[H])).family]&&(At.family=Yt[At.family]),Ue.hasOwnProperty(At.family)){Bt=Ue[At.family];break}if(!(Bt=Bt||Ue[Qt]))throw new Error("Could not find a font-family for the rule '"+rS(At)+"' and default family '"+Qt+"'.");if(Bt=(function(qt,he){if(he[qt])return he[qt];var N=Sb[qt],Nt=N<=Sb.normal?-1:1,Lt=eS(he,N_,N,Nt);if(!Lt)throw new Error("Could not find a matching font-stretch value for "+qt);return Lt})(At.stretch,Bt),Bt=(function(qt,he){if(he[qt])return he[qt];for(var N=L_[qt],Nt=0;Nt<N.length;++Nt)if(he[N[Nt]])return he[N[Nt]];throw new Error("Could not find a matching font-style for "+qt)})(At.style,Bt),!(Bt=(function(qt,he){if(he[qt])return he[qt];if(qt===400&&he[500])return he[500];if(qt===500&&he[400])return he[400];var N=g8[qt],Nt=eS(he,F_,N,qt<400?-1:1);if(!Nt)throw new Error("Could not find a matching font-weight for value "+qt);return Nt})(At.weight,Bt)))throw new Error("Failed to resolve a font for the rule '"+rS(At)+"'.");return Bt})(Re,Ce);this.pdf.setFont(yn.ref.name,yn.ref.style)}else{var qe="";(re==="bold"||parseInt(re,10)>=700||de==="bold")&&(qe="bold"),de==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Ke="",Ln={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ie=0;Ie<ce.length;Ie++){if(this.pdf.internal.getFont(ce[Ie],qe,{noFallback:!0,disableWarning:!0})!==void 0){Ke=ce[Ie];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(ce[Ie],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=ce[Ie],qe="bold";else if(this.pdf.internal.getFont(ce[Ie],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=ce[Ie],qe="normal";break}}if(Ke===""){for(var Ee=0;Ee<ce.length;Ee++)if(Ln[ce[Ee]]){Ke=Ln[ce[Ee]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(zt){this.ctx.globalCompositeOperation=zt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(zt){this.ctx.globalAlpha=zt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(zt){this.ctx.lineDashOffset=zt,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(zt){this.ctx.lineDash=zt,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(zt){this.ctx.ignoreClearRect=!!zt}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,W){if(isNaN(I)||isNaN(W))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var nt=this.ctx.transform.applyToPoint(new a(I,W));this.path.push({type:"mt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new a(I,W)},f.prototype.closePath=function(){var I=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&mr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){I=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},f.prototype.lineTo=function(I,W){if(isNaN(I)||isNaN(W))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var nt=this.ctx.transform.applyToPoint(new a(I,W));this.path.push({type:"lt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new a(nt.x,nt.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,W,nt,lt){if(isNaN(nt)||isNaN(lt)||isNaN(I)||isNaN(W))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var dt=this.ctx.transform.applyToPoint(new a(nt,lt)),mt=this.ctx.transform.applyToPoint(new a(I,W));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:dt.x,y:dt.y}),this.ctx.lastPoint=new a(dt.x,dt.y)},f.prototype.bezierCurveTo=function(I,W,nt,lt,dt,mt){if(isNaN(dt)||isNaN(mt)||isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yt=this.ctx.transform.applyToPoint(new a(dt,mt)),_t=this.ctx.transform.applyToPoint(new a(I,W)),Ot=this.ctx.transform.applyToPoint(new a(nt,lt));this.path.push({type:"bct",x1:_t.x,y1:_t.y,x2:Ot.x,y2:Ot.y,x:yt.x,y:yt.y}),this.ctx.lastPoint=new a(yt.x,yt.y)},f.prototype.arc=function(I,W,nt,lt,dt,mt){if(isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt)||isNaN(dt))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=!!mt,!this.ctx.transform.isIdentity){var yt=this.ctx.transform.applyToPoint(new a(I,W));I=yt.x,W=yt.y;var _t=this.ctx.transform.applyToPoint(new a(0,nt)),Ot=this.ctx.transform.applyToPoint(new a(0,0));nt=Math.sqrt(Math.pow(_t.x-Ot.x,2)+Math.pow(_t.y-Ot.y,2))}Math.abs(dt-lt)>=2*Math.PI&&(lt=0,dt=2*Math.PI),this.path.push({type:"arc",x:I,y:W,radius:nt,startAngle:lt,endAngle:dt,counterclockwise:mt})},f.prototype.arcTo=function(I,W,nt,lt,dt){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,W,nt,lt){if(isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,W),this.lineTo(I+nt,W),this.lineTo(I+nt,W+lt),this.lineTo(I,W+lt),this.lineTo(I,W),this.lineTo(I+nt,W),this.lineTo(I,W)},f.prototype.fillRect=function(I,W,nt,lt){if(isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var dt={};this.lineCap!=="butt"&&(dt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(dt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,W,nt,lt),this.fill(),dt.hasOwnProperty("lineCap")&&(this.lineCap=dt.lineCap),dt.hasOwnProperty("lineJoin")&&(this.lineJoin=dt.lineJoin)}},f.prototype.strokeRect=function(I,W,nt,lt){if(isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(I,W,nt,lt),this.stroke())},f.prototype.clearRect=function(I,W,nt,lt){if(isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,W,nt,lt))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var lt=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=lt}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("Q");this.pdf.setPage(W),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var W,nt,lt,dt;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))W=0,nt=0,lt=0,dt=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(mt!==null)W=parseInt(mt[1]),nt=parseInt(mt[2]),lt=parseInt(mt[3]),dt=1;else if((mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)W=parseInt(mt[1]),nt=parseInt(mt[2]),lt=parseInt(mt[3]),dt=parseFloat(mt[4]);else{if(dt=1,typeof I=="string"&&I.charAt(0)!=="#"){var yt=new S_(I);I=yt.ok?yt.toHex():"#000000"}I.length===4?(W=I.substring(1,2),W+=W,nt=I.substring(2,3),nt+=nt,lt=I.substring(3,4),lt+=lt):(W=I.substring(1,3),nt=I.substring(3,5),lt=I.substring(5,7)),W=parseInt(W,16),nt=parseInt(nt,16),lt=parseInt(lt,16)}}return{r:W,g:nt,b:lt,a:dt,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,W,nt,lt){if(isNaN(W)||isNaN(nt)||typeof I!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(lt=isNaN(lt)?void 0:lt,!p.call(this)){var dt=st(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;z.call(this,{text:I,x:W,y:nt,scale:mt,angle:dt,align:this.textAlign,maxWidth:lt})}},f.prototype.strokeText=function(I,W,nt,lt){if(isNaN(W)||isNaN(nt)||typeof I!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){lt=isNaN(lt)?void 0:lt;var dt=st(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;z.call(this,{text:I,x:W,y:nt,scale:mt,renderingMode:"stroke",angle:dt,align:this.textAlign,maxWidth:lt})}},f.prototype.measureText=function(I){if(typeof I!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,nt=this.pdf.internal.scaleFactor,lt=W.internal.getFontSize(),dt=W.getStringUnitWidth(I)*lt/W.internal.scaleFactor;return new function(mt){var yt=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yt}}),this}({width:dt*=Math.round(96*nt/72*1e4)/1e4})},f.prototype.scale=function(I,W){if(isNaN(I)||isNaN(W))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var nt=new l(I,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(nt)},f.prototype.rotate=function(I){if(isNaN(I))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(I,W){if(isNaN(I)||isNaN(W))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var nt=new l(1,0,0,1,I,W);this.ctx.transform=this.ctx.transform.multiply(nt)},f.prototype.transform=function(I,W,nt,lt,dt,mt){if(isNaN(I)||isNaN(W)||isNaN(nt)||isNaN(lt)||isNaN(dt)||isNaN(mt))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yt=new l(I,W,nt,lt,dt,mt);this.ctx.transform=this.ctx.transform.multiply(yt)},f.prototype.setTransform=function(I,W,nt,lt,dt,mt){I=isNaN(I)?1:I,W=isNaN(W)?0:W,nt=isNaN(nt)?0:nt,lt=isNaN(lt)?1:lt,dt=isNaN(dt)?0:dt,mt=isNaN(mt)?0:mt,this.ctx.transform=new l(I,W,nt,lt,dt,mt)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,W,nt,lt,dt,mt,yt,_t,Ot){var Xt=this.pdf.getImageProperties(I),ee=1,le=1,zt=1,vt=1;lt!==void 0&&_t!==void 0&&(zt=_t/lt,vt=Ot/dt,ee=Xt.width/lt*_t/lt,le=Xt.height/dt*Ot/dt),mt===void 0&&(mt=W,yt=nt,W=0,nt=0),lt!==void 0&&_t===void 0&&(_t=lt,Ot=dt),lt===void 0&&_t===void 0&&(_t=Xt.width,Ot=Xt.height);for(var de,re=this.ctx.transform.decompose(),ne=st(re.rotate.shx),Jt=new l,ye=(Jt=(Jt=(Jt=Jt.multiply(re.translate)).multiply(re.skew)).multiply(re.scale)).applyToRectangle(new o(mt-W*zt,yt-nt*vt,lt*ee,dt*le)),ce=A.call(this,ye),Re=[],Ce=0;Ce<ce.length;Ce+=1)Re.indexOf(ce[Ce])===-1&&Re.push(ce[Ce]);if(E(Re),this.autoPaging)for(var yn=Re[0],qe=Re[Re.length-1],Ke=yn;Ke<qe+1;Ke++){this.pdf.setPage(Ke);var Ln=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=Ke===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ke===1?0:Ee+(Ke-2)*Ue;if(this.ctx.clip_path.length!==0){var Kt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(de,this.posX+this.margin[3],-tt+Ie+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Kt}var Qt=JSON.parse(JSON.stringify(ye));Qt=C([Qt],this.posX+this.margin[3],-tt+Ie+this.ctx.prevPageLastElemOffset)[0];var Yt=(Ke>yn||Ke<qe)&&y.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ln,Ue,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,ne),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,ne)};var A=function(I,W,nt){var lt=[];W=W||this.pdf.internal.pageSize.width,nt=nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var dt=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":lt.push(Math.floor((I.y+dt)/nt)+1);break;case"arc":lt.push(Math.floor((I.y+dt-I.radius)/nt)+1),lt.push(Math.floor((I.y+dt+I.radius)/nt)+1);break;case"qct":var mt=rt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);lt.push(Math.floor((mt.y+dt)/nt)+1),lt.push(Math.floor((mt.y+mt.h+dt)/nt)+1);break;case"bct":var yt=ot(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);lt.push(Math.floor((yt.y+dt)/nt)+1),lt.push(Math.floor((yt.y+yt.h+dt)/nt)+1);break;case"rect":lt.push(Math.floor((I.y+dt)/nt)+1),lt.push(Math.floor((I.y+I.h+dt)/nt)+1)}for(var _t=0;_t<lt.length;_t+=1)for(;this.pdf.internal.getNumberOfPages()<lt[_t];)w.call(this);return lt},w=function(){var I=this.fillStyle,W=this.strokeStyle,nt=this.font,lt=this.lineCap,dt=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=W,this.font=nt,this.lineCap=lt,this.lineWidth=dt,this.lineJoin=mt},C=function(I,W,nt){for(var lt=0;lt<I.length;lt++)switch(I[lt].type){case"bct":I[lt].x2+=W,I[lt].y2+=nt;case"qct":I[lt].x1+=W,I[lt].y1+=nt;default:I[lt].x+=W,I[lt].y+=nt}return I},E=function(I){return I.sort(function(W,nt){return W-nt})},k=function(I,W){for(var nt,lt,dt=this.fillStyle,mt=this.strokeStyle,yt=this.lineCap,_t=this.lineWidth,Ot=Math.abs(_t*this.ctx.transform.scaleX),Xt=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),le=JSON.parse(JSON.stringify(this.path)),zt=[],vt=0;vt<le.length;vt++)if(le[vt].x!==void 0)for(var de=A.call(this,le[vt]),re=0;re<de.length;re+=1)zt.indexOf(de[re])===-1&&zt.push(de[re]);for(var ne=0;ne<zt.length;ne++)for(;this.pdf.internal.getNumberOfPages()<zt[ne];)w.call(this);if(E(zt),this.autoPaging)for(var Jt=zt[0],ye=zt[zt.length-1],ce=Jt;ce<ye+1;ce++){this.pdf.setPage(ce),this.fillStyle=dt,this.strokeStyle=mt,this.lineCap=yt,this.lineWidth=Ot,this.lineJoin=Xt;var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=ce===1?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=ce===1?0:yn+(ce-2)*qe;if(this.ctx.clip_path.length!==0){var Ln=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(nt,this.posX+this.margin[3],-Ke+Ce+this.ctx.prevPageLastElemOffset),L.call(this,I,!0),this.path=Ln}if(lt=JSON.parse(JSON.stringify(ee)),this.path=C(lt,this.posX+this.margin[3],-Ke+Ce+this.ctx.prevPageLastElemOffset),W===!1||ce===0){var Ie=(ce>Jt||ce<ye)&&y.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,qe,null).clip().discardPath()),L.call(this,I,W),Ie&&this.pdf.restoreGraphicsState()}this.lineWidth=_t}else this.lineWidth=Ot,L.call(this,I,W),this.lineWidth=_t;this.path=ee},L=function(I,W){if((I!=="stroke"||W||!v.call(this))&&(I==="stroke"||W||!p.call(this))){for(var nt,lt,dt=[],mt=this.path,yt=0;yt<mt.length;yt++){var _t=mt[yt];switch(_t.type){case"begin":dt.push({begin:!0});break;case"close":dt.push({close:!0});break;case"mt":dt.push({start:_t,deltas:[],abs:[]});break;case"lt":var Ot=dt.length;if(mt[yt-1]&&!isNaN(mt[yt-1].x)&&(nt=[_t.x-mt[yt-1].x,_t.y-mt[yt-1].y],Ot>0)){for(;Ot>=0;Ot--)if(dt[Ot-1].close!==!0&&dt[Ot-1].begin!==!0){dt[Ot-1].deltas.push(nt),dt[Ot-1].abs.push(_t);break}}break;case"bct":nt=[_t.x1-mt[yt-1].x,_t.y1-mt[yt-1].y,_t.x2-mt[yt-1].x,_t.y2-mt[yt-1].y,_t.x-mt[yt-1].x,_t.y-mt[yt-1].y],dt[dt.length-1].deltas.push(nt);break;case"qct":var Xt=mt[yt-1].x+2/3*(_t.x1-mt[yt-1].x),ee=mt[yt-1].y+2/3*(_t.y1-mt[yt-1].y),le=_t.x+2/3*(_t.x1-_t.x),zt=_t.y+2/3*(_t.y1-_t.y),vt=_t.x,de=_t.y;nt=[Xt-mt[yt-1].x,ee-mt[yt-1].y,le-mt[yt-1].x,zt-mt[yt-1].y,vt-mt[yt-1].x,de-mt[yt-1].y],dt[dt.length-1].deltas.push(nt);break;case"arc":dt.push({deltas:[],abs:[],arc:!0}),Array.isArray(dt[dt.length-1].abs)&&dt[dt.length-1].abs.push(_t)}}lt=W?null:I==="stroke"?"stroke":"fill";for(var re=!1,ne=0;ne<dt.length;ne++)if(dt[ne].arc)for(var Jt=dt[ne].abs,ye=0;ye<Jt.length;ye++){var ce=Jt[ye];ce.type==="arc"?j.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,W,!re):U.call(this,ce.x,ce.y),re=!0}else if(dt[ne].close===!0)this.pdf.internal.out("h"),re=!1;else if(dt[ne].begin!==!0){var Re=dt[ne].start.x,Ce=dt[ne].start.y;Q.call(this,dt[ne].deltas,Re,Ce),re=!0}lt&&B.call(this,lt),W&&X.call(this)}},R=function(I){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,nt=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-nt;case"top":return I+W-nt;case"hanging":return I+W-2*nt;case"middle":return I+W/2-nt;default:return I}},M=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(W,nt){this.colorStops.push([W,nt])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(I,W,nt,lt,dt,mt,yt,_t,Ot){for(var Xt=Z.call(this,nt,lt,dt,mt),ee=0;ee<Xt.length;ee++){var le=Xt[ee];ee===0&&(Ot?D.call(this,le.x1+I,le.y1+W):U.call(this,le.x1+I,le.y1+W)),pt.call(this,I,W,le.x2,le.y2,le.x3,le.y3,le.x4,le.y4)}_t?X.call(this):B.call(this,yt)},B=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(I,W){this.pdf.internal.out(e(I)+" "+n(W)+" m")},z=function(I){var W;switch(I.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var nt=this.pdf.getTextDimensions(I.text),lt=R.call(this,I.y),dt=M.call(this,lt)-nt.h,mt=this.ctx.transform.applyToPoint(new a(I.x,lt)),yt=this.ctx.transform.decompose(),_t=new l;_t=(_t=(_t=_t.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale);for(var Ot,Xt,ee,le=this.ctx.transform.applyToRectangle(new o(I.x,lt,nt.w,nt.h)),zt=_t.applyToRectangle(new o(I.x,dt,nt.w,nt.h)),vt=A.call(this,zt),de=[],re=0;re<vt.length;re+=1)de.indexOf(vt[re])===-1&&de.push(vt[re]);if(E(de),this.autoPaging)for(var ne=de[0],Jt=de[de.length-1],ye=ne;ye<Jt+1;ye++){this.pdf.setPage(ye);var ce=ye===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],yn=Ce-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],Ke=qe-this.margin[3],Ln=ye===1?0:Re+(ye-2)*yn;if(this.ctx.clip_path.length!==0){var Ie=this.path;Ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ot,this.posX+this.margin[3],-1*Ln+ce),L.call(this,"fill",!0),this.path=Ie}var Ee=C([JSON.parse(JSON.stringify(zt))],this.posX+this.margin[3],-Ln+ce+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*I.scale),ee=this.lineWidth,this.lineWidth=ee*I.scale);var Ue=this.autoPaging!=="text";if(Ue||Ee.y+Ee.h<=Ce){if(Ue||Ee.y>=ce&&Ee.x<=qe){var tt=Ue?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||qe-Ee.x)[0],Kt=C([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-Ln+ce+this.ctx.prevPageLastElemOffset)[0],Qt=Ue&&(ye>ne||ye<Jt)&&y.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,yn,null).clip().discardPath()),this.pdf.text(tt,Kt.x,Kt.y,{angle:I.angle,align:W,renderingMode:I.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else Ee.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Ee.y);I.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ee)}else I.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*I.scale),ee=this.lineWidth,this.lineWidth=ee*I.scale),this.pdf.text(I.text,mt.x+this.posX,mt.y+this.posY,{angle:I.angle,align:W,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ee)},U=function(I,W,nt,lt){nt=nt||0,lt=lt||0,this.pdf.internal.out(e(I+nt)+" "+n(W+lt)+" l")},Q=function(I,W,nt){return this.pdf.lines(I,W,nt,null,null)},pt=function(I,W,nt,lt,dt,mt,yt,_t){this.pdf.internal.out([t(r(nt+I)),t(s(lt+W)),t(r(dt+I)),t(s(mt+W)),t(r(yt+I)),t(s(_t+W)),"c"].join(" "))},Z=function(I,W,nt,lt){for(var dt=2*Math.PI,mt=Math.PI/2;W>nt;)W-=dt;var yt=Math.abs(nt-W);yt<dt&&lt&&(yt=dt-yt);for(var _t=[],Ot=lt?-1:1,Xt=W;yt>1e-5;){var ee=Xt+Ot*Math.min(yt,mt);_t.push($.call(this,I,Xt,ee)),yt-=Math.abs(ee-Xt),Xt=ee}return _t},$=function(I,W,nt){var lt=(nt-W)/2,dt=I*Math.cos(lt),mt=I*Math.sin(lt),yt=dt,_t=-mt,Ot=yt*yt+_t*_t,Xt=Ot+yt*dt+_t*mt,ee=4/3*(Math.sqrt(2*Ot*Xt)-Xt)/(yt*mt-_t*dt),le=yt-ee*_t,zt=_t+ee*yt,vt=le,de=-zt,re=lt+W,ne=Math.cos(re),Jt=Math.sin(re);return{x1:I*Math.cos(W),y1:I*Math.sin(W),x2:le*ne-zt*Jt,y2:le*Jt+zt*ne,x3:vt*ne-de*Jt,y3:vt*Jt+de*ne,x4:I*Math.cos(nt),y4:I*Math.sin(nt)}},st=function(I){return 180*I/Math.PI},rt=function(I,W,nt,lt,dt,mt){var yt=I+.5*(nt-I),_t=W+.5*(lt-W),Ot=dt+.5*(nt-dt),Xt=mt+.5*(lt-mt),ee=Math.min(I,dt,yt,Ot),le=Math.max(I,dt,yt,Ot),zt=Math.min(W,mt,_t,Xt),vt=Math.max(W,mt,_t,Xt);return new o(ee,zt,le-ee,vt-zt)},ot=function(I,W,nt,lt,dt,mt,yt,_t){var Ot,Xt,ee,le,zt,vt,de,re,ne,Jt,ye,ce,Re,Ce,yn=nt-I,qe=lt-W,Ke=dt-nt,Ln=mt-lt,Ie=yt-dt,Ee=_t-mt;for(Xt=0;Xt<41;Xt++)ne=(de=(ee=I+(Ot=Xt/40)*yn)+Ot*((zt=nt+Ot*Ke)-ee))+Ot*(zt+Ot*(dt+Ot*Ie-zt)-de),Jt=(re=(le=W+Ot*qe)+Ot*((vt=lt+Ot*Ln)-le))+Ot*(vt+Ot*(mt+Ot*Ee-vt)-re),Xt==0?(ye=ne,ce=Jt,Re=ne,Ce=Jt):(ye=Math.min(ye,ne),ce=Math.min(ce,Jt),Re=Math.max(Re,ne),Ce=Math.max(Ce,Jt));return new o(Math.round(ye),Math.round(ce),Math.round(Re-ye),Math.round(Ce-ce))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,W,nt=(I=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:W}));this.prevLineDash!==nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=nt)}}})(Ge.API),(function(i){var t=function(a){var o,l,c,u,f,g,p,v,y,A;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(A=f%85))/85)-(y=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)%85,l.push(g+33,p+33,v+33,y+33,A+33)):l.push(122);return(function(w,C){for(var E=C;E>0;E--)w.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},e=function(a){var o,l,c,u,f,g=String,p="length",v=255,y="charCodeAt",A="slice",w="replace";for(a[A](-2),a=a[A](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,f=(a+=o="uuuuu"[A](a[p]%5||5))[p];f>u;u+=5)l=52200625*(a[y](u)-33)+614125*(a[y](u+1)-33)+7225*(a[y](u+2)-33)+85*(a[y](u+3)-33)+(a[y](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return(function(C,E){for(var k=E;k>0;k--)C.pop()})(c,o[p]),g.fromCharCode.apply(g,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=mb(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};i.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Ge.API),(function(i){i.loadFile=function(t,e,n){return(function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,u){var f=new XMLHttpRequest,g=0,p=function(v){var y=v.length,A=[],w=String.fromCharCode;for(g=0;g<y;g+=1)A.push(w(255&v.charCodeAt(g)));return A.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)})(r,s,a)}catch{}return o})(t,e,n)},i.loadImageFile=i.loadFile})(Ge.API),(function(i){function t(){return(dn.html2canvas?Promise.resolve(dn.html2canvas):iy(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(dn.DOMPurify?Promise.resolve(dn.DOMPurify):iy(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=mr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(e).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],y=v.src.find(function(A){return A.format==="truetype"});y&&c.addFont(y.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,f).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),g=c.call(f,o,l);return a.convert(g,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ge.getPageSize=function(o,l,c){if(mr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,y=0,A=0;if(p.hasOwnProperty(g))y=p[g][1]/f,A=p[g][0]/f;else try{y=c[1],A=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",A>y&&(v=A,A=y,y=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>A&&(v=A,A=y,y=v)}return{width:A,height:y,unit:l,k:f,orientation:o}},i.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(xy):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Ge.API),Ge.API.addJS=function(i){return aS=i,this.internal.events.subscribe("postPutResources",function(){N0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(N0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+aS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){N0!==void 0&&sS!==void 0&&this.internal.out("/Names <</JavaScript "+N0+" 0 R>>")}),this},(function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=n.exec(a);if(o!=null){var l=o[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=e.internal.newObject();u.push(f);var g=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,s){var a={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])})(Ge.API),(function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=(function(f){for(var g,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,y={width:0,height:0,numcomponents:1},A=4;A<v;A+=2){if(A+=p,t.indexOf(f.charCodeAt(A+1))!==-1){g=256*f.charCodeAt(A+5)+f.charCodeAt(A+6),y={width:256*f.charCodeAt(A+7)+f.charCodeAt(A+8),height:g,numcomponents:f.charCodeAt(A+9)};break}p=256*f.charCodeAt(A+2)+f.charCodeAt(A+3)}return y})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:r}}return u}})(Ge.API),Ge.API.processPNG=function(i,t,e,n){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var r,s=e8(i,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;r=c&&l===1?(function(j){for(var B=j.width,X=j.height,D=j.data,z=j.palette,U=j.depth,Q=!1,pt=[],Z=[],$=void 0,st=!1,rt=0,ot=0;ot<z.length;ot++){var q=h5(z[ot],4),I=q[0],W=q[1],nt=q[2],lt=q[3];pt.push(I,W,nt),lt!=null&&(lt===0?(rt++,Z.length<1&&Z.push(ot)):lt<255&&(st=!0))}if(st||rt>1){Q=!0,Z=void 0;var dt=B*X;$=new Uint8Array(dt);for(var mt=new DataView(D.buffer),yt=0;yt<dt;yt++){var _t=Ey(mt,yt,U),Ot=h5(z[_t],4)[3];$[yt]=Ot}}else rt===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:D,alphaBytes:$,needSMask:Q,palette:pt,mask:Z}})(s):l===2||l===4?(function(j){for(var B=j.data,X=j.width,D=j.height,z=j.channels,U=j.depth,Q=z===2?"DeviceGray":"DeviceRGB",pt=z-1,Z=X*D,$=pt,st=Z*$,rt=1*Z,ot=Math.ceil(st*U/8),q=Math.ceil(rt*U/8),I=new Uint8Array(ot),W=new Uint8Array(q),nt=new DataView(B.buffer),lt=new DataView(I.buffer),dt=new DataView(W.buffer),mt=!1,yt=0;yt<Z;yt++){for(var _t=yt*z,Ot=0;Ot<$;Ot++)gS(lt,Ey(nt,_t+Ot,U),yt*$+Ot,U);var Xt=Ey(nt,_t+$,U);Xt<(1<<U)-1&&(mt=!0),gS(dt,Xt,1*yt,U)}return{colorSpace:Q,colorsPerPixel:pt,sMaskBitsPerComponent:mt?U:void 0,colorBytes:I,alphaBytes:W,needSMask:mt}})(s):(function(j){var B=j.data,X=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(D){for(var z=D.length,U=new Uint8Array(2*z),Q=new DataView(U.buffer,U.byteOffset,U.byteLength),pt=0;pt<z;pt++)Q.setUint16(2*pt,D[pt],!1);return U})(B):B,needSMask:!1}})(s);var f,g,p,v=r,y=v.colorSpace,A=v.colorsPerPixel,w=v.sMaskBitsPerComponent,C=v.colorBytes,E=v.alphaBytes,k=v.needSMask,L=v.palette,R=v.mask,M=null;return n!==Ge.API.image_compression.NONE&&typeof mb=="function"?(M=(function(j){var B;switch(j){case Ge.API.image_compression.FAST:B=11;break;case Ge.API.image_compression.MEDIUM:B=13;break;case Ge.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," /Colors ").concat(A," /BitsPerComponent ").concat(u," /Columns ").concat(a),i=hS(C,Math.ceil(a*A*u/8),A,u,n),k&&(p=hS(E,Math.ceil(a*w/8),1,w,n))):(f=void 0,g=void 0,i=C,k&&(p=E)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:e,data:i,index:t,filter:f,decodeParameters:g,transparency:R,palette:L,sMask:p,predictor:M,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:y}}},(function(i){i.processGIF89A=function(t,e,n,r){var s=new x8(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new Cy(100).encode(c,100);return i.processJPEG.call(this,u,e,n,r)},i.processGIF87A=i.processGIF89A})(Ge.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){kr.log("bit decode error:"+e)}},Ko.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*r*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},Ko.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=n*this.width*4+4*r;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=i}},Ko.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&e)/e*255|0,c=(a>>11)/t*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=i}},Ko.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=a}},Ko.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(t,e,n,r){var s=new Ko(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Cy(100).encode(l,100);return i.processJPEG.call(this,c,e,n,r)}})(Ge.API),vS.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(t,e,n,r){var s=new vS(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Cy(100).encode(l,100);return i.processJPEG.call(this,c,e,n,r)}})(Ge.API),Ge.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,l=0,c=0;c<r;c+=4){var u=n[c],f=n[c+1],g=n[c+2],p=n[c+3];s[o++]=u,s[o++]=f,s[o++]=g,a[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Ge.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rd=Ge.API,F0=Rd.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,g=0,p=i.length,v=0,y=o[0]||l,A=[];for(e=0;e<p;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?A.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=f&&mr(c[n])==="object"&&!isNaN(parseInt(c[n][v],10))?c[n][v]/u:0,A.push((o[n]||y)/l+g)),v=n;return A},oS=Rd.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Rd.processArabic&&(i=Rd.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:F0.apply(this,arguments).reduce(function(s,a){return s+a},0)},lS=function(i,t,e,n){for(var r=[],s=0,a=i.length,o=0;s!==a&&o+t[s]<e;)o+=t[s],s++;r.push(i.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>n&&(r.push(i.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&r.push(i.slice(l,s)),r},cS=function(i,t,e){e||(e={});var n,r,s,a,o,l,c,u=[],f=[u],g=e.textIndent||0,p=0,v=0,y=i.split(" "),A=F0.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?y[0].length+2:e.lineIndent||0){var w=Array(l).join(" "),C=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?C=C.concat(k.map(function(L,R){return(R&&L.length?`
`:"")+L})):C.push(k[0])}),y=C,l=oS.apply(this,[w,e])}for(s=0,a=y.length;s<a;s++){var E=0;if(n=y[s],l&&n[0]==`
`&&(n=n.substr(1),E=1),g+p+(v=(r=F0.apply(this,[n,e])).reduce(function(k,L){return k+L},0))>t||E){if(v>t){for(o=lS.apply(this,[n,r,t-(g+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=r.slice(n.length-(u[0]?u[0].length:0)).reduce(function(k,L){return k+L},0)}else u=[n];f.push(u),g=v+l,p=A}else u.push(n),g+=p+v,p=A}return c=l?function(k,L){return(L?w:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(c)},Rd.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(cS.apply(this,[n[o],a,s]));return c},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",n={},r={},s=0;s<16;s++)n[e[s]]=t[s],r[t[s]]=e[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=i.__fontmetrics__.compress=function(g){var p,v,y,A,w=["{"];for(var C in g){if(p=g[C],isNaN(parseInt(C,10))?v="'"+C+"'":(C=parseInt(C,10),v=(v=a(C).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof p=="number")p<0?(y=a(p).slice(3),A="-"):(y=a(p).slice(2),A=""),y=A+y.slice(0,-1)+r[y.slice(-1)];else{if(mr(p)!=="object")throw new Error("Don't know what to do with value type "+mr(p)+".");y=o(p)}w.push(v+y)}return w.push("}"),w.join("")},l=i.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,y,A,w={},C=1,E=w,k=[],L="",R="",M=g.length-1,j=1;j<M;j+=1)(A=g[j])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(A):A=="{"?(k.push([E,y]),E={},y=void 0):A=="}"?((v=k.pop())[0][v[1]]=E,y=void 0,E=v[0]):A=="-"?C=-1:y===void 0?n.hasOwnProperty(A)?(L+=n[A],y=parseInt(L,16)*C,C=1,L=""):L+=A:n.hasOwnProperty(A)?(R+=n[A],E[y]=parseInt(R,16)*C,C=1,y=void 0,R=""):R+=A;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(g){var p=g.font,v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var y=u.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])})(Ge.API),(function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=e.charCodeAt(s);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(K0(o)),a.metadata=i.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,n)}}])})(Ge),Ge.API.addSvgAsImage=function(i,t,e,n,r,s,a,o){if(isNaN(t)||isNaN(e))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(dn.canvg?Promise.resolve(dn.canvg):iy(()=>import("./index.es-BE3aiQej.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,i,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,e,n,r,a,o)})},Ge.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},Ge.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,f=0;function g(v,y){var A,w=!1;for(A=0;A<v.length;A+=1)v[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)e[o[f]].value=e[o[f]].defaultValue,e[o[f]].explicitSet=!1}if(mr(i)==="object"){for(r in i)if(s=i[r],g(o,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&g(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in e)e[v].explicitSet===!0&&(e[v].type==="name"?y.push("/"+v+" /"+e[v].value):y.push("/"+v+" "+e[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(i){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ge.API),(function(i){var t=i.API,e=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,g=s.length;f<g;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(s){var a,o,l,c,u,f,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(o=Object.keys(s).sort(function(p,v){return p-v})).length;f<g;f++)a=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof i.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<g.length;v++)p+=String.fromCharCode(g[v]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var A=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ud(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+i.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ud(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+i.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Ud(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof i.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,g="",p=0;p<f.length;p++)g+=String.fromCharCode(f[p]);var v=c();u({data:g,addLength1:!0,objectId:v}),l("endobj");var y=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var A=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+i.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ud(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Ud(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},g=f.pdfEscape,p=f.activeFontKey,v=f.fonts,y=p,A="",w=0,C="",E=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(C=o,y=p,Array.isArray(o)&&(C=o[0]),w=0;w<C.length;w+=1)v[y].metadata.hasOwnProperty("cmap")&&(a=v[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),a||C[w].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var k="";return parseInt(y.slice(1))<14||E==="WinAnsiEncoding"?k=g(A,y).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(k=e(A,v[y])),f.isHex=!0,{text:k,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(r(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=r(Object.assign({},l,{text:a})).text}])})(Ge),(function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ge.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,a,o,l,c,u,f=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,E=0;this.__bidiEngine__={};var k=function(D){var z=D.charCodeAt(),U=z>>8,Q=y[U];return Q!==void 0?f[256*Q+(255&z)]:U===252||U===253?"AL":w.test(U)?"L":U===8?"R":"N"},L=function(D){for(var z,U=0;U<D.length;U++){if((z=k(D.charAt(U)))==="L")return!1;if(z==="R")return!0}return!1},R=function(D,z,U,Q){var pt,Z,$,st,rt=z[Q];switch(rt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(rt="AN");break;case"AL":C=!0,rt="R";break;case"WS":case"BN":rt="N";break;case"CS":Q<1||Q+1>=z.length||(pt=U[Q-1])!=="EN"&&pt!=="AN"||(Z=z[Q+1])!=="EN"&&Z!=="AN"?rt="N":C&&(Z="AN"),rt=Z===pt?Z:"N";break;case"ES":rt=(pt=Q>0?U[Q-1]:"B")==="EN"&&Q+1<z.length&&z[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&U[Q-1]==="EN"){rt="EN";break}if(C){rt="N";break}for($=Q+1,st=z.length;$<st&&z[$]==="ET";)$++;rt=$<st&&z[$]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(st=z.length,$=Q+1;$<st&&z[$]==="NSM";)$++;if($<st){var ot=D[Q],q=ot>=1425&&ot<=2303||ot===64286;if(pt=z[$],q&&(pt==="R"||pt==="AL")){rt="R";break}}}rt=Q<1||(pt=z[Q-1])==="B"?"N":U[Q-1];break;case"B":C=!1,r=!0,rt=E;break;case"S":s=!0,rt="N"}return rt},M=function(D,z,U){var Q=D.split("");return U&&j(Q,U,{hiLevel:E}),Q.reverse(),z&&z.reverse(),Q.join("")},j=function(D,z,U){var Q,pt,Z,$,st,rt=-1,ot=D.length,q=0,I=[],W=E?p:g,nt=[];for(C=!1,r=!1,s=!1,pt=0;pt<ot;pt++)nt[pt]=k(D[pt]);for(Z=0;Z<ot;Z++){if(st=q,I[Z]=R(D,nt,I,Z),Q=240&(q=W[st][v[I[Z]]]),q&=15,z[Z]=$=W[q][5],Q>0)if(Q===16){for(pt=rt;pt<Z;pt++)z[pt]=1;rt=-1}else rt=-1;if(W[q][6])rt===-1&&(rt=Z);else if(rt>-1){for(pt=rt;pt<Z;pt++)z[pt]=$;rt=-1}nt[Z]==="B"&&(z[Z]=0),U.hiLevel|=$}s&&(function(lt,dt,mt){for(var yt=0;yt<mt;yt++)if(lt[yt]==="S"){dt[yt]=E;for(var _t=yt-1;_t>=0&&lt[_t]==="WS";_t--)dt[_t]=E}})(nt,z,ot)},B=function(D,z,U,Q,pt){if(!(pt.hiLevel<D)){if(D===1&&E===1&&!r)return z.reverse(),void(U&&U.reverse());for(var Z,$,st,rt,ot=z.length,q=0;q<ot;){if(Q[q]>=D){for(st=q+1;st<ot&&Q[st]>=D;)st++;for(rt=q,$=st-1;rt<$;rt++,$--)Z=z[rt],z[rt]=z[$],z[$]=Z,U&&(Z=U[rt],U[rt]=U[$],U[$]=Z);q=st}q++}}},X=function(D,z,U){var Q=D.split(""),pt={hiLevel:E};return U||(U=[]),j(Q,U,pt),(function(Z,$,st){if(st.hiLevel!==0&&u)for(var rt,ot=0;ot<Z.length;ot++)$[ot]===1&&(rt=A.indexOf(Z[ot]))>=0&&(Z[ot]=A[rt+1])})(Q,U,pt),B(2,Q,z,U,pt),B(1,Q,z,U,pt),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(D,z,U){if((function(pt,Z){if(Z)for(var $=0;$<pt.length;$++)Z[$]=$;o===void 0&&(o=L(pt)),c===void 0&&(c=L(pt))})(D,z),a||!l||c)if(a&&l&&o^c)E=o?1:0,D=M(D,z,U);else if(!a&&l&&c)E=o?1:0,D=X(D,z,U),D=M(D,z);else if(!a||o||l||c){if(a&&!l&&o^c)D=M(D,z),o?(E=0,D=X(D,z,U)):(E=1,D=X(D,z,U),D=M(D,z));else if(a&&o&&!l&&c)E=1,D=X(D,z,U),D=M(D,z);else if(!a&&!l&&o^c){var Q=u;o?(E=1,D=X(D,z,U),E=0,u=!1,D=X(D,z,U),u=Q):(E=0,D=X(D,z,U),D=M(D,z),E=1,u=!1,D=X(D,z,U),u=Q,D=M(D,z))}}else E=0,D=X(D,z,U);else E=o?1:0,D=X(D,z,U);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,l=D.isOutputVisual,o=D.isInputRtl,c=D.isOutputRtl,u=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([e.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([e.doBidiReorder(r[o])]);n.text=a}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])})(Ge),Ge.API.TTFFont=(function(){function i(t){var e;if(this.rawData=t,e=this.contents=new Mh(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new O8(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new S8(this.contents),this.head=new C8(this),this.name=new L8(this),this.cmap=new I_(this),this.toUnicode={},this.hhea=new k8(this),this.maxp=new N8(this),this.hmtx=new F8(this),this.post=new P8(this),this.os2=new _8(this),this.loca=new M8(this),this.glyf=new R8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return a*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i})();var rl,Mh=(function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,s,a,o,l;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*s+65536*a+256*o+l},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,s;for(s=[],n=0,r=t.length;n<r;n++)e=t[n],s.push(this.writeByte(e));return s},i})(),S8=(function(){var i;function t(e){var n,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,s,a,o,l,c,u,f,g,p,v,y;for(y in p=Object.keys(e).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),a=Math.floor(f/l),u=16*p-f,(r=new Mh).writeInt(this.scalarType),r.writeShort(p),r.writeShort(f),r.writeShort(a),r.writeShort(u),s=16*p,c=r.pos+s,o=null,v=[],e)for(g=e[y],r.writeString(y),r.writeInt(i(g)),r.writeInt(c),r.writeInt(g.length),v=v.concat(g),y==="head"&&(o=c),c+=g.length;c%4;)v.push(0),c++;return r.write(v),n=2981146554-i(r.data),r.pos=o+8,r.writeUInt32(n),r.data},i=function(e){var n,r,s,a;for(e=D_.call(e);e.length%4;)e.push(0);for(s=new Mh(e),r=0,n=0,a=e.length;n<a;n=n+=4)r+=s.readUInt32();return 4294967295&r},t})(),E8={}.hasOwnProperty,Ol=function(i,t){for(var e in t)E8.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};rl=(function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var C8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="head",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},i.prototype.encode=function(t){var e;return(e=new Mh).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},i})(),yS=(function(){function i(t,e){var n,r,s,a,o,l,c,u,f,g,p,v,y,A,w,C,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,s=(function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L})(),t.pos+=2,y=(function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L})(),c=(function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L})(),u=(function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L})(),r=(this.length-t.pos+this.offset)/2,o=(function(){var k,L;for(L=[],l=k=0;0<=r?k<r:k>r;l=0<=r?++k:--k)L.push(t.readUInt16());return L})(),l=w=0,E=s.length;w<E;l=++w)for(A=s[l],n=C=v=y[l];v<=A?C<=A:C>=A;n=v<=A?++C:--C)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-v)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}t.pos=f}return i.encode=function(t,e){var n,r,s,a,o,l,c,u,f,g,p,v,y,A,w,C,E,k,L,R,M,j,B,X,D,z,U,Q,pt,Z,$,st,rt,ot,q,I,W,nt,lt,dt,mt,yt,_t,Ot,Xt,ee;switch(Q=new Mh,a=Object.keys(t).sort(function(le,zt){return le-zt}),e){case"macroman":for(y=0,A=(function(){var le=[];for(v=0;v<256;++v)le.push(0);return le})(),C={0:0},s={},pt=0,rt=a.length;pt<rt;pt++)C[_t=t[r=a[pt]]]==null&&(C[_t]=++y),s[r]={old:t[r],new:C[t[r]]},A[r]=C[t[r]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(A),{charMap:s,subtable:Q.data,maxGlyphID:y+1};case"unicode":for(z=[],f=[],E=0,C={},n={},w=c=null,Z=0,ot=a.length;Z<ot;Z++)C[L=t[r=a[Z]]]==null&&(C[L]=++E),n[r]={old:L,new:C[L]},o=C[L]-r,w!=null&&o===c||(w&&f.push(w),z.push(r),c=o),w=r;for(w&&f.push(w),f.push(65535),z.push(65535),X=2*(B=z.length),j=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(j/2)/Math.LN2,M=2*B-j,l=[],R=[],p=[],v=$=0,q=z.length;$<q;v=++$){if(D=z[v],u=f[v],D===65535){l.push(0),R.push(0);break}if(D-(U=n[D].new)>=32768)for(l.push(0),R.push(2*(p.length+B-v)),r=st=D;D<=u?st<=u:st>=u;r=D<=u?++st:--st)p.push(n[r].new);else l.push(U-D),R.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*B+2*p.length),Q.writeUInt16(0),Q.writeUInt16(X),Q.writeUInt16(j),Q.writeUInt16(g),Q.writeUInt16(M),mt=0,I=f.length;mt<I;mt++)r=f[mt],Q.writeUInt16(r);for(Q.writeUInt16(0),yt=0,W=z.length;yt<W;yt++)r=z[yt],Q.writeUInt16(r);for(Ot=0,nt=l.length;Ot<nt;Ot++)o=l[Ot],Q.writeUInt16(o);for(Xt=0,lt=R.length;Xt<lt;Xt++)k=R[Xt],Q.writeUInt16(k);for(ee=0,dt=p.length;ee<dt;ee++)y=p[ee],Q.writeUInt16(y);return{charMap:n,subtable:Q.data,maxGlyphID:E+1}}},i})(),I_=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="cmap",i.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new yS(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},i.encode=function(t,e){var n,r;return e==null&&(e="macroman"),n=yS.encode(t,e),(r=new Mh).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},i})(),k8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="hhea",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},i})(),_8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="OS/2",i.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n})(),this.charRange=(function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},i})(),P8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="post",i.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},i})(),T8=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},L8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="name",i.prototype.parse=function(t){var e,n,r,s,a,o,l,c,u,f,g;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=u=0,f=n.length;u<f;s=++u)r=n[s],t.pos=r.offset,c=t.readString(r.length),a=new T8(c,r),l[g=r.nameID]==null&&(l[g]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},i})(),N8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="maxp",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},i})(),F8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="hmtx",i.prototype.parse=function(t){var e,n,r,s,a,o,l;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],e=c=0;0<=r?c<r:c>r;e=0<=r?++c:--c)u.push(t.readInt16());return u})(),this.widths=(function(){var c,u,f,g;for(g=[],c=0,u=(f=this.metrics).length;c<u;c++)s=f[c],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],e=a=0;0<=r?a<r:a>r;e=0<=r?++a:--a)l.push(this.widths.push(n));return l},i.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},i})(),D_=[].slice,R8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(t){var e,n,r,s,a,o,l,c,u,f;return t in this.cache?this.cache[t]:(s=this.file.loca,e=this.file.contents,n=s.indexOf(t),(r=s.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+n,a=(o=new Mh(e.read(r))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=a===-1?new D8(o,c,f,l,u):new I8(o,a,c,f,l,u),this.cache[t]))},i.prototype.encode=function(t,e,n){var r,s,a,o,l;for(a=[],s=[],o=0,l=e.length;o<l;o++)r=t[e[o]],s.push(a.length),r&&(a=a.concat(r.encode(n)));return s.push(a.length),{table:a,offsets:s}},i})(),I8=(function(){function i(t,e,n,r,s,a){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),D8=(function(){function i(t,e,n,r,s){var a,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new Mh(D_.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i})(),M8=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ol(i,rl),i.prototype.tag="loca",i.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var r,s;for(s=[],n=0,r=this.length;n<r;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],n=0,r=this.length;n<r;n+=4)s.push(t.readUInt32());return s}).call(this)},i.prototype.indexOf=function(t){return this.offsets[t]},i.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},i.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<n.length;++a)if(n[a]=r,s<e.length&&e[s]==a){++s,n[a]=r;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(r+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},i})(),O8=(function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,s,a,o,l;for(r={},a=0,o=t.length;a<o;a++)r[s=t[a]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(n=r[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))n=l[s],r[s]=n;return r},i.prototype.encode=function(t,e){var n,r,s,a,o,l,c,u,f,g,p,v,y,A,w;for(r in n=I_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},w=n.charMap)p[(l=w[r]).old]=l.new;for(v in g=n.maxGlyphID,a)v in p||(p[v]=g++);return u=(function(C){var E,k;for(E in k={},C)k[C[E]]=E;return k})(p),f=Object.keys(u).sort(function(C,E){return C-E}),y=(function(){var C,E,k;for(k=[],C=0,E=f.length;C<E;C++)o=f[C],k.push(u[o]);return k})(),s=this.font.glyf.encode(a,y,p),c=this.font.loca.encode(s.offsets,y),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},i})();Ge.API.PDFObject=(function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,s,a;if(Array.isArray(e))return"["+(function(){var o,l,c;for(c=[],o=0,l=e.length;o<l;o++)n=e[o],c.push(t.convert(n));return c})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)a=e[r],s.push("/"+r+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+e},t})();class B8{constructor(){this.pageWidth=595.28,this.pageHeight=841.89,this.margin=50}async generateTranslationPDF(t,e,n){try{const r=await Rc.create(),s=await r.embedFont(_u.Helvetica),a=await r.embedFont(_u.HelveticaBold),o=await r.embedFont(_u.TimesRoman),l=await t.arrayBuffer(),c=await Rc.load(l),u=c.getPages(),f=Math.max(e.length,n.length);for(let p=0;p<f;p++){if(p<u.length){const[v]=await r.copyPages(c,[p]);r.addPage(v)}if(p<n.length){const v=await this.createTranslationPage(r,e[p],n[p],s,a,p+1);r.addPage(v)}}for(let p=0;p<n.length;p++){const v=await this.createWordMappingPage(r,n[p],s,a,o,p+1);r.addPage(v)}return await r.save()}catch(r){throw console.error("Error generating PDF:",r),new Error(`PDF generation failed: ${r.message}`)}}async createTranslationPage(t,e,n,r,s,a){const o=t.addPage([this.pageWidth,this.pageHeight]),{width:l,height:c}=o.getSize();o.drawText(`Translation - Page ${a}`,{x:this.margin,y:c-this.margin,size:16,font:s,color:tn(.2,.2,.8)}),o.drawLine({start:{x:this.margin,y:c-this.margin-25},end:{x:l-this.margin,y:c-this.margin-25},thickness:1,color:tn(.7,.7,.7)});let u=c-this.margin-50;if(n.translatedTextItems&&n.translatedTextItems.length>0)for(const f of n.translatedTextItems){if(u<this.margin+50)break;const g=this.margin+(f.x||0)*.5,p=u-(f.y||0)*.1,v=Math.max(8,Math.min(14,f.fontSize||12)),y=this.parseColor(f.color)||tn(0,0,0);try{o.drawText(f.text||"",{x:Math.max(this.margin,Math.min(g,l-this.margin-100)),y:Math.max(this.margin,p),size:v,font:r,color:y,maxWidth:l-2*this.margin})}catch(A){console.warn("Text rendering error:",A)}u-=v+5}else{const f=n.translatedText||"No translation available",g=this.wrapText(f,r,12,l-2*this.margin);for(const p of g){if(u<this.margin+20)break;o.drawText(p,{x:this.margin,y:u,size:12,font:r,color:tn(0,0,0)}),u-=18}}return o.drawText("Translated with Advanced Translation Studio",{x:this.margin,y:this.margin-20,size:8,font:r,color:tn(.5,.5,.5)}),o}async createWordMappingPage(t,e,n,r,s,a){const o=t.addPage([this.pageWidth,this.pageHeight]),{width:l,height:c}=o.getSize();o.drawText(`Word-to-Word Mapping - Page ${a}`,{x:this.margin,y:c-this.margin,size:16,font:r,color:tn(.8,.2,.2)}),o.drawLine({start:{x:this.margin,y:c-this.margin-25},end:{x:l-this.margin,y:c-this.margin-25},thickness:1,color:tn(.7,.7,.7)});let u=c-this.margin-50;const f=(l-2*this.margin)/3;if(o.drawText("Original",{x:this.margin,y:u,size:12,font:r,color:tn(0,0,0)}),o.drawText("Translation",{x:this.margin+f,y:u,size:12,font:r,color:tn(0,0,0)}),o.drawText("Confidence",{x:this.margin+2*f,y:u,size:12,font:r,color:tn(0,0,0)}),o.drawLine({start:{x:this.margin,y:u-5},end:{x:l-this.margin,y:u-5},thickness:1,color:tn(.3,.3,.3)}),u-=25,e.wordMappings&&e.wordMappings.length>0)for(const g of e.wordMappings){if(u<this.margin+30)break;o.drawText(g.original||"",{x:this.margin,y:u,size:10,font:n,color:tn(0,0,0),maxWidth:f-10}),o.drawText(g.translated||"",{x:this.margin+f,y:u,size:10,font:n,color:tn(0,0,.8),maxWidth:f-10});const p=Math.round((g.confidence||0)*100),v=p>80?tn(0,.6,0):p>60?tn(.8,.6,0):tn(.8,0,0);o.drawText(`${p}%`,{x:this.margin+2*f,y:u,size:10,font:s,color:v}),u-=15}return o.drawText(`Generated on ${new Date().toLocaleDateString()}`,{x:this.margin,y:this.margin-20,size:8,font:n,color:tn(.5,.5,.5)}),o}parseColor(t){if(!t)return null;if(t.startsWith("#")){const n=t.slice(1);if(n.length===6){const r=parseInt(n.slice(0,2),16)/255,s=parseInt(n.slice(2,4),16)/255,a=parseInt(n.slice(4,6),16)/255;return tn(r,s,a)}}const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(e){const n=parseInt(e[1])/255,r=parseInt(e[2])/255,s=parseInt(e[3])/255;return tn(n,r,s)}return tn(0,0,0)}wrapText(t,e,n,r){const s=t.split(" "),a=[];let o="";for(const l of s){const c=o?`${o} ${l}`:l;e.widthOfTextAtSize(c,n)<=r?o=c:o?(a.push(o),o=l):(a.push(l),o="")}return o&&a.push(o),a}async downloadPDF(t,e="translation-output.pdf"){const n=new Blob([t],{type:"application/pdf"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}}function j8(){const[i,t]=fe.useState(null),[e,n]=fe.useState(!1),[r,s]=fe.useState(0),[a,o]=fe.useState(""),[l,c]=fe.useState(null),[u,f]=fe.useState([]),[g,p]=fe.useState([]),[v,y]=fe.useState(!1),[A,w]=fe.useState(!1),[C,E]=fe.useState("upload"),[k,L]=fe.useState(null),R=fe.useRef(null),M=new NR,j=new FR,B=new B8;fe.useEffect(()=>()=>{M.cleanup&&M.cleanup()},[]);const X=async Z=>{const $=Z.target.files[0];if($&&$.type==="application/pdf"){t($),L(null),E("preview");try{const st=await M.isScannedPDF($);w(st),y(st)}catch(st){console.error("Error checking PDF type:",st),L("Could not analyze the PDF file.")}}else L("Please select a PDF file.")},D=Z=>Z.preventDefault(),z=Z=>{Z.preventDefault(),X({target:{files:Z.dataTransfer.files}})},U=async()=>{if(i){n(!0),s(0),o("Starting process..."),E("processing"),L(null);try{const Z=(q,I)=>{s(q),o(I)},$=v?await M.extractTextWithOCR(i,(q,I)=>Z(q*.5,I)):await M.extractTextFromPDF(i,(q,I)=>Z(q*.5,I));f($);const st=await j.translatePages($,(q,I)=>Z(50+q*.45,I));p(st),s(95),o("Generating statistics...");const rt=j.getTranslationStats?await j.getTranslationStats(st):{confidence:.95,medicalTerms:0},ot=j.exportWordMappings?j.exportWordMappings(st):[];c({originalPages:$.length,translatedPages:st.length,wordMappings:ot.length,preservedElements:$.reduce((q,I)=>q+(I.textItems?I.textItems.length:0),0),confidence:Math.round(rt.confidence*100),medicalTerms:rt.medicalTerms||0}),s(100),o("Translation complete!"),E("results")}catch(Z){console.error("Translation error:",Z),L(`Processing failed: ${Z.message}`),E("preview")}finally{n(!1)}}},Q=async()=>{if(!i||!g.length){L("No data to export.");return}n(!0),s(0),o("Generating final PDF..."),E("processing"),L(null);try{const Z=await B.generateTranslationPDF(i,u,g);s(90);const $=`translated-${i.name}`;if(B.downloadPDF)await B.downloadPDF(Z,$);else{const st=new Blob([Z],{type:"application/pdf"}),rt=URL.createObjectURL(st),ot=document.createElement("a");ot.href=rt,ot.download=$,ot.click(),URL.revokeObjectURL(rt)}s(100),o("PDF exported successfully!"),setTimeout(()=>{o(""),E("results")},2e3)}catch(Z){console.error("PDF export error:",Z),L(`PDF export failed: ${Z.message}`),E("results")}finally{n(!1)}},pt=()=>{t(null),c(null),f([]),p([]),L(null),E("upload")};return Ht.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[Ht.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm dark:bg-gray-900/80",children:Ht.jsx("div",{className:"container mx-auto px-4 py-4",children:Ht.jsxs("div",{className:"flex items-center justify-between",children:[Ht.jsxs("div",{className:"flex items-center space-x-3",children:[Ht.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg",children:Ht.jsx(i1,{className:"h-6 w-6 text-white"})}),Ht.jsxs("div",{children:[Ht.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Advanced Translation Studio"}),Ht.jsx("p",{className:"text-sm text-muted-foreground",children:"Professional PDF translation with layout preservation"})]})]}),Ht.jsxs(wT,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",children:[Ht.jsx(u3,{className:"h-3 w-3 mr-1"}),"Ready"]})]})})}),Ht.jsx("main",{className:"container mx-auto px-4 py-8",children:Ht.jsxs(ZT,{value:C,onValueChange:E,className:"w-full",children:[Ht.jsxs(JT,{className:"grid w-full grid-cols-4 mb-8",children:[Ht.jsxs(Zg,{value:"upload",className:"flex items-center space-x-2",children:[Ht.jsx(Qw,{className:"h-4 w-4"}),Ht.jsx("span",{children:"Upload"})]}),Ht.jsxs(Zg,{value:"preview",disabled:!i,className:"flex items-center space-x-2",children:[Ht.jsx(h3,{className:"h-4 w-4"}),Ht.jsx("span",{children:"Preview"})]}),Ht.jsxs(Zg,{value:"processing",disabled:!e&&!l,className:"flex items-center space-x-2",children:[Ht.jsx(i1,{className:"h-4 w-4"}),Ht.jsx("span",{children:"Processing"})]}),Ht.jsxs(Zg,{value:"results",disabled:!l,className:"flex items-center space-x-2",children:[Ht.jsx(Jw,{className:"h-4 w-4"}),Ht.jsx("span",{children:"Results"})]})]}),k&&Ht.jsx(wl,{className:"mb-4 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:Ht.jsx(Al,{className:"p-4",children:Ht.jsxs("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[Ht.jsx(c3,{className:"h-4 w-4"}),Ht.jsx("span",{className:"text-sm",children:k})]})})}),Ht.jsx(Jg,{value:"upload",children:Ht.jsx(wl,{className:"border-2 border-dashed",onDragOver:D,onDrop:z,children:Ht.jsxs(Al,{className:"p-12 text-center cursor-pointer",onClick:()=>R.current?.click(),children:[Ht.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:Ht.jsx(Qw,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),Ht.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Upload PDF Document"}),Ht.jsx("p",{className:"text-muted-foreground",children:"Drag and drop your file here, or click to browse"}),Ht.jsx("input",{ref:R,type:"file",accept:".pdf",onChange:X,className:"hidden"})]})})}),Ht.jsx(Jg,{value:"preview",children:Ht.jsxs(wl,{children:[Ht.jsxs(t1,{children:[Ht.jsx(e1,{children:"Document Preview"}),Ht.jsx(n1,{children:i?`File: ${i.name}`:"No file selected"})]}),Ht.jsx(Al,{children:i&&Ht.jsxs("div",{className:"space-y-4",children:[Ht.jsx(wl,{className:"bg-blue-50 dark:bg-blue-900/20",children:Ht.jsx(Al,{className:"p-4",children:Ht.jsxs("div",{className:"flex items-center justify-between",children:[Ht.jsxs("div",{className:"space-y-1",children:[Ht.jsx("div",{className:"font-medium",children:"OCR Processing"}),Ht.jsx("div",{className:"text-sm text-muted-foreground",children:A?"Scanned document detected - OCR recommended":"Text-based document - OCR optional"})]}),Ht.jsx(a3,{checked:v,onCheckedChange:y})]})})}),Ht.jsx("div",{className:"border rounded-lg p-4 min-h-[400px] flex items-center justify-center",children:Ht.jsx("p",{className:"text-muted-foreground",children:"PDF Preview would appear here"})}),Ht.jsx("div",{className:"flex justify-center",children:Ht.jsxs($v,{onClick:U,size:"lg",disabled:e,children:[Ht.jsx(i1,{className:"h-4 w-4 mr-2"}),e?"Processing...":"Start Translation"]})})]})})]})}),Ht.jsx(Jg,{value:"processing",children:Ht.jsxs(wl,{children:[Ht.jsxs(t1,{children:[Ht.jsx(e1,{children:"Translation in Progress"}),Ht.jsx(n1,{children:"Processing your document..."})]}),Ht.jsxs(Al,{className:"space-y-6 p-6",children:[Ht.jsxs("div",{className:"flex justify-between text-sm",children:[Ht.jsx("span",{children:a}),Ht.jsxs("span",{children:[Math.round(r),"%"]})]}),Ht.jsx(yT,{value:r,className:"h-2"})]})]})}),Ht.jsx(Jg,{value:"results",children:l&&Ht.jsxs(wl,{children:[Ht.jsxs(t1,{children:[Ht.jsx(e1,{children:"Translation Complete"}),Ht.jsx(n1,{children:"Your document has been successfully translated."})]}),Ht.jsxs(Al,{className:"space-y-6 p-6",children:[Ht.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Ht.jsx(wl,{children:Ht.jsxs(Al,{className:"p-4 text-center",children:[Ht.jsx("div",{className:"text-2xl font-bold",children:l.originalPages}),Ht.jsx("div",{className:"text-sm text-muted-foreground",children:"Original Pages"})]})}),Ht.jsx(wl,{children:Ht.jsxs(Al,{className:"p-4 text-center",children:[Ht.jsx("div",{className:"text-2xl font-bold",children:l.translatedPages}),Ht.jsx("div",{className:"text-sm text-muted-foreground",children:"Translated Pages"})]})}),Ht.jsx(wl,{children:Ht.jsxs(Al,{className:"p-4 text-center",children:[Ht.jsx("div",{className:"text-2xl font-bold",children:l.wordMappings}),Ht.jsx("div",{className:"text-sm text-muted-foreground",children:"Word Mappings"})]})}),Ht.jsx(wl,{children:Ht.jsxs(Al,{className:"p-4 text-center",children:[Ht.jsxs("div",{className:"text-2xl font-bold",children:[l.confidence,"%"]}),Ht.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"})]})})]}),Ht.jsxs("div",{className:"flex justify-center space-x-4 pt-4",children:[Ht.jsxs($v,{onClick:Q,size:"lg",disabled:e,children:[Ht.jsx(Jw,{className:"h-4 w-4 mr-2"}),e?"Exporting...":"Export PDF with Layout"]}),Ht.jsx($v,{variant:"outline",onClick:pt,children:"New Document"})]})]})]})})]})})]})}SP.createRoot(document.getElementById("root")).render(Ht.jsx(Ec.StrictMode,{children:Ht.jsx(j8,{})}));export{mr as _,U8 as c,Eb as g};
